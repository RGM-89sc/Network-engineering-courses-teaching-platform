(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5becbf4"],{"0a45":function(e,s,t){},"2d4b":function(e,s,t){},"355b":function(e,s,t){"use strict";t.r(s);var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"gray-bg"},[t("div",{staticClass:"header"},[t("span",{staticClass:"exercise-name"},[e._v(e._s(e.exerciseName))])]),t("div",{staticClass:"questions"},[e._l(e.choiceQuestions,(function(s,i){return t("Card",{key:s.id,staticClass:"question",attrs:{round:""}},[t("div",{staticClass:"question-info"},[e.checkedAnswer?t("span",{staticClass:"result-mark"},[t("md-icon",{directives:[{name:"show",rawName:"v-show",value:e.resultMark[s.id],expression:"resultMark[choiceQuestion.id]"}],attrs:{name:"success",color:"green"}}),t("md-icon",{directives:[{name:"show",rawName:"v-show",value:!e.resultMark[s.id],expression:"!resultMark[choiceQuestion.id]"}],attrs:{name:"fail",color:"red"}})],1):e._e(),t("span",{staticClass:"question-index"},[e._v("第"+e._s(i+1)+"题")]),t("span",{staticClass:"question-type"},[e._v("["+e._s("Exclusive"===s.questionType?"单选题":"多选题")+"]")]),e._v("：\n        "),t("span",{staticClass:"problem",class:{"red-font":e.checkedAnswer&&!e.resultMark[s.id]}},[e._v(e._s(s.problem))])]),t("div",{staticClass:"question-imgs"},e._l(s.detail.imgs,(function(e){return t("div",{key:e.name,staticClass:"question-img"},[t("a",{attrs:{href:e.url,target:"_blank"}},[t("img",{attrs:{src:e.url,alt:e.name}})])])})),0),"Exclusive"===s.questionType?t("div",{staticClass:"question-selections"},e._l(s.detail.selections,(function(i){return t("md-radio",{key:i.id,attrs:{name:i.id,label:i.content},model:{value:e.userAnswer[s.id],callback:function(t){e.$set(e.userAnswer,s.id,t)},expression:"userAnswer[choiceQuestion.id]"}})})),1):e._e(),"Multiple"===s.questionType?t("div",{staticClass:"question-selections"},[t("md-check-group",{model:{value:e.userAnswer[s.id],callback:function(t){e.$set(e.userAnswer,s.id,t)},expression:"userAnswer[choiceQuestion.id]"}},e._l(s.detail.selections,(function(e){return t("md-check",{key:e.id,attrs:{name:e.id,label:e.content}})})),1)],1):e._e(),e.checkedAnswer?t("div",{staticClass:"question-analyze"},[t("span",[e._v("[答案解析]："+e._s(s.detail.analyze?s.detail.analyze:"无"))])]):e._e()])})),t("div",{staticClass:"submit"},[t("md-button",{attrs:{type:"primary"},on:{click:e.checkAnswer}},[e._v("提 交")])],1)],2)])},a=[],n=(t("ac6a"),t("ae8d")),r={data:function(){return{courseID:"",exerciseID:"",exerciseName:"",choiceQuestions:[],userAnswer:{},rightAnswer:{},resultMark:{},checkedAnswer:!1,path:"/course/".concat(this.$route.params.course_id,"/excercise")}},created:function(){var e=this;this.courseID=this.$route.params.course_id,this.exerciseID=this.$route.query.id,this.exerciseID?this.getExercisePaper():this.$dialog.failed({title:"错误",content:"没有找到该作业！",confirmText:"确定",onConfirm:function(){e.$router.push({path:e.path})}})},methods:{getExercisePaper:function(){var e=this;this.$http.post("/api/getExercisePaper",{courseID:this.courseID,exerciseID:this.exerciseID}).then((function(s){1===s.data.code&&(e.exerciseName=s.data.data.exerciseName,e.choiceQuestions=s.data.data.choiceQuestions,e.extractRightAnswer()),-1===s.data.code&&(console.log(s.data.errMsg),e.$dialog.failed({title:"获取数据失败",content:"发生了错误导致获取数据失败",confirmText:"确定",onConfirm:function(){e.$router.push({path:e.path})}}))})).catch((function(s){console.log(s),e.$dialog.failed({title:"获取数据失败",content:"发生了错误导致获取数据失败",confirmText:"确定",onConfirm:function(){e.$router.push({path:e.path})}})}))},extractRightAnswer:function(){var e=this;this.choiceQuestions.forEach((function(s){var t=s.detail.selections,i=[];t.forEach((function(e){e.isAnswer&&i.push(e.id)})),e.rightAnswer[s.id]=i}))},checkAnswer:function(){var e=this;this.$dialog.confirm({title:"提示",content:"请确认是否提交",confirmText:"确定",onConfirm:function(){e.choiceQuestions.forEach((function(s){s.detail.selections;var t=!1,i=e.userAnswer[s.id],a=e.rightAnswer[s.id];i=Array.isArray(i)?i:[i],t=a.every((function(e){return-1!==i.indexOf(e)}))&&a.length===i.length,e.$set(e.resultMark,s.id,t)})),e.checkedAnswer=!0,window.scrollTo(0,0)}})}},components:{Card:n["a"]}},c=r,o=(t("b3aa"),t("2877")),u=Object(o["a"])(c,i,a,!1,null,"502e2760",null);s["default"]=u.exports},ae8d:function(e,s,t){"use strict";var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"card",class:{"is-always-shadow":"always"===e.shadow,"is-hover-shadow":"hover"===e.shadow,border:e.border,round:e.round}},[e._t("default")],2)},a=[],n={props:{border:{type:Boolean,default:!1},round:{type:Boolean,default:!1},shadow:{type:String,default:"never"}}},r=n,c=(t("b86e"),t("2877")),o=Object(c["a"])(r,i,a,!1,null,"68c27dfd",null);s["a"]=o.exports},b3aa:function(e,s,t){"use strict";var i=t("0a45"),a=t.n(i);a.a},b86e:function(e,s,t){"use strict";var i=t("2d4b"),a=t.n(i);a.a}}]);
//# sourceMappingURL=chunk-f5becbf4.35771a13.js.map