{"version":3,"sources":["webpack:///./src/views/childrenViews/MyCourseDetail.vue?891f","webpack:///./src/components/TchCourseDetail.vue?a2d2","webpack:///src/components/TchCourseDetail.vue","webpack:///./src/components/TchCourseDetail.vue?da65","webpack:///./src/components/TchCourseDetail.vue","webpack:///./src/components/StuCourseDetail.vue?3a42","webpack:///src/components/StuCourseDetail.vue","webpack:///./src/components/StuCourseDetail.vue?edba","webpack:///./src/components/StuCourseDetail.vue","webpack:///src/views/childrenViews/MyCourseDetail.vue","webpack:///./src/views/childrenViews/MyCourseDetail.vue?f19e","webpack:///./src/views/childrenViews/MyCourseDetail.vue","webpack:///./src/components/StuCourseDetail.vue?4f45","webpack:///./src/components/TchCourseDetail.vue?8d68"],"names":["render","_vm","this","_h","$createElement","_c","_self","user","userType","attrs","courseID","on","changeCourseComponentHandler","_e","staticRenderFns","staticClass","$event","$emit","from","to","_v","_s","courseName","directives","name","rawName","value","expression","staticStyle","stus","scopedSlots","_u","key","fn","scope","checkStuExamResult","row","currentStuID","currentStuName","checkingStuExamReslt","currentStuExams","resetStuExam","examID","data","loadingStusData","courseExams","props","type","Object","default","String","created","getCourseStusAndExams","methods","stu","id","username","forEach","exams","some","e","exam","score","examScore","examName","$confirm","component","loadingData","getMyCourseExams","userProvider","student","route","components","TchCourseDetail","StuCourseDetail"],"mappings":"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","file":"js/chunk-8bcc393c.7827ff27.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.user && _vm.user.userType === 1)?_c('TchCourseDetail',{attrs:{\"user\":_vm.user,\"courseID\":_vm.courseID},on:{\"changeCourseComponent\":_vm.changeCourseComponentHandler}}):_vm._e(),(_vm.user && _vm.user.userType === 0)?_c('StuCourseDetail',{attrs:{\"user\":_vm.user,\"course\":_vm.courseID},on:{\"changeCourseComponent\":_vm.changeCourseComponentHandler}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticClass:\"header\"},[_c('span',[_c('i',{staticClass:\"el-icon-arrow-left icon\",attrs:{\"title\":\"返回\"},on:{\"click\":function($event){return _vm.$emit('changeCourseComponent', {\n            from: 'myCourseDetail',\n            to: 'myCourses'\n          })}}}),_vm._v(\"\\n      统计信息 - \"+_vm._s(_vm.courseName)+\"\\n    \")])]),_c('el-row',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingStusData),expression:\"loadingStusData\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.stus,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":1}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"学号\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\"}}),_c('el-table-column',{attrs:{\"label\":\"考试成绩\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.checkStuExamResult(scope.row)}}},[_vm._v(\"查看该生所有考试成绩\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.currentStuID + ' - ' + _vm.currentStuName,\"visible\":_vm.checkingStuExamReslt},on:{\"update:visible\":function($event){_vm.checkingStuExamReslt=$event}}},[_c('el-table',{attrs:{\"data\":_vm.currentStuExams}},[_c('el-table-column',{attrs:{\"property\":\"examName\",\"label\":\"试卷\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"property\":\"examScore\",\"label\":\"成绩\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.resetStuExam(scope.row.examID)}}},[_vm._v(\"重置成绩\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-row class=\"header\">\r\n      <span>\r\n        <i\r\n          class=\"el-icon-arrow-left icon\"\r\n          title=\"返回\"\r\n          @click=\"\r\n            $emit('changeCourseComponent', {\r\n              from: 'myCourseDetail',\r\n              to: 'myCourses'\r\n            })\r\n          \"\r\n        ></i>\r\n        统计信息 - {{ courseName }}\r\n      </span>\r\n    </el-row>\r\n    <el-row>\r\n      <el-table\r\n        :data=\"stus\"\r\n        border\r\n        style=\"width: 100%\"\r\n        v-loading=\"loadingStusData\"\r\n      >\r\n        <el-table-column type=\"index\" :index=\"1\"></el-table-column>\r\n        <el-table-column prop=\"id\" label=\"学号\"></el-table-column>\r\n        <el-table-column prop=\"username\" label=\"姓名\"></el-table-column>\r\n        <el-table-column label=\"考试成绩\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"checkStuExamResult(scope.row)\"\r\n              >查看该生所有考试成绩</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-row>\r\n    <el-dialog\r\n      :title=\"currentStuID + ' - ' + currentStuName\"\r\n      :visible.sync=\"checkingStuExamReslt\"\r\n    >\r\n      <el-table :data=\"currentStuExams\">\r\n        <el-table-column\r\n          property=\"examName\"\r\n          label=\"试卷\"\r\n          width=\"150\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          property=\"examScore\"\r\n          label=\"成绩\"\r\n          width=\"200\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"danger\"\r\n              size=\"mini\"\r\n              @click=\"resetStuExam(scope.row.examID)\"\r\n              >重置成绩</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { CoursesProvider, UserProvider } from '../provider/index'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loadingStusData: true,\r\n      courseName: '',\r\n      courseExams: [],\r\n      stus: [],\r\n      checkingStuExamReslt: false,\r\n      currentStuID: '',\r\n      currentStuName: '',\r\n      currentStuExams: []\r\n    };\r\n  },\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    courseID: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getCourseStusAndExams();\r\n  },\r\n  methods: {\r\n    getCourseStusAndExams() {\r\n      CoursesProvider.getCourseStusAndExams({ courseID: this.courseID })\r\n        .then(res => {\r\n          if (res.data.code === 1) {\r\n            this.courseExams = res.data.data.exams;\r\n            this.courseName = res.data.data.course.coursename;\r\n            \r\n            res.data.data.course.stus.forEach(stu => {\r\n              let progress, exams;\r\n              stu.study.some(course => {\r\n                if (course.courseID === this.courseID) {\r\n                  progress = course.progress;\r\n                  exams = course.exams;\r\n                  return true;\r\n                }\r\n                return false;\r\n              });\r\n              this.stus.push({\r\n                id: stu.id,\r\n                username: stu.username,\r\n                progress,\r\n                exams\r\n              });\r\n            });\r\n            this.loadingStusData = false;\r\n          }\r\n          if (res.data.code === -1) {\r\n            this.$message.error('加载失败');\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.$message.error('加载失败');\r\n        });\r\n    },\r\n    checkStuExamResult(stu) {\r\n      this.currentStuID = stu.id;\r\n      this.currentStuName = stu.username;\r\n      this.currentStuExams = [];\r\n      this.courseExams.forEach(exam => {\r\n        let score = '-';\r\n        stu.exams.some(e => {\r\n          if (e.examID === exam.examID) {\r\n            score = e.examScore;\r\n            return true;\r\n          }\r\n          return false;\r\n        });\r\n        this.currentStuExams.push({\r\n          examID: exam.examID,\r\n          examName: exam.examName,\r\n          examScore: score\r\n        });\r\n      });\r\n      this.checkingStuExamReslt = true;\r\n    },\r\n    resetStuExam(examID) {\r\n      this.$confirm(\r\n        '将把该生的该考试成绩重置并不可撤销，学生需重新考试, 是否继续?',\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      )\r\n        .then(() => {\r\n          let isScoreNull = false;\r\n          this.currentStuExams.some(e => {\r\n            if (e.examID === examID) {\r\n              if (e.examScore === '-') {\r\n                isScoreNull = true;\r\n              }\r\n              return true;\r\n            }\r\n            return false;\r\n          });\r\n          if (isScoreNull) {\r\n            this.$message('该生未参与该考试，无需重置');\r\n            return null;\r\n          }\r\n          UserProvider.teacher.resetStuExamScore({\r\n            stuID: this.currentStuID,\r\n            courseID: this.courseID,\r\n            examID\r\n          })\r\n            .then(res => {\r\n              if (res.data.code === 1) {\r\n                this.currentStuExams.some((e, index) => {\r\n                  if (e.examID === examID) {\r\n                    this.currentStuExams[index].examScore = '-';\r\n                    return true;\r\n                  }\r\n                  return false;\r\n                });\r\n                let stuIndex, examIndex;\r\n                this.stus.some((stu, index) => {\r\n                  if (stu.id === this.currentStuID) {\r\n                    stuIndex = index;\r\n                    return true;\r\n                  }\r\n                  return false;\r\n                });\r\n                this.stus[stuIndex].exams.some((e, index) => {\r\n                  if (e.examID === examID) {\r\n                    examIndex = index;\r\n                    return true;\r\n                  }\r\n                  return false;\r\n                });\r\n                this.stus[stuIndex].exams[examIndex].examScore = '-';\r\n                this.$message({\r\n                  message: '重置成功',\r\n                  type: 'success'\r\n                });\r\n              }\r\n              if (res.data.code === -1) {\r\n                console.log(res.errMsg);\r\n                this.$message.error('发生错误，操作失败');\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n              this.$message.error('发生错误，操作失败');\r\n            });\r\n        })\r\n        .catch(err => {});\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  margin-bottom: 20px;\r\n\r\n  .icon {\r\n    margin-right: 10px;\r\n    padding: 5px;\r\n    font-weight: bold;\r\n    color: #409eff;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      background-color: rgb(250, 250, 250);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TchCourseDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TchCourseDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TchCourseDetail.vue?vue&type=template&id=6ee8dc7c&scoped=true&\"\nimport script from \"./TchCourseDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./TchCourseDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TchCourseDetail.vue?vue&type=style&index=0&id=6ee8dc7c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ee8dc7c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticClass:\"header\"},[_c('span',[_c('i',{staticClass:\"el-icon-arrow-left icon\",attrs:{\"title\":\"返回\"},on:{\"click\":function($event){return _vm.$emit('changeCourseComponent', {\n            from: 'myCourseDetail',\n            to: 'myCourses'\n          })}}}),_vm._v(\"\\n      统计信息 - \"+_vm._s(_vm.courseName)+\"\\n    \")])]),_c('el-row',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingData),expression:\"loadingData\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.courseExams,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"examName\",\"label\":\"试卷\"}}),_c('el-table-column',{attrs:{\"prop\":\"examScore\",\"label\":\"成绩\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-row class=\"header\">\r\n      <span>\r\n        <i\r\n          class=\"el-icon-arrow-left icon\"\r\n          title=\"返回\"\r\n          @click=\"\r\n            $emit('changeCourseComponent', {\r\n              from: 'myCourseDetail',\r\n              to: 'myCourses'\r\n            })\r\n          \"\r\n        ></i>\r\n        统计信息 - {{ courseName }}\r\n      </span>\r\n    </el-row>\r\n    <el-row>\r\n      <el-table\r\n        :data=\"courseExams\"\r\n        border\r\n        style=\"width: 100%\"\r\n        v-loading=\"loadingData\"\r\n      >\r\n        <el-table-column prop=\"examName\" label=\"试卷\"></el-table-column>\r\n        <el-table-column prop=\"examScore\" label=\"成绩\"></el-table-column>\r\n      </el-table>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { UserProvider } from '../provider/index'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loadingData: true,\r\n      courseName: '',\r\n      courseExams: []\r\n    };\r\n  },\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    courseID: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getMyCourseExams();\r\n  },\r\n  methods: {\r\n    getMyCourseExams() {\r\n      userProvider.student.getMyCourseExams({ courseID: this.courseID })\r\n        .then(res => {\r\n          if (res.data.code === 1) {\r\n            this.courseName = res.data.course.coursename;\r\n            res.data.exams.forEach(exam => {\r\n              let score = '-';\r\n              res.data.stu.exams.some(e => {\r\n                if (e.examID === exam.examID) {\r\n                  score = e.examScore;\r\n                  return true;\r\n                }\r\n                return false;\r\n              });\r\n              this.courseExams.push({\r\n                examName: exam.examName,\r\n                examScore: score\r\n              });\r\n            });\r\n            this.loadingData = false;\r\n          }\r\n          if (res.data.code === -1) {\r\n            console.log(res.errMsg);\r\n            this.$message.error('加载失败');\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.$message.error('加载失败');\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  margin-bottom: 20px;\r\n\r\n  .icon {\r\n    margin-right: 10px;\r\n    padding: 5px;\r\n    font-weight: bold;\r\n    color: #409eff;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      background-color: rgb(250, 250, 250);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StuCourseDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StuCourseDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StuCourseDetail.vue?vue&type=template&id=2aaae194&scoped=true&\"\nimport script from \"./StuCourseDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./StuCourseDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StuCourseDetail.vue?vue&type=style&index=0&id=2aaae194&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2aaae194\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <TchCourseDetail\r\n      :user=\"user\"\r\n      v-if=\"user && user.userType === 1\"\r\n      @changeCourseComponent=\"changeCourseComponentHandler\"\r\n      :courseID=\"courseID\"\r\n    ></TchCourseDetail>\r\n    <StuCourseDetail\r\n      :user=\"user\"\r\n      v-if=\"user && user.userType === 0\"\r\n      @changeCourseComponent=\"changeCourseComponentHandler\"\r\n      :course=\"courseID\"\r\n    ></StuCourseDetail>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TchCourseDetail from '../../components/TchCourseDetail';\r\nimport StuCourseDetail from '../../components/StuCourseDetail';\r\n\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    courseID: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  methods: {\r\n    changeCourseComponentHandler(route) {\r\n      this.$emit('changeCourseComponent', route);\r\n    }\r\n  },\r\n  components: {\r\n    TchCourseDetail,\r\n    StuCourseDetail\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCourseDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCourseDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyCourseDetail.vue?vue&type=template&id=3c3f50ea&scoped=true&\"\nimport script from \"./MyCourseDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./MyCourseDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c3f50ea\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StuCourseDetail.vue?vue&type=style&index=0&id=2aaae194&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StuCourseDetail.vue?vue&type=style&index=0&id=2aaae194&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TchCourseDetail.vue?vue&type=style&index=0&id=6ee8dc7c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TchCourseDetail.vue?vue&type=style&index=0&id=6ee8dc7c&lang=scss&scoped=true&\""],"sourceRoot":""}