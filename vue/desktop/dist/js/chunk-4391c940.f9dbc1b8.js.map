{"version":3,"sources":["webpack:///./src/components/ckeditor5/ckeditor5-media-embed/theme/icons/media.svg","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/theme/icons/media-placeholder.svg","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./src/views/childrenViews/courseViews/EditCourse.vue?46a8","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/converters.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/utils.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/mediaembedcommand.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/ckeditorerror.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/log.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/mediaregistry.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/mediaembedediting.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/node.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/text.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/textproxy.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/nodelist.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/element.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/treewalker.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/position.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/range.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/liverange.js","webpack:///./node_modules/@ckeditor/ckeditor5-engine/src/model/liveposition.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/automediaembed.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/ui/mediaformview.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/mediaembedui.js","webpack:///./src/components/ckeditor5/ckeditor5-media-embed/src/mediaembed.js","webpack:///src/views/childrenViews/courseViews/EditCourse.vue","webpack:///./src/views/childrenViews/courseViews/EditCourse.vue?890b","webpack:///./src/views/childrenViews/courseViews/EditCourse.vue","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./src/views/childrenViews/courseViews/EditCourse.vue?4d8e"],"names":["module","exports","byteToHex","i","toString","substr","bytesToUuid","buf","offset","bth","join","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","slot","_v","_s","partInfo","title","editor","editorConfig","model","value","callback","$$v","editorData","expression","staticStyle","partInfoRules","$set","on","updatePart","ref","$serverBaseUrl","courseID","$route","query","id","chapter","c","part","p","uploadVideo","videoes","delVideo","checkVideoUrl","uploadVideoScuessDialogVis","$event","uploadVideoScuessUrl","uploadVideoScuessName","copyUploadVideoScuessUrl","staticRenderFns","modelToViewUrlAttributeConverter","registry","options","dispatcher","converter","evt","data","conversionApi","consumable","consume","item","name","url","attributeNewValue","viewWriter","writer","figure","mapper","toViewElement","remove","createRangeIn","mediaViewElement","getMediaViewElement","insert","createPositionAt","toMediaWidget","viewElement","label","setCustomProperty","createMediaFigureElement","createContainerElement","class","getFillerOffset","getSelectedMediaModelWidget","selection","selectedElement","getSelectedElement","is","insertMedia","insertPosition","change","mediaElement","createElement","insertContent","setSelection","_Command","MediaEmbedCommand","apply","arguments","key","document","schema","position","getFirstPosition","selectedMedia","parent","root","getAttribute","isEnabled","checkChild","setAttribute","DOCUMENTATION_URL","Error","attachLinkToDocumentation","message","matchedErrorName","match","concat","log","error","console","warn","mediaPlaceholderIconViewBox","MediaRegistry","locale","config","providers","extraProviders","removedProviders","Set","removeProviders","providerDefinitions","filter","provider","has","_getMedia","getViewElement","trim","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","definition","previewRenderer","html","pattern","Array","isArray","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","subPattern","_getUrlMatches","err","return","rawUrl","replace","Media","_getValidUrl","_t","t","_match","_previewRenderer","attributes","renderForEditingView","renderMediaPreview","mediaHtml","_getPreviewHtml","createUIElement","domDocument","domElement","toDomElement","innerHTML","createEmptyElement","_getPlaceholderHtml","tooltip","icon","text","content","viewBox","placeholder","tag","children","target","href","render","outerHTML","_Plugin","MediaEmbedEditing","_this","call","define","get","conversion","commands","add","register","isObject","isBlock","allowWhere","allowAttributes","for","elementToElement","view","modelElement","viewMedia","modelWriter","hasMedia","Node","_attrs","path","node","unshift","startOffset","length","includeSelf","parentFirst","ancestors","ancestorsA","getAncestors","ancestorsB","thisPath","getPath","nodePath","result","isBefore","entries","keys","json","size","from","reduce","attr","type","_removeChildren","index","set","delete","clear","pos","getChildIndex","getChildStartOffset","offsetSize","getChild","_Node","Text","_data","prototype","getAttributes","TextProxy","textNode","offsetInText","substring","hasAttribute","getAttributeKeys","NodeList","nodes","_nodes","_insertNodes","indexOf","getNodeIndex","slice","sum","maxOffset","getNodeStartOffset","totalOffset","nodeList","_this$_nodes","splice","indexStart","howMany","map","toJSON","Element","_children","_insertChild","cutType","getNode","offsetToIndex","relativePath","push","deep","_clone","childCount","items","normalize","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_remove","_removeNodes","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","child","fromJSON","TreeWalker","boundaries","startPosition","direction","clone","_createAt","stickiness","singleCharacters","shallow","ignoreElementEnd","_boundaryStartParent","start","_boundaryEndParent","end","_visitedParent","_skip","prevPosition","prevVisitedParent","_this$next","_next","_previous","previousPosition","nodeAfter","formatReturnValue","charactersCount","endOffset","offsetInTextNode","pop","nodeBefore","nextPosition","Position","otherPosition","skip","treeWalker","cmp","diffAt","Math","min","shift","shifted","compareWith","left","right","compare","leftParent","isEqual","thisParentPath","getParentPath","posParentPath","operation","_getTransformedByInsertOperation","_getTransformedByMoveOperation","_getTransformedBySplitOperation","_getTransformedByMergeOperation","_getTransformedByInsertion","_getTransformedByMove","sourcePosition","targetPosition","movedRange","isContained","containsPosition","_getCombined","splitPosition","moveTargetPosition","graveyardPosition","insertionPosition","_getTransformedByDeletion","deletionPosition","deletePosition","transformed","isMoved","getShiftedBy","source","combined","constructor","last","newOffset","itemOrPosition","_createBefore","_createAfter","doc","graveyard","getRoot","rootName","Range","isCollapsed","regeneratorRuntime","mark","wrap","_context","prev","delegateYield","stop","isAfter","otherRange","loose","containsStart","containsEnd","ranges","isIntersecting","commonRangeStart","commonRangeEnd","getCommonPath","posParent","_howMany","getItems","_value","_args2","_context2","t0","finish","getPositions","_value2","_args3","_context3","operations","_i","getTransformedByOperation","range","j","containsRange","getCommonAncestor","spread","newPos","moveRange","_createFromPositionAndShift","differenceSet","getDifference","difference","common","getIntersection","transformedCommon","newStart","newEnd","startParentPath","endParentPath","element","sort","a","b","refIndex","_i2","_Range","LiveRange","bindWithDocument","stopListening","_this2","listenTo","event","args","isDocumentOperation","transform","priority","_createFromRanges","boundariesChanged","contentChanged","doesOperationChangeRangeContent","oldRange","toRange","fire","mix","_Position","LivePosition","oldPosition","toPosition","URL_REGEXP","AutoMediaEmbed","_timeoutId","_positionToInsert","modelDocument","plugins","firstRange","getFirstRange","leftLivePosition","fromPosition","rightLivePosition","once","_embedMediaBetweenPositions","detach","global","window","clearTimeout","leftPosition","rightPosition","_this3","mediaRegistry","urlRange","walker","getWalker","mediaEmbedCommand","setTimeout","_View","MediaFormView","validators","focusTracker","keystrokes","urlInputView","_createUrlInput","saveButtonView","_createButton","cancelButtonView","_focusables","_focusCycler","focusables","keystrokeHandler","actions","focusPrevious","focusNext","_validators","setTemplate","tabindex","childViews","forEach","v","stopPropagation","domEvt","focusFirst","resetFormStatus","validator","errorText","infoText","_urlInputViewInfoDefault","labeledInput","inputView","_urlInputViewInfoTip","className","eventName","button","extendTemplate","delegate","to","MediaEmbedUI","command","form","getFormValidators","ui","componentFactory","dropdown","_setUpDropdown","_setUpForm","buttonView","closeUI","editing","focus","isOpen","bind","panelView","select","isValid","execute","MediaEmbed","tchID","toolbar","ckfinder","uploadUrl","resourceType","props","user","Object","default","created","parseInt","getPartDetail","methods","encodeFilename","filename","decodeFilename","$confirm","confirmButtonText","cancelButtonText","file","input","execCommand","$message","handleUpload","res","code","$alert","handleUploadError","append","hash","axiosArray","$http","all","then","total","blockCount","ext","component","_nodeId","_clockseq","rng","_lastMSecs","_lastNSecs","v1","clockseq","seedBytes","msecs","Date","getTime","nsecs","dt","tl","tmh","n","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rnds","r","random"],"mappings":"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","file":"js/chunk-4391c940.f9dbc1b8.js","sourcesContent":["module.exports = \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V6.676z\\\"/></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 64 42\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z\\\"/></svg>\\r\\n\"","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"type\":\"flex\",\"gutter\":20}},[_c('el-col',{attrs:{\"span\":17}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(this.partInfo.title))])]),_c('ckeditor',{attrs:{\"editor\":_vm.editor,\"config\":_vm.editorConfig},model:{value:(_vm.editorData),callback:function ($$v) {_vm.editorData=$$v},expression:\"editorData\"}})],1)],1),_c('el-col',{attrs:{\"span\":7}},[_c('el-card',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-form',{attrs:{\"label-position\":\"top\",\"label-width\":\"80px\",\"model\":_vm.partInfo,\"status-icon\":\"\",\"rules\":_vm.partInfoRules}},[_c('el-form-item',{staticClass:\"form-item\",attrs:{\"label\":\"标题：\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入标题\"},model:{value:(_vm.partInfo.title),callback:function ($$v) {_vm.$set(_vm.partInfo, \"title\", $$v)},expression:\"partInfo.title\"}})],1),_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updatePart}},[_vm._v(\"发布/更新\")])],1)],1),_c('el-card',[_c('el-upload',{ref:\"upload\",attrs:{\"accept\":\".mp4\",\"action\":_vm.$serverBaseUrl + '/api/uploadCourseVideoChunks',\"data\":{\n            courseID: _vm.$route.query.id,\n            chapter: _vm.$route.query.c,\n            part: _vm.$route.query.p\n          },\"http-request\":_vm.uploadVideo,\"with-credentials\":true,\"file-list\":_vm.videoes,\"on-remove\":_vm.delVideo,\"on-preview\":_vm.checkVideoUrl}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传视频\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_c('p',[_vm._v(\"请注意：\")]),_c('p',[_vm._v(\"1、如需插入视频，请先在此上传所需视频再使用视频地址插入\")]),_c('p',[_vm._v(\"2、只能上传mp4文件\")])])],1)],1),_c('el-dialog',{attrs:{\"title\":\"上传成功\",\"visible\":_vm.uploadVideoScuessDialogVis,\"width\":\"30%\",\"before-close\":function () { return false; },\"show-close\":false},on:{\"update:visible\":function($event){_vm.uploadVideoScuessDialogVis=$event}}},[_c('p',[_vm._v(\"视频上传成功！视频地址：\")]),_c('el-input',{attrs:{\"id\":\"uploaded-video-url\"},model:{value:(_vm.uploadVideoScuessUrl[_vm.uploadVideoScuessName]),callback:function ($$v) {_vm.$set(_vm.uploadVideoScuessUrl, _vm.uploadVideoScuessName, $$v)},expression:\"uploadVideoScuessUrl[uploadVideoScuessName]\"}}),_c('p',[_vm._v(\"您也可以点击该视频查看视频地址\")]),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"plain\":\"\"},on:{\"click\":function($event){_vm.uploadVideoScuessDialogVis = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.copyUploadVideoScuessUrl}},[_vm._v(\"复制地址\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import \"core-js/modules/es6.function.name\";\n\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n\n/**\r\n * @module media-embed/converters\r\n */\n\n/**\r\n * Returns a function that converts the model \"url\" attribute to the view representation.\r\n *\r\n * Depending on the configuration, the view representation can be \"semantic\" (for the data pipeline):\r\n *\r\n *\t\t<figure class=\"media\">\r\n *\t\t\t<oembed url=\"foo\"></oembed>\r\n *\t\t</figure>\r\n *\r\n * or \"non-semantic\" (for the editing view pipeline):\r\n *\r\n *\t\t<figure class=\"media\">\r\n *\t\t\t<div data-oembed-url=\"foo\">[ non-semantic media preview for \"foo\" ]</div>\r\n *\t\t</figure>\r\n *\r\n * **Note:** Changing the model \"url\" attribute replaces the entire content of the\r\n * `<figure>` in the view.\r\n *\r\n * @param {module:media-embed/mediaregistry~MediaRegistry} registry The registry providing\r\n * the media and their content.\r\n * @param {Object} options\r\n * @param {String} [options.renderMediaPreview] When `true`, the converter will create the view in the non-semantic form.\r\n * @param {String} [options.renderForEditingView] When `true`, the converter will create a view specific for the\r\n * editing pipeline (e.g. including CSS classes, content placeholders).\r\n * @returns {Function}\r\n */\nexport function modelToViewUrlAttributeConverter(registry, options) {\n  return function (dispatcher) {\n    dispatcher.on('attribute:url:media', converter);\n  };\n\n  function converter(evt, data, conversionApi) {\n    if (!conversionApi.consumable.consume(data.item, evt.name)) {\n      return;\n    }\n\n    var url = data.attributeNewValue;\n    var viewWriter = conversionApi.writer;\n    var figure = conversionApi.mapper.toViewElement(data.item); // TODO: removing it and creating it from scratch is a hack. We can do better than that.\n\n    viewWriter.remove(viewWriter.createRangeIn(figure));\n    var mediaViewElement = registry.getMediaViewElement(viewWriter, url, options);\n    viewWriter.insert(viewWriter.createPositionAt(figure, 0), mediaViewElement);\n  }\n}","/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n\n/**\r\n * @module media-embed/utils\r\n */\nimport { isWidget, toWidget } from '@ckeditor/ckeditor5-widget/src/utils';\n/**\r\n * Converts a given {@link module:engine/view/element~Element} to a media embed widget:\r\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to recognize the media widget element.\r\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\r\n *\r\n * @param {module:engine/view/element~Element} viewElement\r\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer An instance of the view writer.\r\n * @param {String} label The element's label.\r\n * @returns {module:engine/view/element~Element}\r\n */\n\nexport function toMediaWidget(viewElement, writer, label) {\n  writer.setCustomProperty('media', true, viewElement);\n  return toWidget(viewElement, writer, {\n    label: label\n  });\n}\n/**\r\n * Returns a media widget editing view element if one is selected.\r\n *\r\n * @param {module:engine/view/selection~Selection|module:engine/view/documentselection~DocumentSelection} selection\r\n * @returns {module:engine/view/element~Element|null}\r\n */\n\nexport function getSelectedMediaViewWidget(selection) {\n  var viewElement = selection.getSelectedElement();\n\n  if (viewElement && isMediaWidget(viewElement)) {\n    return viewElement;\n  }\n\n  return null;\n}\n/**\r\n * Checks if a given view element is a media widget.\r\n *\r\n * @param {module:engine/view/element~Element} viewElement\r\n * @returns {Boolean}\r\n */\n\nexport function isMediaWidget(viewElement) {\n  return !!viewElement.getCustomProperty('media') && isWidget(viewElement);\n}\n/**\r\n * Creates a view element representing the media. Either \"semantic\" one for the data pipeline:\r\n *\r\n *\t\t<figure class=\"media\">\r\n *\t\t\t<oembed url=\"foo\"></oembed>\r\n *\t\t</figure>\r\n *\r\n * or \"non-semantic\" (for the editing view pipeline):\r\n *\r\n *\t\t<figure class=\"media\">\r\n *\t\t\t<div data-oembed-url=\"foo\">[ non-semantic media preview for \"foo\" ]</div>\r\n *\t\t</figure>\r\n *\r\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\r\n * @param {module:media-embed/mediaregistry~MediaRegistry} registry\r\n * @param {String} url\r\n * @param {Object} options\r\n * @param {String} [options.useSemanticWrapper]\r\n * @param {String} [options.renderForEditingView]\r\n * @returns {module:engine/view/containerelement~ContainerElement}\r\n */\n\nexport function createMediaFigureElement(writer, registry, url, options) {\n  var figure = writer.createContainerElement('figure', {\n    class: 'media'\n  }); // TODO: This is a hack. Without it, the figure in the data pipeline will contain &nbsp; because\n  // its only child is the UIElement (wrapper).\n  //\n  // Note: The hack is a copy&paste from widget utils; it makes the figure act like it's a widget.\n\n  figure.getFillerOffset = getFillerOffset;\n  writer.insert(writer.createPositionAt(figure, 0), registry.getMediaViewElement(writer, url, options));\n  return figure;\n}\n/**\r\n * Returns a selected media element in the model, if any.\r\n *\r\n * @param {module:engine/model/selection~Selection} selection\r\n * @returns {module:engine/model/element~Element|null}\r\n */\n\nexport function getSelectedMediaModelWidget(selection) {\n  var selectedElement = selection.getSelectedElement();\n\n  if (selectedElement && selectedElement.is('media')) {\n    return selectedElement;\n  }\n\n  return null;\n}\n/**\r\n * Creates a media element and inserts it into the model.\r\n *\r\n * **Note**: This method will use {@link module:engine/model/model~Model#insertContent `model.insertContent()`} logic of inserting content\r\n * if no `insertPosition` is passed.\r\n *\r\n * @param {module:engine/model/model~Model} model\r\n * @param {String} url An URL of an embeddable media.\r\n * @param {module:engine/model/position~Position} [insertPosition] Position to insert media. If not specified,\r\n * the default behavior of {@link module:engine/model/model~Model#insertContent `model.insertContent()`} will\r\n * be applied.\r\n */\n\nexport function insertMedia(model, url, insertPosition) {\n  model.change(function (writer) {\n    var mediaElement = writer.createElement('media', {\n      url: url\n    });\n    model.insertContent(mediaElement, insertPosition);\n    writer.setSelection(mediaElement, 'on');\n  });\n}\n\nfunction getFillerOffset() {\n  return null;\n}","import _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n\n/**\r\n * @module media-embed/mediaembedcommand\r\n */\nimport Command from '@ckeditor/ckeditor5-core/src/command';\nimport { findOptimalInsertionPosition } from '@ckeditor/ckeditor5-widget/src/utils';\nimport { getSelectedMediaModelWidget, insertMedia } from \"./utils\";\n/**\r\n * The insert media command.\r\n *\r\n * The command is registered by the {@link module:media-embed/mediaembedediting~MediaEmbedEditing} as `'mediaEmbed'`.\r\n *\r\n * To insert media at the current selection, execute the command and specify the URL:\r\n *\r\n *\t\teditor.execute( 'mediaEmbed', 'http://url.to.the/media' );\r\n *\r\n * @extends module:core/command~Command\r\n */\n\nvar MediaEmbedCommand =\n/*#__PURE__*/\nfunction (_Command) {\n  _inherits(MediaEmbedCommand, _Command);\n\n  function MediaEmbedCommand() {\n    _classCallCheck(this, MediaEmbedCommand);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MediaEmbedCommand).apply(this, arguments));\n  }\n\n  _createClass(MediaEmbedCommand, [{\n    key: \"refresh\",\n\n    /**\r\n     * @inheritDoc\r\n     */\n    value: function refresh() {\n      var model = this.editor.model;\n      var selection = model.document.selection;\n      var schema = model.schema;\n      var position = selection.getFirstPosition();\n      var selectedMedia = getSelectedMediaModelWidget(selection);\n      var parent = position.parent;\n\n      if (parent != parent.root) {\n        parent = parent.parent;\n      }\n\n      this.value = selectedMedia ? selectedMedia.getAttribute('url') : null;\n      this.isEnabled = schema.checkChild(parent, 'media');\n    }\n    /**\r\n     * Executes the command, which either:\r\n     *\r\n     * * updates the URL of the selected media,\r\n     * * inserts the new media into the editor and puts the selection around it.\r\n     *\r\n     * @fires execute\r\n     * @param {String} url The URL of the media.\r\n     */\n\n  }, {\n    key: \"execute\",\n    value: function execute(url) {\n      var model = this.editor.model;\n      var selection = model.document.selection;\n      var selectedMedia = getSelectedMediaModelWidget(selection);\n\n      if (selectedMedia) {\n        model.change(function (writer) {\n          writer.setAttribute('url', url, selectedMedia);\n        });\n      } else {\n        var insertPosition = findOptimalInsertionPosition(selection, model);\n        insertMedia(model, url, insertPosition);\n      }\n    }\n  }]);\n\n  return MediaEmbedCommand;\n}(Command);\n\nexport { MediaEmbedCommand as default };","import \"core-js/modules/es6.regexp.match\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\nimport _wrapNativeSuper from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/wrapNativeSuper\";\n\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n\n/**\r\n * @module utils/ckeditorerror\r\n */\n\n/**\r\n * URL to the documentation with error codes.\r\n */\nexport var DOCUMENTATION_URL = 'https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html';\n/**\r\n * The CKEditor error class.\r\n *\r\n * All errors will be shortened during the minification process in order to reduce the code size.\r\n * Therefore, all error messages should be documented in the same way as those in {@link module:utils/log}.\r\n *\r\n * Read more in the {@link module:utils/log} module.\r\n *\r\n * @extends Error\r\n */\n\nvar CKEditorError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(CKEditorError, _Error);\n\n  /**\r\n   * Creates an instance of the CKEditorError class.\r\n   *\r\n   * Read more about error logging in the {@link module:utils/log} module.\r\n   *\r\n   * @param {String} message The error message in an `error-name: Error message.` format.\r\n   * During the minification process the \"Error message\" part will be removed to limit the code size\r\n   * and a link to this error documentation will be added to the `message`.\r\n   * @param {Object} [data] Additional data describing the error. A stringified version of this object\r\n   * will be appended to the error message, so the data are quickly visible in the console. The original\r\n   * data object will also be later available under the {@link #data} property.\r\n   */\n  function CKEditorError(message, data) {\n    var _this;\n\n    _classCallCheck(this, CKEditorError);\n\n    message = attachLinkToDocumentation(message);\n\n    if (data) {\n      message += ' ' + JSON.stringify(data);\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CKEditorError).call(this, message));\n    /**\r\n     * @member {String}\r\n     */\n\n    _this.name = 'CKEditorError';\n    /**\r\n     * The additional error data passed to the constructor. Undefined if none was passed.\r\n     *\r\n     * @member {Object|undefined}\r\n     */\n\n    _this.data = data;\n    return _this;\n  }\n  /**\r\n   * Checks if error is an instance of CKEditorError class.\r\n   *\r\n   * @param {Object} error Object to check.\r\n   * @returns {Boolean}\r\n   */\n\n\n  _createClass(CKEditorError, null, [{\n    key: \"isCKEditorError\",\n    value: function isCKEditorError(error) {\n      return error instanceof CKEditorError;\n    }\n  }]);\n\n  return CKEditorError;\n}(_wrapNativeSuper(Error));\n/**\r\n * Attaches link to the documentation at the end of the error message.\r\n *\r\n * @param {String} message Message to be logged.\r\n * @returns {String}\r\n */\n\n\nexport { CKEditorError as default };\nexport function attachLinkToDocumentation(message) {\n  var matchedErrorName = message.match(/^([^:]+):/);\n\n  if (!matchedErrorName) {\n    return message;\n  }\n\n  return message + \" Read more: \".concat(DOCUMENTATION_URL, \"#error-\").concat(matchedErrorName[1], \"\\n\");\n}","/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n\n/* global console */\n\n/**\r\n * @module utils/log\r\n */\nimport { attachLinkToDocumentation } from \"./ckeditorerror\";\n/**\r\n * The logging module.\r\n *\r\n * This object features two functions that should be used across CKEditor code base to log errors and warnings.\r\n * Despite being an overridable interface for native `console.*` this module serves also the goal to limit the\r\n * code size of a minified CKEditor package. During minification process the messages will be shortened and\r\n * links to their documentation will be logged to the console.\r\n *\r\n * All errors and warning should be documented in the following way:\r\n *\r\n *\t\t/**\r\n *\t\t * Error thrown when a plugin cannot be loaded due to JavaScript errors, lack of plugins with a given name, etc.\r\n *\t\t *\r\n *\t\t * @error plugin-load\r\n *\t\t * @param pluginName The name of the plugin that could not be loaded.\r\n *\t\t * @param moduleName The name of the module which tried to load this plugin.\r\n *\t\t * /\r\n *\t\tlog.error( 'plugin-load: It was not possible to load the \"{$pluginName}\" plugin in module \"{$moduleName}', {\r\n *\t\t\tpluginName: 'foo',\r\n *\t\t\tmoduleName: 'bar'\r\n *\t\t} );\r\n *\r\n * ### Warning vs Error vs Throw\r\n *\r\n * * Whenever a potentially incorrect situation occurs, which does not directly lead to an incorrect behavior,\r\n * log a warning.\r\n * * Whenever an incorrect situation occurs, but the app may continue working (although perhaps incorrectly),\r\n * log an error.\r\n * * Whenever it's really bad and it does not make sense to continue working, throw a {@link module:utils/ckeditorerror~CKEditorError}.\r\n *\r\n * @namespace\r\n */\n\nvar log = {\n  /**\r\n   * Logs an error to the console.\r\n   *\r\n   * Read more about error logging in the {@link module:utils/log} module.\r\n   *\r\n   * @param {String} message The error message in an `error-name: Error message.` format.\r\n   * During the minification process the \"Error message\" part will be removed to limit the code size\r\n   * and a link to this error documentation will be logged to the console.\r\n   * @param {Object} [data] Additional data describing the error.\r\n   */\n  error: function error(message, data) {\n    console.error(attachLinkToDocumentation(message), data);\n  },\n\n  /**\r\n   * Logs a warning to the console.\r\n   *\r\n   * Read more about error logging in the {@link module:utils/log} module.\r\n   *\r\n   * @param {String} message The warning message in a `warning-name: Warning message.` format.\r\n   * During the minification process the \"Warning message\" part will be removed to limit the code size\r\n   * and a link to this error documentation will be logged to the console.\r\n   * @param {Object} [data] Additional data describing the warning.\r\n   */\n  warn: function warn(message, data) {\n    console.warn(attachLinkToDocumentation(message), data);\n  }\n};\nexport default log;","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\n\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n\n/**\r\n * @module media-embed/mediaregistry\r\n */\nimport mediaPlaceholderIcon from \"../theme/icons/media-placeholder.svg\";\nimport log from \"./log\";\nimport TooltipView from '@ckeditor/ckeditor5-ui/src/tooltip/tooltipview';\nimport IconView from '@ckeditor/ckeditor5-ui/src/icon/iconview';\nimport Template from '@ckeditor/ckeditor5-ui/src/template';\nvar mediaPlaceholderIconViewBox = '0 0 64 42';\n/**\r\n * A bridge between the raw media content provider definitions and the editor view content.\r\n *\r\n * It helps translating media URLs to corresponding {@link module:engine/view/element~Element view elements}.\r\n *\r\n * Mostly used by the {@link module:media-embed/mediaembedediting~MediaEmbedEditing} plugin.\r\n */\n\nvar MediaRegistry =\n/*#__PURE__*/\nfunction () {\n  /**\r\n   * Creates an instance of the {@link module:media-embed/mediaregistry~MediaRegistry} class.\r\n   *\r\n   * @param {module:utils/locale~Locale} locale The localization services instance.\r\n   * @param {module:media-embed/mediaembed~MediaEmbedConfig} config The configuration of the media embed feature.\r\n   */\n  function MediaRegistry(locale, config) {\n    _classCallCheck(this, MediaRegistry);\n\n    var providers = config.providers;\n    var extraProviders = config.extraProviders || [];\n    var removedProviders = new Set(config.removeProviders);\n    var providerDefinitions = providers.concat(extraProviders).filter(function (provider) {\n      var name = provider.name;\n\n      if (!name) {\n        /**\r\n         * One of the providers (or extra providers) specified in the media embed configuration\r\n         * has no name and will not be used by the editor. In order to get this media\r\n         * provider working, double check your editor configuration.\r\n         *\r\n         * @warning media-embed-no-provider-name\r\n         */\n        log.warn('media-embed-no-provider-name: The configured media provider has no name and cannot be used.', {\n          provider: provider\n        });\n        return false;\n      }\n\n      return !removedProviders.has(name);\n    });\n    /**\r\n     * The locale {@link module:utils/locale~Locale} instance.\r\n     *\r\n     * @member {module:utils/locale~Locale}\r\n     */\n\n    this.locale = locale;\n    /**\r\n     * The media provider definitions available for the registry. Usually corresponding with the\r\n     * {@link module:media-embed/mediaembed~MediaEmbedConfig media configuration}.\r\n     *\r\n     * @member {Array}\r\n     */\n\n    this.providerDefinitions = providerDefinitions;\n  }\n  /**\r\n   * Checks whether the passed URL is representing a certain media type allowed in the editor.\r\n   *\r\n   * @param {String} url The URL to be checked\r\n   * @returns {Boolean}\r\n   */\n\n\n  _createClass(MediaRegistry, [{\n    key: \"hasMedia\",\n    value: function hasMedia(url) {\n      return !!this._getMedia(url);\n    }\n    /**\r\n     * For the given media URL string and options, it returns the {@link module:engine/view/element~Element view element}\r\n     * representing that media.\r\n     *\r\n     * **Note:** If no URL is specified, an empty view element is returned.\r\n     *\r\n     * @param {module:engine/view/downcastwriter~DowncastWriter} writer The view writer used to produce a view element.\r\n     * @param {String} url The URL to be translated into a view element.\r\n     * @param {Object} options\r\n     * @param {String} [options.renderMediaPreview]\r\n     * @param {String} [options.renderForEditingView]\r\n     * @returns {module:engine/view/element~Element}\r\n     */\n\n  }, {\n    key: \"getMediaViewElement\",\n    value: function getMediaViewElement(writer, url, options) {\n      return this._getMedia(url).getViewElement(writer, options);\n    }\n    /**\r\n     * Returns a `Media` instance for the given URL.\r\n     *\r\n     * @protected\r\n     * @param {String} url The URL of the media.\r\n     * @returns {module:media-embed/mediaregistry~Media|null} The `Media` instance or `null` when there is none.\r\n     */\n\n  }, {\n    key: \"_getMedia\",\n    value: function _getMedia(url) {\n      if (!url) {\n        return new Media(this.locale);\n      }\n\n      url = url.trim();\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.providerDefinitions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var definition = _step.value;\n          var previewRenderer = definition.html;\n          var pattern = definition.url;\n\n          if (!Array.isArray(pattern)) {\n            pattern = [pattern];\n          }\n\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = pattern[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var subPattern = _step2.value;\n\n              var match = this._getUrlMatches(url, subPattern);\n\n              if (match) {\n                return new Media(this.locale, url, match, previewRenderer);\n              }\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return null;\n    }\n    /**\r\n     * Tries to match `url` to `pattern`.\r\n     *\r\n     * @private\r\n     * @param {String} url The URL of the media.\r\n     * @param {RegExp} pattern The pattern that should accept the media URL.\r\n     * @returns {Array|null}\r\n     */\n\n  }, {\n    key: \"_getUrlMatches\",\n    value: function _getUrlMatches(url, pattern) {\n      // 1. Try to match without stripping the protocol and \"www\" subdomain.\n      var match = url.match(pattern);\n\n      if (match) {\n        return match;\n      } // 2. Try to match after stripping the protocol.\n\n\n      var rawUrl = url.replace(/^https?:\\/\\//, '');\n      match = rawUrl.match(pattern);\n\n      if (match) {\n        return match;\n      } // 3. Try to match after stripping the \"www\" subdomain.\n\n\n      rawUrl = rawUrl.replace(/^www\\./, '');\n      match = rawUrl.match(pattern);\n\n      if (match) {\n        return match;\n      }\n\n      return null;\n    }\n  }]);\n\n  return MediaRegistry;\n}();\n/**\r\n * Represents media defined by the provider configuration.\r\n *\r\n * It can be rendered to the {@link module:engine/view/element~Element view element} and used in the editing or data pipeline.\r\n *\r\n * @private\r\n */\n\n\nexport { MediaRegistry as default };\n\nvar Media =\n/*#__PURE__*/\nfunction () {\n  function Media(locale, url, match, previewRenderer) {\n    _classCallCheck(this, Media);\n\n    /**\r\n     * The URL this Media instance represents.\r\n     *\r\n     * @member {String}\r\n     */\n    this.url = this._getValidUrl(url);\n    /**\r\n     * Shorthand for {@link module:utils/locale~Locale#t}.\r\n     *\r\n     * @see module:utils/locale~Locale#t\r\n     * @method\r\n     */\n\n    this._t = locale.t;\n    /**\r\n     * The output of the `RegExp.match` which validated the {@link #url} of this media.\r\n     *\r\n     * @member {Object}\r\n     */\n\n    this._match = match;\n    /**\r\n     * The function returning the HTML string preview of this media.\r\n     *\r\n     * @member {Function}\r\n     */\n\n    this._previewRenderer = previewRenderer;\n  }\n  /**\r\n   * Returns the view element representation of the media.\r\n   *\r\n   * @param {module:engine/view/downcastwriter~DowncastWriter} writer The view writer used to produce a view element.\r\n   * @param {Object} options\r\n   * @param {String} [options.renderMediaPreview]\r\n   * @param {String} [options.renderForEditingView]\r\n   * @returns {module:engine/view/element~Element}\r\n   */\n\n\n  _createClass(Media, [{\n    key: \"getViewElement\",\n    value: function getViewElement(writer, options) {\n      var attributes = {};\n\n      if (options.renderForEditingView || options.renderMediaPreview && this.url && this._previewRenderer) {\n        if (this.url) {\n          attributes['data-oembed-url'] = this.url;\n        }\n\n        if (options.renderForEditingView) {\n          attributes.class = 'ck-media__wrapper';\n        }\n\n        var mediaHtml = this._getPreviewHtml(options);\n\n        return writer.createUIElement('div', attributes, function (domDocument) {\n          var domElement = this.toDomElement(domDocument);\n          domElement.innerHTML = mediaHtml;\n          return domElement;\n        });\n      } else {\n        if (this.url) {\n          attributes.url = this.url;\n        }\n\n        return writer.createEmptyElement('oembed', attributes);\n      }\n    }\n    /**\r\n     * Returns the HTML string of the media content preview.\r\n     *\r\n     * @param {module:engine/view/downcastwriter~DowncastWriter} writer The view writer used to produce a view element.\r\n     * @param {Object} options\r\n     * @param {String} [options.renderForEditingView]\r\n     * @returns {String}\r\n     */\n\n  }, {\n    key: \"_getPreviewHtml\",\n    value: function _getPreviewHtml(options) {\n      if (this._previewRenderer) {\n        return this._previewRenderer(this._match);\n      } else {\n        // The placeholder only makes sense for editing view and media which have URLs.\n        // Placeholder is never displayed in data and URL-less media have no content.\n        if (this.url && options.renderForEditingView) {\n          return this._getPlaceholderHtml();\n        }\n\n        return '';\n      }\n    }\n    /**\r\n     * Returns the placeholder HTML when the media has no content preview.\r\n     *\r\n     * @returns {String}\r\n     */\n\n  }, {\n    key: \"_getPlaceholderHtml\",\n    value: function _getPlaceholderHtml() {\n      var tooltip = new TooltipView();\n      var icon = new IconView();\n      tooltip.text = this._t('Open media in new tab');\n      icon.content = mediaPlaceholderIcon;\n      icon.viewBox = mediaPlaceholderIconViewBox;\n      var placeholder = new Template({\n        tag: 'div',\n        attributes: {\n          class: 'ck ck-reset_all ck-media__placeholder'\n        },\n        children: [{\n          tag: 'div',\n          attributes: {\n            class: 'ck-media__placeholder__icon'\n          },\n          children: [icon]\n        }, {\n          tag: 'a',\n          attributes: {\n            class: 'ck-media__placeholder__url',\n            target: 'new',\n            href: this.url\n          },\n          children: [{\n            tag: 'span',\n            attributes: {\n              class: 'ck-media__placeholder__url__text'\n            },\n            children: [this.url]\n          }, tooltip]\n        }]\n      }).render();\n      return placeholder.outerHTML;\n    }\n    /**\r\n     * Returns the full URL to the specified media.\r\n     *\r\n     * @param {String} url The URL of the media.\r\n     * @returns {String|null}\r\n     */\n\n  }, {\n    key: \"_getValidUrl\",\n    value: function _getValidUrl(url) {\n      if (!url) {\n        return null;\n      }\n\n      if (url.match(/^https?/)) {\n        return url;\n      }\n\n      return 'https://' + url;\n    }\n  }]);\n\n  return Media;\n}();","import _classCallCheck from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck';\nimport _possibleConstructorReturn from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf';\nimport _createClass from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass';\nimport _inherits from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits';\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n/**\r\n * @module media-embed/mediaembedediting\r\n */\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport { modelToViewUrlAttributeConverter } from './converters';\nimport MediaEmbedCommand from './mediaembedcommand';\nimport MediaRegistry from './mediaregistry';\nimport {\n    toMediaWidget,\n    createMediaFigureElement\n} from './utils';\nimport '../theme/mediaembedediting.css';\n/**\r\n * The media embed editing feature.\r\n *\r\n * @extends module:core/plugin~Plugin\r\n */\nvar MediaEmbedEditing = /*#__PURE__*/\nfunction (_Plugin) {\n    _inherits(MediaEmbedEditing, _Plugin);\n    _createClass(MediaEmbedEditing, null, [{\n            key: 'pluginName',\n            /**\r\n     * @inheritDoc\r\n     */\n            get: function get() {\n                return 'MediaEmbedEditing';\n            }    /**\r\n     * @inheritDoc\r\n     */\n        }]);\n    function MediaEmbedEditing(editor) {\n        var _this;\n        _classCallCheck(this, MediaEmbedEditing);\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(MediaEmbedEditing).call(this, editor));\n        editor.config.define('mediaEmbed', {\n            providers: [\n                {\n                    name: 'normal',\n                    url: /^(.+\\.mp4)$/,\n                    html: function html(match) {\n                        return '<div style=\"position: relative; padding-bottom: 100%; height: 0;\">' + '<video src=\"'.concat(match[1], '\" width=\"100%\" controls=\"controls\"></video>') + '</div>';\n                    }\n                },\n                {\n                    name: 'youku',\n                    url: /^v\\.youku\\.com\\/v_show\\/id_(.+)\\.html$/,\n                    html: function html(match) {\n                        return '<iframe height=498 width=510 src=\"http://player.youku.com/embed/'.concat(match[1], '\" frameborder=0 allowfullscreen></iframe>');\n                    }\n                }\n            ]\n        });\n        /**\r\n     * The media registry managing the media providers in the editor.\r\n     *\r\n     * @member {module:media-embed/mediaregistry~MediaRegistry} #registry\r\n     */\n        _this.registry = new MediaRegistry(editor.locale, editor.config.get('mediaEmbed'));\n        return _this;\n    }\n    /**\r\n   * @inheritDoc\r\n   */\n    _createClass(MediaEmbedEditing, [{\n            key: 'init',\n            value: function init() {\n                var editor = this.editor;\n                var schema = editor.model.schema;\n                var t = editor.t;\n                var conversion = editor.conversion;\n                var renderMediaPreview = editor.config.get('mediaEmbed.previewsInData');\n                var registry = this.registry;\n                editor.commands.add('mediaEmbed', new MediaEmbedCommand(editor));\n                // Configure the schema.\n                schema.register('media', {\n                    isObject: true,\n                    isBlock: true,\n                    allowWhere: '$block',\n                    allowAttributes: ['url']\n                });\n                // Model -> Data\n                conversion.for('dataDowncast').elementToElement({\n                    model: 'media',\n                    view: function view(modelElement, viewWriter) {\n                        var url = modelElement.getAttribute('url');\n                        return createMediaFigureElement(viewWriter, registry, url, { renderMediaPreview: url && renderMediaPreview });\n                    }\n                });\n                // Model -> Data (url -> data-oembed-url)\n                conversion.for('dataDowncast').add(modelToViewUrlAttributeConverter(registry, { renderMediaPreview: renderMediaPreview }));\n                // Model -> View (element)\n                conversion.for('editingDowncast').elementToElement({\n                    model: 'media',\n                    view: function view(modelElement, viewWriter) {\n                        var url = modelElement.getAttribute('url');\n                        var figure = createMediaFigureElement(viewWriter, registry, url, { renderForEditingView: true });\n                        return toMediaWidget(figure, viewWriter, t('媒体小部件'));\n                    }\n                });\n                // Model -> View (url -> data-oembed-url)\n                conversion.for('editingDowncast').add(modelToViewUrlAttributeConverter(registry, { renderForEditingView: true }));\n                // View -> Model (data-oembed-url -> url)\n                conversion.for('upcast')    // Upcast semantic media.\n.elementToElement({\n                    view: {\n                        name: 'oembed',\n                        attributes: { url: true }\n                    },\n                    model: function model(viewMedia, modelWriter) {\n                        var url = viewMedia.getAttribute('url');\n                        if (registry.hasMedia(url)) {\n                            return modelWriter.createElement('media', { url: url });\n                        }\n                    }\n                })    // Upcast non-semantic media.\n.elementToElement({\n                    view: {\n                        name: 'div',\n                        attributes: { 'data-oembed-url': true }\n                    },\n                    model: function model(viewMedia, modelWriter) {\n                        var url = viewMedia.getAttribute('data-oembed-url');\n                        if (registry.hasMedia(url)) {\n                            return modelWriter.createElement('media', { url: url });\n                        }\n                    }\n                });\n            }\n        }]);\n    return MediaEmbedEditing;\n}(Plugin);\nexport {\n    MediaEmbedEditing as default\n};","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/node\n */\nimport toMap from '@ckeditor/ckeditor5-utils/src/tomap';\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\nimport compareArrays from '@ckeditor/ckeditor5-utils/src/comparearrays'; // To check if component is loaded more than once.\n\nimport '@ckeditor/ckeditor5-utils/src/version';\n/**\n * Model node. Most basic structure of model tree.\n *\n * This is an abstract class that is a base for other classes representing different nodes in model.\n *\n * **Note:** If a node is detached from the model tree, you can manipulate it using it's API.\n * However, it is **very important** that nodes already attached to model tree should be only changed through\n * {@link module:engine/model/writer~Writer Writer API}.\n *\n * Changes done by `Node` methods, like {@link module:engine/model/element~Element#_insertChild _insertChild} or\n * {@link module:engine/model/node~Node#_setAttribute _setAttribute}\n * do not generate {@link module:engine/model/operation/operation~Operation operations}\n * which are essential for correct editor work if you modify nodes in {@link module:engine/model/document~Document document} root.\n *\n * The flow of working on `Node` (and classes that inherits from it) is as such:\n * 1. You can create a `Node` instance, modify it using it's API.\n * 2. Add `Node` to the model using `Batch` API.\n * 3. Change `Node` that was already added to the model using `Batch` API.\n *\n * Similarly, you cannot use `Batch` API on a node that has not been added to the model tree, with the exception\n * of {@link module:engine/model/writer~Writer#insert inserting} that node to the model tree.\n *\n * Be aware that using {@link module:engine/model/writer~Writer#remove remove from Batch API} does not allow to use `Node` API because\n * the information about `Node` is still kept in model document.\n *\n * In case of {@link module:engine/model/element~Element element node}, adding and removing children also counts as changing a node and\n * follows same rules.\n */\n\nvar Node =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a model node.\n   *\n   * This is an abstract class, so this constructor should not be used directly.\n   *\n   * @abstract\n   * @param {Object} [attrs] Node's attributes. See {@link module:utils/tomap~toMap} for a list of accepted values.\n   */\n  function Node(attrs) {\n    _classCallCheck(this, Node);\n\n    /**\n     * Parent of this node. It could be {@link module:engine/model/element~Element}\n     * or {@link module:engine/model/documentfragment~DocumentFragment}.\n     * Equals to `null` if the node has no parent.\n     *\n     * @readonly\n     * @member {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment|null}\n     */\n    this.parent = null;\n    /**\n     * Attributes set on this node.\n     *\n     * @private\n     * @member {Map} module:engine/model/node~Node#_attrs\n     */\n\n    this._attrs = toMap(attrs);\n  }\n  /**\n   * Index of this node in it's parent or `null` if the node has no parent.\n   *\n   * Accessing this property throws an error if this node's parent element does not contain it.\n   * This means that model tree got broken.\n   *\n   * @readonly\n   * @type {Number|null}\n   */\n\n\n  _createClass(Node, [{\n    key: \"getPath\",\n\n    /**\n     * Gets path to the node. The path is an array containing starting offsets of consecutive ancestors of this node,\n     * beginning from {@link module:engine/model/node~Node#root root}, down to this node's starting offset. The path can be used to\n     * create {@link module:engine/model/position~Position Position} instance.\n     *\n     *\t\tconst abc = new Text( 'abc' );\n     *\t\tconst foo = new Text( 'foo' );\n     *\t\tconst h1 = new Element( 'h1', null, new Text( 'header' ) );\n     *\t\tconst p = new Element( 'p', null, [ abc, foo ] );\n     *\t\tconst div = new Element( 'div', null, [ h1, p ] );\n     *\t\tfoo.getPath(); // Returns [ 1, 3 ]. `foo` is in `p` which is in `div`. `p` starts at offset 1, while `foo` at 3.\n     *\t\th1.getPath(); // Returns [ 0 ].\n     *\t\tdiv.getPath(); // Returns [].\n     *\n     * @returns {Array.<Number>} The path.\n     */\n    value: function getPath() {\n      var path = [];\n      var node = this; // eslint-disable-line consistent-this\n\n      while (node.parent) {\n        path.unshift(node.startOffset);\n        node = node.parent;\n      }\n\n      return path;\n    }\n    /**\n     * Returns ancestors array of this node.\n     *\n     * @param {Object} options Options object.\n     * @param {Boolean} [options.includeSelf=false] When set to `true` this node will be also included in parent's array.\n     * @param {Boolean} [options.parentFirst=false] When set to `true`, array will be sorted from node's parent to root element,\n     * otherwise root element will be the first item in the array.\n     * @returns {Array} Array with ancestors.\n     */\n\n  }, {\n    key: \"getAncestors\",\n    value: function getAncestors() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        includeSelf: false,\n        parentFirst: false\n      };\n      var ancestors = [];\n      var parent = options.includeSelf ? this : this.parent;\n\n      while (parent) {\n        ancestors[options.parentFirst ? 'push' : 'unshift'](parent);\n        parent = parent.parent;\n      }\n\n      return ancestors;\n    }\n    /**\n     * Returns a {@link module:engine/model/element~Element} or {@link module:engine/model/documentfragment~DocumentFragment}\n     * which is a common ancestor of both nodes.\n     *\n     * @param {module:engine/model/node~Node} node The second node.\n     * @param {Object} options Options object.\n     * @param {Boolean} [options.includeSelf=false] When set to `true` both nodes will be considered \"ancestors\" too.\n     * Which means that if e.g. node A is inside B, then their common ancestor will be B.\n     * @returns {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment|null}\n     */\n\n  }, {\n    key: \"getCommonAncestor\",\n    value: function getCommonAncestor(node) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var ancestorsA = this.getAncestors(options);\n      var ancestorsB = node.getAncestors(options);\n      var i = 0;\n\n      while (ancestorsA[i] == ancestorsB[i] && ancestorsA[i]) {\n        i++;\n      }\n\n      return i === 0 ? null : ancestorsA[i - 1];\n    }\n    /**\n     * Returns whether this node is before given node. `false` is returned if nodes are in different trees (for example,\n     * in different {@link module:engine/model/documentfragment~DocumentFragment}s).\n     *\n     * @param {module:engine/model/node~Node} node Node to compare with.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"isBefore\",\n    value: function isBefore(node) {\n      // Given node is not before this node if they are same.\n      if (this == node) {\n        return false;\n      } // Return `false` if it is impossible to compare nodes.\n\n\n      if (this.root !== node.root) {\n        return false;\n      }\n\n      var thisPath = this.getPath();\n      var nodePath = node.getPath();\n      var result = compareArrays(thisPath, nodePath);\n\n      switch (result) {\n        case 'prefix':\n          return true;\n\n        case 'extension':\n          return false;\n\n        default:\n          return thisPath[result] < nodePath[result];\n      }\n    }\n    /**\n     * Returns whether this node is after given node. `false` is returned if nodes are in different trees (for example,\n     * in different {@link module:engine/model/documentfragment~DocumentFragment}s).\n     *\n     * @param {module:engine/model/node~Node} node Node to compare with.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"isAfter\",\n    value: function isAfter(node) {\n      // Given node is not before this node if they are same.\n      if (this == node) {\n        return false;\n      } // Return `false` if it is impossible to compare nodes.\n\n\n      if (this.root !== node.root) {\n        return false;\n      } // In other cases, just check if the `node` is before, and return the opposite.\n\n\n      return !this.isBefore(node);\n    }\n    /**\n     * Checks if the node has an attribute with given key.\n     *\n     * @param {String} key Key of attribute to check.\n     * @returns {Boolean} `true` if attribute with given key is set on node, `false` otherwise.\n     */\n\n  }, {\n    key: \"hasAttribute\",\n    value: function hasAttribute(key) {\n      return this._attrs.has(key);\n    }\n    /**\n     * Gets an attribute value for given key or `undefined` if that attribute is not set on node.\n     *\n     * @param {String} key Key of attribute to look for.\n     * @returns {*} Attribute value or `undefined`.\n     */\n\n  }, {\n    key: \"getAttribute\",\n    value: function getAttribute(key) {\n      return this._attrs.get(key);\n    }\n    /**\n     * Returns iterator that iterates over this node's attributes.\n     *\n     * Attributes are returned as arrays containing two items. First one is attribute key and second is attribute value.\n     * This format is accepted by native `Map` object and also can be passed in `Node` constructor.\n     *\n     * @returns {Iterable.<*>}\n     */\n\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this._attrs.entries();\n    }\n    /**\n     * Returns iterator that iterates over this node's attribute keys.\n     *\n     * @returns {Iterable.<String>}\n     */\n\n  }, {\n    key: \"getAttributeKeys\",\n    value: function getAttributeKeys() {\n      return this._attrs.keys();\n    }\n    /**\n     * Converts `Node` to plain object and returns it.\n     *\n     * @returns {Object} `Node` converted to plain object.\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = {}; // Serializes attributes to the object.\n      // attributes = { a: 'foo', b: 1, c: true }.\n\n      if (this._attrs.size) {\n        json.attributes = Array.from(this._attrs).reduce(function (result, attr) {\n          result[attr[0]] = attr[1];\n          return result;\n        }, {});\n      }\n\n      return json;\n    }\n    /**\n     * Checks whether this object is of the given type.\n     *\n     * This method is useful when processing model objects that are of unknown type. For example, a function\n     * may return a {@link module:engine/model/documentfragment~DocumentFragment} or a {@link module:engine/model/node~Node}\n     * that can be either a text node or an element. This method can be used to check what kind of object is returned.\n     *\n     *\t\tsomeObject.is( 'element' ); // -> true if this is an element\n     *\t\tsomeObject.is( 'node' ); // -> true if this is a node (a text node or an element)\n     *\t\tsomeObject.is( 'documentFragment' ); // -> true if this is a document fragment\n     *\n     * Since this method is also available on a range of view objects, you can prefix the type of the object with\n     * `model:` or `view:` to check, for example, if this is the model's or view's element:\n     *\n     *\t\tmodelElement.is( 'model:element' ); // -> true\n     *\t\tmodelElement.is( 'view:element' ); // -> false\n     *\n     * By using this method it is also possible to check a name of an element:\n     *\n     *\t\timageElement.is( 'image' ); // -> true\n     *\t\timageElement.is( 'element', 'image' ); // -> same as above\n     *\t\timageElement.is( 'model:element', 'image' ); // -> same as above, but more precise\n     *\n     * The list of model objects which implement the `is()` method:\n     *\n     * * {@link module:engine/model/node~Node#is `Node#is()`}\n     * * {@link module:engine/model/text~Text#is `Text#is()`}\n     * * {@link module:engine/model/element~Element#is `Element#is()`}\n     * * {@link module:engine/model/rootelement~RootElement#is `RootElement#is()`}\n     * * {@link module:engine/model/position~Position#is `Position#is()`}\n     * * {@link module:engine/model/liveposition~LivePosition#is `LivePosition#is()`}\n     * * {@link module:engine/model/range~Range#is `Range#is()`}\n     * * {@link module:engine/model/liverange~LiveRange#is `LiveRange#is()`}\n     * * {@link module:engine/model/documentfragment~DocumentFragment#is `DocumentFragment#is()`}\n     * * {@link module:engine/model/selection~Selection#is `Selection#is()`}\n     * * {@link module:engine/model/documentselection~DocumentSelection#is `DocumentSelection#is()`}\n     * * {@link module:engine/model/markercollection~Marker#is `Marker#is()`}\n     * * {@link module:engine/model/textproxy~TextProxy#is `TextProxy#is()`}\n     *\n     * @method #is\n     * @param {String} type\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"is\",\n    value: function is(type) {\n      return type == 'node' || type == 'model:node';\n    }\n    /**\n     * Creates a copy of this node, that is a node with exactly same attributes, and returns it.\n     *\n     * @protected\n     * @returns {module:engine/model/node~Node} Node with same attributes as this node.\n     */\n\n  }, {\n    key: \"_clone\",\n    value: function _clone() {\n      return new Node(this._attrs);\n    }\n    /**\n     * Removes this node from it's parent.\n     *\n     * @see module:engine/model/writer~Writer#remove\n     * @protected\n     */\n\n  }, {\n    key: \"_remove\",\n    value: function _remove() {\n      this.parent._removeChildren(this.index);\n    }\n    /**\n     * Sets attribute on the node. If attribute with the same key already is set, it's value is overwritten.\n     *\n     * @see module:engine/model/writer~Writer#setAttribute\n     * @protected\n     * @param {String} key Key of attribute to set.\n     * @param {*} value Attribute value.\n     */\n\n  }, {\n    key: \"_setAttribute\",\n    value: function _setAttribute(key, value) {\n      this._attrs.set(key, value);\n    }\n    /**\n     * Removes all attributes from the node and sets given attributes.\n     *\n     * @see module:engine/model/writer~Writer#setAttributes\n     * @protected\n     * @param {Object} [attrs] Attributes to set. See {@link module:utils/tomap~toMap} for a list of accepted values.\n     */\n\n  }, {\n    key: \"_setAttributesTo\",\n    value: function _setAttributesTo(attrs) {\n      this._attrs = toMap(attrs);\n    }\n    /**\n     * Removes an attribute with given key from the node.\n     *\n     * @see module:engine/model/writer~Writer#removeAttribute\n     * @protected\n     * @param {String} key Key of attribute to remove.\n     * @returns {Boolean} `true` if the attribute was set on the element, `false` otherwise.\n     */\n\n  }, {\n    key: \"_removeAttribute\",\n    value: function _removeAttribute(key) {\n      return this._attrs.delete(key);\n    }\n    /**\n     * Removes all attributes from the node.\n     *\n     * @see module:engine/model/writer~Writer#clearAttributes\n     * @protected\n     */\n\n  }, {\n    key: \"_clearAttributes\",\n    value: function _clearAttributes() {\n      this._attrs.clear();\n    }\n  }, {\n    key: \"index\",\n    get: function get() {\n      var pos;\n\n      if (!this.parent) {\n        return null;\n      }\n\n      if ((pos = this.parent.getChildIndex(this)) === null) {\n        throw new CKEditorError('model-node-not-found-in-parent: The node\\'s parent does not contain this node.', this);\n      }\n\n      return pos;\n    }\n    /**\n     * Offset at which this node starts in it's parent. It is equal to the sum of {@link #offsetSize offsetSize}\n     * of all it's previous siblings. Equals to `null` if node has no parent.\n     *\n     * Accessing this property throws an error if this node's parent element does not contain it.\n     * This means that model tree got broken.\n     *\n     * @readonly\n     * @type {Number|null}\n     */\n\n  }, {\n    key: \"startOffset\",\n    get: function get() {\n      var pos;\n\n      if (!this.parent) {\n        return null;\n      }\n\n      if ((pos = this.parent.getChildStartOffset(this)) === null) {\n        throw new CKEditorError('model-node-not-found-in-parent: The node\\'s parent does not contain this node.', this);\n      }\n\n      return pos;\n    }\n    /**\n     * Offset size of this node. Represents how much \"offset space\" is occupied by the node in it's parent.\n     * It is important for {@link module:engine/model/position~Position position}. When node has `offsetSize` greater than `1`, position\n     * can be placed between that node start and end. `offsetSize` greater than `1` is for nodes that represents more\n     * than one entity, i.e. {@link module:engine/model/text~Text text node}.\n     *\n     * @readonly\n     * @type {Number}\n     */\n\n  }, {\n    key: \"offsetSize\",\n    get: function get() {\n      return 1;\n    }\n    /**\n     * Offset at which this node ends in it's parent. It is equal to the sum of this node's\n     * {@link module:engine/model/node~Node#startOffset start offset} and {@link #offsetSize offset size}.\n     * Equals to `null` if the node has no parent.\n     *\n     * @readonly\n     * @type {Number|null}\n     */\n\n  }, {\n    key: \"endOffset\",\n    get: function get() {\n      if (!this.parent) {\n        return null;\n      }\n\n      return this.startOffset + this.offsetSize;\n    }\n    /**\n     * Node's next sibling or `null` if the node is a last child of it's parent or if the node has no parent.\n     *\n     * @readonly\n     * @type {module:engine/model/node~Node|null}\n     */\n\n  }, {\n    key: \"nextSibling\",\n    get: function get() {\n      var index = this.index;\n      return index !== null && this.parent.getChild(index + 1) || null;\n    }\n    /**\n     * Node's previous sibling or `null` if the node is a first child of it's parent or if the node has no parent.\n     *\n     * @readonly\n     * @type {module:engine/model/node~Node|null}\n     */\n\n  }, {\n    key: \"previousSibling\",\n    get: function get() {\n      var index = this.index;\n      return index !== null && this.parent.getChild(index - 1) || null;\n    }\n    /**\n     * The top-most ancestor of the node. If node has no parent it is the root itself. If the node is a part\n     * of {@link module:engine/model/documentfragment~DocumentFragment}, it's `root` is equal to that `DocumentFragment`.\n     *\n     * @readonly\n     * @type {module:engine/model/node~Node|module:engine/model/documentfragment~DocumentFragment}\n     */\n\n  }, {\n    key: \"root\",\n    get: function get() {\n      var root = this; // eslint-disable-line consistent-this\n\n      while (root.parent) {\n        root = root.parent;\n      }\n\n      return root;\n    }\n    /**\n     * {@link module:engine/model/document~Document Document} that owns this node or `null` if the node has no parent or is inside\n     * a {@link module:engine/model/documentfragment~DocumentFragment DocumentFragment}.\n     *\n     * @readonly\n     * @type {module:engine/model/document~Document|null}\n     */\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      // This is a top element of a sub-tree.\n      if (this.root == this) {\n        return null;\n      } // Root may be `DocumentFragment` which does not have document property.\n\n\n      return this.root.document || null;\n    }\n  }]);\n\n  return Node;\n}();\n/**\n * The node's parent does not contain this node.\n *\n * This error may be thrown from corrupted trees.\n *\n * @error model-node-not-found-in-parent\n */\n\n\nexport { Node as default };","import _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _get from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/get\";\nimport _inherits from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/text\n */\nimport Node from \"./node\";\n/**\n * Model text node. Type of {@link module:engine/model/node~Node node} that contains {@link module:engine/model/text~Text#data text data}.\n *\n * **Important:** see {@link module:engine/model/node~Node} to read about restrictions using `Text` and `Node` API.\n *\n * **Note:** keep in mind that `Text` instances might indirectly got removed from model tree when model is changed.\n * This happens when {@link module:engine/model/writer~Writer model writer} is used to change model and the text node is merged with\n * another text node. Then, both text nodes are removed and a new text node is inserted into the model. Because of\n * this behavior, keeping references to `Text` is not recommended. Instead, consider creating\n * {@link module:engine/model/liveposition~LivePosition live position} placed before the text node.\n *\n * @extends module:engine/model/node~Node\n */\n\nvar Text =\n/*#__PURE__*/\nfunction (_Node) {\n  _inherits(Text, _Node);\n\n  /**\n   * Creates a text node.\n   *\n   * **Note:** Constructor of this class shouldn't be used directly in the code.\n   * Use the {@link module:engine/model/writer~Writer#createText} method instead.\n   *\n   * @protected\n   * @param {String} data Node's text.\n   * @param {Object} [attrs] Node's attributes. See {@link module:utils/tomap~toMap} for a list of accepted values.\n   */\n  function Text(data, attrs) {\n    var _this;\n\n    _classCallCheck(this, Text);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Text).call(this, attrs));\n    /**\n     * Text data contained in this text node.\n     *\n     * @protected\n     * @type {String}\n     */\n\n    _this._data = data || '';\n    return _this;\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  _createClass(Text, [{\n    key: \"is\",\n\n    /**\n     * Checks whether this object is of the given.\n     *\n     *\t\ttext.is( 'text' ); // -> true\n     *\t\ttext.is( 'node' ); // -> true\n     *\t\ttext.is( 'model:text' ); // -> true\n     *\t\ttext.is( 'model:node' ); // -> true\n     *\n     *\t\ttext.is( 'view:text' ); // -> false\n     *\t\ttext.is( 'documentSelection' ); // -> false\n     *\n     * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n     *\n     * @param {String} type Type to check when `name` parameter is present.\n     * Otherwise, it acts like the `name` parameter.\n     * @returns {Boolean}\n     */\n    value: function is(type) {\n      return type == 'text' || type == 'model:text' || _get(_getPrototypeOf(Text.prototype), \"is\", this).call(this, type);\n    }\n    /**\n     * Converts `Text` instance to plain object and returns it.\n     *\n     * @returns {Object} `Text` instance converted to plain object.\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = _get(_getPrototypeOf(Text.prototype), \"toJSON\", this).call(this);\n\n      json.data = this.data;\n      return json;\n    }\n    /**\n     * Creates a copy of this text node and returns it. Created text node has same text data and attributes as original text node.\n     *\n     * @protected\n     * @returns {module:engine/model/text~Text} `Text` instance created using given plain object.\n     */\n\n  }, {\n    key: \"_clone\",\n    value: function _clone() {\n      return new Text(this.data, this.getAttributes());\n    }\n    /**\n     * Creates a `Text` instance from given plain object (i.e. parsed JSON string).\n     *\n     * @param {Object} json Plain object to be converted to `Text`.\n     * @returns {module:engine/model/text~Text} `Text` instance created using given plain object.\n     */\n\n  }, {\n    key: \"offsetSize\",\n    get: function get() {\n      return this.data.length;\n    }\n    /**\n     * Returns a text data contained in the node.\n     *\n     * @readonly\n     * @type {String}\n     */\n\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this._data;\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      return new Text(json.data, json.attributes);\n    }\n  }]);\n\n  return Text;\n}(Node);\n\nexport { Text as default };","import _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/textproxy\n */\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n/**\n * `TextProxy` represents a part of {@link module:engine/model/text~Text text node}.\n *\n * Since {@link module:engine/model/position~Position positions} can be placed between characters of a text node,\n * {@link module:engine/model/range~Range ranges} may contain only parts of text nodes. When {@link module:engine/model/range~Range#getItems\n * getting items}\n * contained in such range, we need to represent a part of that text node, since returning the whole text node would be incorrect.\n * `TextProxy` solves this issue.\n *\n * `TextProxy` has an API similar to {@link module:engine/model/text~Text Text} and allows to do most of the common tasks performed\n * on model nodes.\n *\n * **Note:** Some `TextProxy` instances may represent whole text node, not just a part of it.\n * See {@link module:engine/model/textproxy~TextProxy#isPartial}.\n *\n * **Note:** `TextProxy` is not an instance of {@link module:engine/model/node~Node node}. Keep this in mind when using it as a\n * parameter of methods.\n *\n * **Note:** `TextProxy` is a readonly interface. If you want to perform changes on model data represented by a `TextProxy`\n * use {@link module:engine/model/writer~Writer model writer API}.\n *\n * **Note:** `TextProxy` instances are created on the fly, basing on the current state of model. Because of this, it is\n * highly unrecommended to store references to `TextProxy` instances. `TextProxy` instances are not refreshed when\n * model changes, so they might get invalidated. Instead, consider creating {@link module:engine/model/liveposition~LivePosition live\n * position}.\n *\n * `TextProxy` instances are created by {@link module:engine/model/treewalker~TreeWalker model tree walker}. You should not need to create\n * an instance of this class by your own.\n */\n\nvar TextProxy =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a text proxy.\n   *\n   * @protected\n   * @param {module:engine/model/text~Text} textNode Text node which part is represented by this text proxy.\n   * @param {Number} offsetInText Offset in {@link module:engine/model/textproxy~TextProxy#textNode text node} from which the text proxy\n   * starts.\n   * @param {Number} length Text proxy length, that is how many text node's characters, starting from `offsetInText` it represents.\n   * @constructor\n   */\n  function TextProxy(textNode, offsetInText, length) {\n    _classCallCheck(this, TextProxy);\n\n    /**\n     * Text node which part is represented by this text proxy.\n     *\n     * @readonly\n     * @member {module:engine/model/text~Text}\n     */\n    this.textNode = textNode;\n\n    if (offsetInText < 0 || offsetInText > textNode.offsetSize) {\n      /**\n       * Given `offsetInText` value is incorrect.\n       *\n       * @error model-textproxy-wrong-offsetintext\n       */\n      throw new CKEditorError('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.', this);\n    }\n\n    if (length < 0 || offsetInText + length > textNode.offsetSize) {\n      /**\n       * Given `length` value is incorrect.\n       *\n       * @error model-textproxy-wrong-length\n       */\n      throw new CKEditorError('model-textproxy-wrong-length: Given length value is incorrect.', this);\n    }\n    /**\n     * Text data represented by this text proxy.\n     *\n     * @readonly\n     * @member {String}\n     */\n\n\n    this.data = textNode.data.substring(offsetInText, offsetInText + length);\n    /**\n     * Offset in {@link module:engine/model/textproxy~TextProxy#textNode text node} from which the text proxy starts.\n     *\n     * @readonly\n     * @member {Number}\n     */\n\n    this.offsetInText = offsetInText;\n  }\n  /**\n   * Offset at which this text proxy starts in it's parent.\n   *\n   * @see module:engine/model/node~Node#startOffset\n   * @readonly\n   * @type {Number}\n   */\n\n\n  _createClass(TextProxy, [{\n    key: \"is\",\n\n    /**\n     * Checks whether this object is of the given.\n     *\n     *\t\ttextProxy.is( 'textProxy' ); // -> true\n     *\t\ttextProxy.is( 'model:textProxy' ); // -> true\n     *\n     *\t\ttextProxy.is( 'view:textProxy' ); // -> false\n     *\t\ttextProxy.is( 'range' ); // -> false\n     *\n     * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n     *\n     * @param {String} type\n     * @returns {Boolean}\n     */\n    value: function is(type) {\n      return type == 'textProxy' || type == 'model:textProxy';\n    }\n    /**\n     * Gets path to this text proxy.\n     *\n     * @see module:engine/model/node~Node#getPath\n     * @returns {Array.<Number>}\n     */\n\n  }, {\n    key: \"getPath\",\n    value: function getPath() {\n      var path = this.textNode.getPath();\n\n      if (path.length > 0) {\n        path[path.length - 1] += this.offsetInText;\n      }\n\n      return path;\n    }\n    /**\n     * Returns ancestors array of this text proxy.\n     *\n     * @param {Object} options Options object.\n     * @param {Boolean} [options.includeSelf=false] When set to `true` this text proxy will be also included in parent's array.\n     * @param {Boolean} [options.parentFirst=false] When set to `true`, array will be sorted from text proxy parent to root element,\n     * otherwise root element will be the first item in the array.\n     * @returns {Array} Array with ancestors.\n     */\n\n  }, {\n    key: \"getAncestors\",\n    value: function getAncestors() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        includeSelf: false,\n        parentFirst: false\n      };\n      var ancestors = [];\n      var parent = options.includeSelf ? this : this.parent;\n\n      while (parent) {\n        ancestors[options.parentFirst ? 'push' : 'unshift'](parent);\n        parent = parent.parent;\n      }\n\n      return ancestors;\n    }\n    /**\n     * Checks if this text proxy has an attribute for given key.\n     *\n     * @param {String} key Key of attribute to check.\n     * @returns {Boolean} `true` if attribute with given key is set on text proxy, `false` otherwise.\n     */\n\n  }, {\n    key: \"hasAttribute\",\n    value: function hasAttribute(key) {\n      return this.textNode.hasAttribute(key);\n    }\n    /**\n     * Gets an attribute value for given key or `undefined` if that attribute is not set on text proxy.\n     *\n     * @param {String} key Key of attribute to look for.\n     * @returns {*} Attribute value or `undefined`.\n     */\n\n  }, {\n    key: \"getAttribute\",\n    value: function getAttribute(key) {\n      return this.textNode.getAttribute(key);\n    }\n    /**\n     * Returns iterator that iterates over this node's attributes. Attributes are returned as arrays containing two\n     * items. First one is attribute key and second is attribute value.\n     *\n     * This format is accepted by native `Map` object and also can be passed in `Node` constructor.\n     *\n     * @returns {Iterable.<*>}\n     */\n\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this.textNode.getAttributes();\n    }\n    /**\n     * Returns iterator that iterates over this node's attribute keys.\n     *\n     * @returns {Iterable.<String>}\n     */\n\n  }, {\n    key: \"getAttributeKeys\",\n    value: function getAttributeKeys() {\n      return this.textNode.getAttributeKeys();\n    }\n  }, {\n    key: \"startOffset\",\n    get: function get() {\n      return this.textNode.startOffset !== null ? this.textNode.startOffset + this.offsetInText : null;\n    }\n    /**\n     * Offset size of this text proxy. Equal to the number of characters represented by the text proxy.\n     *\n     * @see module:engine/model/node~Node#offsetSize\n     * @readonly\n     * @type {Number}\n     */\n\n  }, {\n    key: \"offsetSize\",\n    get: function get() {\n      return this.data.length;\n    }\n    /**\n     * Offset at which this text proxy ends in it's parent.\n     *\n     * @see module:engine/model/node~Node#endOffset\n     * @readonly\n     * @type {Number}\n     */\n\n  }, {\n    key: \"endOffset\",\n    get: function get() {\n      return this.startOffset !== null ? this.startOffset + this.offsetSize : null;\n    }\n    /**\n     * Flag indicating whether `TextProxy` instance covers only part of the original {@link module:engine/model/text~Text text node}\n     * (`true`) or the whole text node (`false`).\n     *\n     * This is `false` when text proxy starts at the very beginning of {@link module:engine/model/textproxy~TextProxy#textNode textNode}\n     * ({@link module:engine/model/textproxy~TextProxy#offsetInText offsetInText} equals `0`) and text proxy sizes is equal to\n     * text node size.\n     *\n     * @readonly\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"isPartial\",\n    get: function get() {\n      return this.offsetSize !== this.textNode.offsetSize;\n    }\n    /**\n     * Parent of this text proxy, which is same as parent of text node represented by this text proxy.\n     *\n     * @readonly\n     * @type {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment|null}\n     */\n\n  }, {\n    key: \"parent\",\n    get: function get() {\n      return this.textNode.parent;\n    }\n    /**\n     * Root of this text proxy, which is same as root of text node represented by this text proxy.\n     *\n     * @readonly\n     * @type {module:engine/model/node~Node|module:engine/model/documentfragment~DocumentFragment}\n     */\n\n  }, {\n    key: \"root\",\n    get: function get() {\n      return this.textNode.root;\n    }\n    /**\n     * {@link module:engine/model/document~Document Document} that owns text node represented by this text proxy or `null` if the text node\n     * has no parent or is inside a {@link module:engine/model/documentfragment~DocumentFragment DocumentFragment}.\n     *\n     * @readonly\n     * @type {module:engine/model/document~Document|null}\n     */\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.textNode.document;\n    }\n  }]);\n\n  return TextProxy;\n}();\n\nexport { TextProxy as default };","import _toConsumableArray from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/nodelist\n */\nimport Node from \"./node\";\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n/**\n * Provides an interface to operate on a list of {@link module:engine/model/node~Node nodes}. `NodeList` is used internally\n * in classes like {@link module:engine/model/element~Element Element}\n * or {@link module:engine/model/documentfragment~DocumentFragment DocumentFragment}.\n */\n\nvar NodeList =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates an empty node list.\n   *\n   * @protected\n   * @param {Iterable.<module:engine/model/node~Node>} nodes Nodes contained in this node list.\n   */\n  function NodeList(nodes) {\n    _classCallCheck(this, NodeList);\n\n    /**\n     * Nodes contained in this node list.\n     *\n     * @private\n     * @member {Array.<module:engine/model/node~Node>}\n     */\n    this._nodes = [];\n\n    if (nodes) {\n      this._insertNodes(0, nodes);\n    }\n  }\n  /**\n   * Iterable interface.\n   *\n   * Iterates over all nodes contained inside this node list.\n   *\n   * @returns {Iterable.<module:engine/model/node~Node>}\n   */\n\n\n  _createClass(NodeList, [{\n    key: Symbol.iterator,\n    value: function value() {\n      return this._nodes[Symbol.iterator]();\n    }\n    /**\n     * Number of nodes contained inside this node list.\n     *\n     * @readonly\n     * @type {Number}\n     */\n\n  }, {\n    key: \"getNode\",\n\n    /**\n     * Gets the node at the given index. Returns `null` if incorrect index was passed.\n     *\n     * @param {Number} index Index of node.\n     * @returns {module:engine/model/node~Node|null} Node at given index.\n     */\n    value: function getNode(index) {\n      return this._nodes[index] || null;\n    }\n    /**\n     * Returns an index of the given node. Returns `null` if given node is not inside this node list.\n     *\n     * @param {module:engine/model/node~Node} node Child node to look for.\n     * @returns {Number|null} Child node's index.\n     */\n\n  }, {\n    key: \"getNodeIndex\",\n    value: function getNodeIndex(node) {\n      var index = this._nodes.indexOf(node);\n\n      return index == -1 ? null : index;\n    }\n    /**\n     * Returns the starting offset of given node. Starting offset is equal to the sum of\n     * {@link module:engine/model/node~Node#offsetSize offset sizes} of all nodes that are before this node in this node list.\n     *\n     * @param {module:engine/model/node~Node} node Node to look for.\n     * @returns {Number|null} Node's starting offset.\n     */\n\n  }, {\n    key: \"getNodeStartOffset\",\n    value: function getNodeStartOffset(node) {\n      var index = this.getNodeIndex(node);\n      return index === null ? null : this._nodes.slice(0, index).reduce(function (sum, node) {\n        return sum + node.offsetSize;\n      }, 0);\n    }\n    /**\n     * Converts index to offset in node list.\n     *\n     * Returns starting offset of a node that is at given index. Throws {@link module:utils/ckeditorerror~CKEditorError CKEditorError}\n     * `model-nodelist-index-out-of-bounds` if given index is less than `0` or more than {@link #length}.\n     *\n     * @param {Number} index Node's index.\n     * @returns {Number} Node's starting offset.\n     */\n\n  }, {\n    key: \"indexToOffset\",\n    value: function indexToOffset(index) {\n      if (index == this._nodes.length) {\n        return this.maxOffset;\n      }\n\n      var node = this._nodes[index];\n\n      if (!node) {\n        /**\n         * Given index cannot be found in the node list.\n         *\n         * @error nodelist-index-out-of-bounds\n         */\n        throw new CKEditorError('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.', this);\n      }\n\n      return this.getNodeStartOffset(node);\n    }\n    /**\n     * Converts offset in node list to index.\n     *\n     * Returns index of a node that occupies given offset. Throws {@link module:utils/ckeditorerror~CKEditorError CKEditorError}\n     * `model-nodelist-offset-out-of-bounds` if given offset is less than `0` or more than {@link #maxOffset}.\n     *\n     * @param {Number} offset Offset to look for.\n     * @returns {Number} Index of a node that occupies given offset.\n     */\n\n  }, {\n    key: \"offsetToIndex\",\n    value: function offsetToIndex(offset) {\n      var totalOffset = 0;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this._nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var node = _step.value;\n\n          if (offset >= totalOffset && offset < totalOffset + node.offsetSize) {\n            return this.getNodeIndex(node);\n          }\n\n          totalOffset += node.offsetSize;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (totalOffset != offset) {\n        /**\n         * Given offset cannot be found in the node list.\n         *\n         * @error model-nodelist-offset-out-of-bounds\n         * @param {Number} offset\n         * @param {module:engine/model/nodelist~NodeList} nodeList Stringified node list.\n         */\n        throw new CKEditorError('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.', this, {\n          offset: offset,\n          nodeList: this\n        });\n      }\n\n      return this.length;\n    }\n    /**\n     * Inserts given nodes at given index.\n     *\n     * @protected\n     * @param {Number} index Index at which nodes should be inserted.\n     * @param {Iterable.<module:engine/model/node~Node>} nodes Nodes to be inserted.\n     */\n\n  }, {\n    key: \"_insertNodes\",\n    value: function _insertNodes(index, nodes) {\n      var _this$_nodes;\n\n      // Validation.\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = nodes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var node = _step2.value;\n\n          if (!(node instanceof Node)) {\n            /**\n             * Trying to insert an object which is not a Node instance.\n             *\n             * @error nodelist-insertNodes-not-node\n             */\n            throw new CKEditorError('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.', this);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      (_this$_nodes = this._nodes).splice.apply(_this$_nodes, [index, 0].concat(_toConsumableArray(nodes)));\n    }\n    /**\n     * Removes one or more nodes starting at the given index.\n     *\n     * @protected\n     * @param {Number} indexStart Index of the first node to remove.\n     * @param {Number} [howMany=1] Number of nodes to remove.\n     * @returns {Array.<module:engine/model/node~Node>} Array containing removed nodes.\n     */\n\n  }, {\n    key: \"_removeNodes\",\n    value: function _removeNodes(indexStart) {\n      var howMany = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return this._nodes.splice(indexStart, howMany);\n    }\n    /**\n     * Converts `NodeList` instance to an array containing nodes that were inserted in the node list. Nodes\n     * are also converted to their plain object representation.\n     *\n     * @returns {Array.<module:engine/model/node~Node>} `NodeList` instance converted to `Array`.\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this._nodes.map(function (node) {\n        return node.toJSON();\n      });\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this._nodes.length;\n    }\n    /**\n     * Sum of {@link module:engine/model/node~Node#offsetSize offset sizes} of all nodes contained inside this node list.\n     *\n     * @readonly\n     * @type {Number}\n     */\n\n  }, {\n    key: \"maxOffset\",\n    get: function get() {\n      return this._nodes.reduce(function (sum, node) {\n        return sum + node.offsetSize;\n      }, 0);\n    }\n  }]);\n\n  return NodeList;\n}();\n\nexport { NodeList as default };","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _get from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/get\";\nimport _inherits from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/element\n */\nimport Node from \"./node\";\nimport NodeList from \"./nodelist\";\nimport Text from \"./text\";\nimport TextProxy from \"./textproxy\";\nimport isIterable from '@ckeditor/ckeditor5-utils/src/isiterable';\n/**\n * Model element. Type of {@link module:engine/model/node~Node node} that has a {@link module:engine/model/element~Element#name name} and\n * {@link module:engine/model/element~Element#getChildren child nodes}.\n *\n * **Important**: see {@link module:engine/model/node~Node} to read about restrictions using `Element` and `Node` API.\n *\n * @extends module:engine/model/node~Node\n */\n\nvar Element =\n/*#__PURE__*/\nfunction (_Node) {\n  _inherits(Element, _Node);\n\n  /**\n   * Creates a model element.\n   *\n   * **Note:** Constructor of this class shouldn't be used directly in the code.\n   * Use the {@link module:engine/model/writer~Writer#createElement} method instead.\n   *\n   * @protected\n   * @param {String} name Element's name.\n   * @param {Object} [attrs] Element's attributes. See {@link module:utils/tomap~toMap} for a list of accepted values.\n   * @param {module:engine/model/node~Node|Iterable.<module:engine/model/node~Node>} [children]\n   * One or more nodes to be inserted as children of created element.\n   */\n  function Element(name, attrs, children) {\n    var _this;\n\n    _classCallCheck(this, Element);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Element).call(this, attrs));\n    /**\n     * Element name.\n     *\n     * @readonly\n     * @member {String} module:engine/model/element~Element#name\n     */\n\n    _this.name = name;\n    /**\n     * List of children nodes.\n     *\n     * @private\n     * @member {module:engine/model/nodelist~NodeList} module:engine/model/element~Element#_children\n     */\n\n    _this._children = new NodeList();\n\n    if (children) {\n      _this._insertChild(0, children);\n    }\n\n    return _this;\n  }\n  /**\n   * Number of this element's children.\n   *\n   * @readonly\n   * @type {Number}\n   */\n\n\n  _createClass(Element, [{\n    key: \"is\",\n\n    /**\n     * Checks whether this object is of the given.\n     *\n     *\t\telement.is( 'element' ); // -> true\n     *\t\telement.is( 'node' ); // -> true\n     *\t\telement.is( 'model:element' ); // -> true\n     *\t\telement.is( 'model:node' ); // -> true\n     *\n     *\t\telement.is( 'view:element' ); // -> false\n     *\t\telement.is( 'documentSelection' ); // -> false\n     *\n     * Assuming that the object being checked is an element, you can also check its\n     * {@link module:engine/model/element~Element#name name}:\n     *\n     *\t\telement.is( 'image' ); // -> true if this is an <image> element\n     *\t\telement.is( 'element', 'image' ); // -> same as above\n     *\t\ttext.is( 'image' ); -> false\n     *\n     * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n     *\n     * @param {String} type Type to check when `name` parameter is present.\n     * Otherwise, it acts like the `name` parameter.\n     * @param {String} [name] Element name.\n     * @returns {Boolean}\n     */\n    value: function is(type) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var cutType = type.replace(/^model:/, '');\n\n      if (!name) {\n        return cutType == 'element' || cutType == this.name || _get(_getPrototypeOf(Element.prototype), \"is\", this).call(this, type);\n      } else {\n        return cutType == 'element' && name == this.name;\n      }\n    }\n    /**\n     * Gets the child at the given index.\n     *\n     * @param {Number} index Index of child.\n     * @returns {module:engine/model/node~Node} Child node.\n     */\n\n  }, {\n    key: \"getChild\",\n    value: function getChild(index) {\n      return this._children.getNode(index);\n    }\n    /**\n     * Returns an iterator that iterates over all of this element's children.\n     *\n     * @returns {Iterable.<module:engine/model/node~Node>}\n     */\n\n  }, {\n    key: \"getChildren\",\n    value: function getChildren() {\n      return this._children[Symbol.iterator]();\n    }\n    /**\n     * Returns an index of the given child node. Returns `null` if given node is not a child of this element.\n     *\n     * @param {module:engine/model/node~Node} node Child node to look for.\n     * @returns {Number} Child node's index in this element.\n     */\n\n  }, {\n    key: \"getChildIndex\",\n    value: function getChildIndex(node) {\n      return this._children.getNodeIndex(node);\n    }\n    /**\n     * Returns the starting offset of given child. Starting offset is equal to the sum of\n     * {@link module:engine/model/node~Node#offsetSize offset sizes} of all node's siblings that are before it. Returns `null` if\n     * given node is not a child of this element.\n     *\n     * @param {module:engine/model/node~Node} node Child node to look for.\n     * @returns {Number} Child node's starting offset.\n     */\n\n  }, {\n    key: \"getChildStartOffset\",\n    value: function getChildStartOffset(node) {\n      return this._children.getNodeStartOffset(node);\n    }\n    /**\n     * Returns index of a node that occupies given offset. If given offset is too low, returns `0`. If given offset is\n     * too high, returns {@link module:engine/model/element~Element#getChildIndex index after last child}.\n     *\n     *\t\tconst textNode = new Text( 'foo' );\n     *\t\tconst pElement = new Element( 'p' );\n     *\t\tconst divElement = new Element( [ textNode, pElement ] );\n     *\t\tdivElement.offsetToIndex( -1 ); // Returns 0, because offset is too low.\n     *\t\tdivElement.offsetToIndex( 0 ); // Returns 0, because offset 0 is taken by `textNode` which is at index 0.\n     *\t\tdivElement.offsetToIndex( 1 ); // Returns 0, because `textNode` has `offsetSize` equal to 3, so it occupies offset 1 too.\n     *\t\tdivElement.offsetToIndex( 2 ); // Returns 0.\n     *\t\tdivElement.offsetToIndex( 3 ); // Returns 1.\n     *\t\tdivElement.offsetToIndex( 4 ); // Returns 2. There are no nodes at offset 4, so last available index is returned.\n     *\n     * @param {Number} offset Offset to look for.\n     * @returns {Number}\n     */\n\n  }, {\n    key: \"offsetToIndex\",\n    value: function offsetToIndex(offset) {\n      return this._children.offsetToIndex(offset);\n    }\n    /**\n     * Returns a descendant node by its path relative to this element.\n     *\n     *\t\t// <this>a<b>c</b></this>\n     *\t\tthis.getNodeByPath( [ 0 ] );     // -> \"a\"\n     *\t\tthis.getNodeByPath( [ 1 ] );     // -> <b>\n     *\t\tthis.getNodeByPath( [ 1, 0 ] );  // -> \"c\"\n     *\n     * @param {Array.<Number>} relativePath Path of the node to find, relative to this element.\n     * @returns {module:engine/model/node~Node}\n     */\n\n  }, {\n    key: \"getNodeByPath\",\n    value: function getNodeByPath(relativePath) {\n      var node = this; // eslint-disable-line consistent-this\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = relativePath[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var index = _step.value;\n          node = node.getChild(node.offsetToIndex(index));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return node;\n    }\n    /**\n     * Converts `Element` instance to plain object and returns it. Takes care of converting all of this element's children.\n     *\n     * @returns {Object} `Element` instance converted to plain object.\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = _get(_getPrototypeOf(Element.prototype), \"toJSON\", this).call(this);\n\n      json.name = this.name;\n\n      if (this._children.length > 0) {\n        json.children = [];\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = this._children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var node = _step2.value;\n            json.children.push(node.toJSON());\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      return json;\n    }\n    /**\n     * Creates a copy of this element and returns it. Created element has the same name and attributes as the original element.\n     * If clone is deep, the original element's children are also cloned. If not, then empty element is removed.\n     *\n     * @protected\n     * @param {Boolean} [deep=false] If set to `true` clones element and all its children recursively. When set to `false`,\n     * element will be cloned without any child.\n     */\n\n  }, {\n    key: \"_clone\",\n    value: function _clone() {\n      var deep = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var children = deep ? Array.from(this._children).map(function (node) {\n        return node._clone(true);\n      }) : null;\n      return new Element(this.name, this.getAttributes(), children);\n    }\n    /**\n     * {@link module:engine/model/element~Element#_insertChild Inserts} one or more nodes at the end of this element.\n     *\n     * @see module:engine/model/writer~Writer#append\n     * @protected\n     * @param {module:engine/model/item~Item|Iterable.<module:engine/model/item~Item>} nodes Nodes to be inserted.\n     */\n\n  }, {\n    key: \"_appendChild\",\n    value: function _appendChild(nodes) {\n      this._insertChild(this.childCount, nodes);\n    }\n    /**\n     * Inserts one or more nodes at the given index and sets {@link module:engine/model/node~Node#parent parent} of these nodes\n     * to this element.\n     *\n     * @see module:engine/model/writer~Writer#insert\n     * @protected\n     * @param {Number} index Index at which nodes should be inserted.\n     * @param {module:engine/model/item~Item|Iterable.<module:engine/model/item~Item>} items Items to be inserted.\n     */\n\n  }, {\n    key: \"_insertChild\",\n    value: function _insertChild(index, items) {\n      var nodes = normalize(items);\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = nodes[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var node = _step3.value;\n\n          // If node that is being added to this element is already inside another element, first remove it from the old parent.\n          if (node.parent !== null) {\n            node._remove();\n          }\n\n          node.parent = this;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      this._children._insertNodes(index, nodes);\n    }\n    /**\n     * Removes one or more nodes starting at the given index and sets\n     * {@link module:engine/model/node~Node#parent parent} of these nodes to `null`.\n     *\n     * @see module:engine/model/writer~Writer#remove\n     * @protected\n     * @param {Number} index Index of the first node to remove.\n     * @param {Number} [howMany=1] Number of nodes to remove.\n     * @returns {Array.<module:engine/model/node~Node>} Array containing removed nodes.\n     */\n\n  }, {\n    key: \"_removeChildren\",\n    value: function _removeChildren(index) {\n      var howMany = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      var nodes = this._children._removeNodes(index, howMany);\n\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = nodes[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var node = _step4.value;\n          node.parent = null;\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      return nodes;\n    }\n    /**\n     * Creates an `Element` instance from given plain object (i.e. parsed JSON string).\n     * Converts `Element` children to proper nodes.\n     *\n     * @param {Object} json Plain object to be converted to `Element`.\n     * @returns {module:engine/model/element~Element} `Element` instance created using given plain object.\n     */\n\n  }, {\n    key: \"childCount\",\n    get: function get() {\n      return this._children.length;\n    }\n    /**\n     * Sum of {@link module:engine/model/node~Node#offsetSize offset sizes} of all of this element's children.\n     *\n     * @readonly\n     * @type {Number}\n     */\n\n  }, {\n    key: \"maxOffset\",\n    get: function get() {\n      return this._children.maxOffset;\n    }\n    /**\n     * Is `true` if there are no nodes inside this element, `false` otherwise.\n     *\n     * @readonly\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      return this.childCount === 0;\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      var children = null;\n\n      if (json.children) {\n        children = [];\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = json.children[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var child = _step5.value;\n\n            if (child.name) {\n              // If child has name property, it is an Element.\n              children.push(Element.fromJSON(child));\n            } else {\n              // Otherwise, it is a Text node.\n              children.push(Text.fromJSON(child));\n            }\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n      }\n\n      return new Element(json.name, json.attributes, children);\n    }\n  }]);\n\n  return Element;\n}(Node); // Converts strings to Text and non-iterables to arrays.\n//\n// @param {String|module:engine/model/item~Item|Iterable.<String|module:engine/model/item~Item>}\n// @returns {Iterable.<module:engine/model/node~Node>}\n\n\nexport { Element as default };\n\nfunction normalize(nodes) {\n  // Separate condition because string is iterable.\n  if (typeof nodes == 'string') {\n    return [new Text(nodes)];\n  }\n\n  if (!isIterable(nodes)) {\n    nodes = [nodes];\n  } // Array.from to enable .map() on non-arrays.\n\n\n  return Array.from(nodes).map(function (node) {\n    if (typeof node == 'string') {\n      return new Text(node);\n    }\n\n    if (node instanceof TextProxy) {\n      return new Text(node.data, node.getAttributes());\n    }\n\n    return node;\n  });\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/treewalker\n */\nimport Text from \"./text\";\nimport TextProxy from \"./textproxy\";\nimport Element from \"./element\";\nimport Position from \"./position\";\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n/**\n * Position iterator class. It allows to iterate forward and backward over the document.\n */\n\nvar TreeWalker =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a range iterator. All parameters are optional, but you have to specify either `boundaries` or `startPosition`.\n   *\n   * @constructor\n   * @param {Object} [options={}] Object with configuration.\n   * @param {'forward'|'backward'} [options.direction='forward'] Walking direction.\n   * @param {module:engine/model/range~Range} [options.boundaries=null] Range to define boundaries of the iterator.\n   * @param {module:engine/model/position~Position} [options.startPosition] Starting position.\n   * @param {Boolean} [options.singleCharacters=false] Flag indicating whether all consecutive characters with the same attributes\n   * should be returned one by one as multiple {@link module:engine/model/textproxy~TextProxy} (`true`) objects or as one\n   * {@link module:engine/model/textproxy~TextProxy} (`false`).\n   * @param {Boolean} [options.shallow=false] Flag indicating whether iterator should enter elements or not. If the\n   * iterator is shallow child nodes of any iterated node will not be returned along with `elementEnd` tag.\n   * @param {Boolean} [options.ignoreElementEnd=false] Flag indicating whether iterator should ignore `elementEnd`\n   * tags. If the option is true walker will not return a parent node of start position. If this option is `true`\n   * each {@link module:engine/model/element~Element} will be returned once, while if the option is `false` they might be returned\n   * twice: for `'elementStart'` and `'elementEnd'`.\n   */\n  function TreeWalker() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TreeWalker);\n\n    if (!options.boundaries && !options.startPosition) {\n      /**\n       * Neither boundaries nor starting position of a `TreeWalker` have been defined.\n       *\n       * @error model-tree-walker-no-start-position\n       */\n      throw new CKEditorError('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.', null);\n    }\n\n    var direction = options.direction || 'forward';\n\n    if (direction != 'forward' && direction != 'backward') {\n      throw new CKEditorError('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.', options, {\n        direction: direction\n      });\n    }\n    /**\n     * Walking direction. Defaults `'forward'`.\n     *\n     * @readonly\n     * @member {'backward'|'forward'} module:engine/model/treewalker~TreeWalker#direction\n     */\n\n\n    this.direction = direction;\n    /**\n     * Iterator boundaries.\n     *\n     * When the iterator is walking `'forward'` on the end of boundary or is walking `'backward'`\n     * on the start of boundary, then `{ done: true }` is returned.\n     *\n     * If boundaries are not defined they are set before first and after last child of the root node.\n     *\n     * @readonly\n     * @member {module:engine/model/range~Range} module:engine/model/treewalker~TreeWalker#boundaries\n     */\n\n    this.boundaries = options.boundaries || null;\n    /**\n     * Iterator position. This is always static position, even if the initial position was a\n     * {@link module:engine/model/liveposition~LivePosition live position}. If start position is not defined then position depends\n     * on {@link #direction}. If direction is `'forward'` position starts form the beginning, when direction\n     * is `'backward'` position starts from the end.\n     *\n     * @readonly\n     * @member {module:engine/model/position~Position} module:engine/model/treewalker~TreeWalker#position\n     */\n\n    if (options.startPosition) {\n      this.position = options.startPosition.clone();\n    } else {\n      this.position = Position._createAt(this.boundaries[this.direction == 'backward' ? 'end' : 'start']);\n    } // Reset position stickiness in case it was set to other value, as the stickiness is kept after cloning.\n\n\n    this.position.stickiness = 'toNone';\n    /**\n     * Flag indicating whether all consecutive characters with the same attributes should be\n     * returned as one {@link module:engine/model/textproxy~TextProxy} (`true`) or one by one (`false`).\n     *\n     * @readonly\n     * @member {Boolean} module:engine/model/treewalker~TreeWalker#singleCharacters\n     */\n\n    this.singleCharacters = !!options.singleCharacters;\n    /**\n     * Flag indicating whether iterator should enter elements or not. If the iterator is shallow child nodes of any\n     * iterated node will not be returned along with `elementEnd` tag.\n     *\n     * @readonly\n     * @member {Boolean} module:engine/model/treewalker~TreeWalker#shallow\n     */\n\n    this.shallow = !!options.shallow;\n    /**\n     * Flag indicating whether iterator should ignore `elementEnd` tags. If the option is true walker will not\n     * return a parent node of the start position. If this option is `true` each {@link module:engine/model/element~Element} will\n     * be returned once, while if the option is `false` they might be returned twice:\n     * for `'elementStart'` and `'elementEnd'`.\n     *\n     * @readonly\n     * @member {Boolean} module:engine/model/treewalker~TreeWalker#ignoreElementEnd\n     */\n\n    this.ignoreElementEnd = !!options.ignoreElementEnd;\n    /**\n     * Start boundary cached for optimization purposes.\n     *\n     * @private\n     * @member {module:engine/model/element~Element} module:engine/model/treewalker~TreeWalker#_boundaryStartParent\n     */\n\n    this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null;\n    /**\n     * End boundary cached for optimization purposes.\n     *\n     * @private\n     * @member {module:engine/model/element~Element} module:engine/model/treewalker~TreeWalker#_boundaryEndParent\n     */\n\n    this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null;\n    /**\n     * Parent of the most recently visited node. Cached for optimization purposes.\n     *\n     * @private\n     * @member {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment}\n     * module:engine/model/treewalker~TreeWalker#_visitedParent\n     */\n\n    this._visitedParent = this.position.parent;\n  }\n  /**\n   * Iterable interface.\n   *\n   * @returns {Iterable.<module:engine/model/treewalker~TreeWalkerValue>}\n   */\n\n\n  _createClass(TreeWalker, [{\n    key: Symbol.iterator,\n    value: function value() {\n      return this;\n    }\n    /**\n     * Moves {@link #position} in the {@link #direction} skipping values as long as the callback function returns `true`.\n     *\n     * For example:\n     *\n     * \t\twalker.skip( value => value.type == 'text' ); // <paragraph>[]foo</paragraph> -> <paragraph>foo[]</paragraph>\n     * \t\twalker.skip( () => true ); // Move the position to the end: <paragraph>[]foo</paragraph> -> <paragraph>foo</paragraph>[]\n     * \t\twalker.skip( () => false ); // Do not move the position.\n     *\n     * @param {Function} skip Callback function. Gets {@link module:engine/model/treewalker~TreeWalkerValue} and should\n     * return `true` if the value should be skipped or `false` if not.\n     */\n\n  }, {\n    key: \"skip\",\n    value: function skip(_skip) {\n      var done, value, prevPosition, prevVisitedParent;\n\n      do {\n        prevPosition = this.position;\n        prevVisitedParent = this._visitedParent;\n\n        var _this$next = this.next();\n\n        done = _this$next.done;\n        value = _this$next.value;\n      } while (!done && _skip(value));\n\n      if (!done) {\n        this.position = prevPosition;\n        this._visitedParent = prevVisitedParent;\n      }\n    }\n    /**\n     * Gets the next tree walker's value.\n     *\n     * @returns {module:engine/model/treewalker~TreeWalkerValue} Next tree walker's value.\n     */\n\n  }, {\n    key: \"next\",\n    value: function next() {\n      if (this.direction == 'forward') {\n        return this._next();\n      } else {\n        return this._previous();\n      }\n    }\n    /**\n     * Makes a step forward in model. Moves the {@link #position} to the next position and returns the encountered value.\n     *\n     * @private\n     * @returns {Object}\n     * @returns {Boolean} return.done True if iterator is done.\n     * @returns {module:engine/model/treewalker~TreeWalkerValue} return.value Information about taken step.\n     */\n\n  }, {\n    key: \"_next\",\n    value: function _next() {\n      var previousPosition = this.position;\n      var position = this.position.clone();\n      var parent = this._visitedParent; // We are at the end of the root.\n\n      if (parent.parent === null && position.offset === parent.maxOffset) {\n        return {\n          done: true\n        };\n      } // We reached the walker boundary.\n\n\n      if (parent === this._boundaryEndParent && position.offset == this.boundaries.end.offset) {\n        return {\n          done: true\n        };\n      }\n\n      var node = position.textNode ? position.textNode : position.nodeAfter;\n\n      if (node instanceof Element) {\n        if (!this.shallow) {\n          // Manual operations on path internals for optimization purposes. Here and in the rest of the method.\n          position.path.push(0);\n          this._visitedParent = node;\n        } else {\n          position.offset++;\n        }\n\n        this.position = position;\n        return formatReturnValue('elementStart', node, previousPosition, position, 1);\n      } else if (node instanceof Text) {\n        var charactersCount;\n\n        if (this.singleCharacters) {\n          charactersCount = 1;\n        } else {\n          var offset = node.endOffset;\n\n          if (this._boundaryEndParent == parent && this.boundaries.end.offset < offset) {\n            offset = this.boundaries.end.offset;\n          }\n\n          charactersCount = offset - position.offset;\n        }\n\n        var offsetInTextNode = position.offset - node.startOffset;\n        var item = new TextProxy(node, offsetInTextNode, charactersCount);\n        position.offset += charactersCount;\n        this.position = position;\n        return formatReturnValue('text', item, previousPosition, position, charactersCount);\n      } else {\n        // `node` is not set, we reached the end of current `parent`.\n        position.path.pop();\n        position.offset++;\n        this.position = position;\n        this._visitedParent = parent.parent;\n\n        if (this.ignoreElementEnd) {\n          return this._next();\n        } else {\n          return formatReturnValue('elementEnd', parent, previousPosition, position);\n        }\n      }\n    }\n    /**\n     * Makes a step backward in model. Moves the {@link #position} to the previous position and returns the encountered value.\n     *\n     * @private\n     * @returns {Object}\n     * @returns {Boolean} return.done True if iterator is done.\n     * @returns {module:engine/model/treewalker~TreeWalkerValue} return.value Information about taken step.\n     */\n\n  }, {\n    key: \"_previous\",\n    value: function _previous() {\n      var previousPosition = this.position;\n      var position = this.position.clone();\n      var parent = this._visitedParent; // We are at the beginning of the root.\n\n      if (parent.parent === null && position.offset === 0) {\n        return {\n          done: true\n        };\n      } // We reached the walker boundary.\n\n\n      if (parent == this._boundaryStartParent && position.offset == this.boundaries.start.offset) {\n        return {\n          done: true\n        };\n      } // Get node just before current position\n\n\n      var node = position.textNode ? position.textNode : position.nodeBefore;\n\n      if (node instanceof Element) {\n        position.offset--;\n\n        if (!this.shallow) {\n          position.path.push(node.maxOffset);\n          this.position = position;\n          this._visitedParent = node;\n\n          if (this.ignoreElementEnd) {\n            return this._previous();\n          } else {\n            return formatReturnValue('elementEnd', node, previousPosition, position);\n          }\n        } else {\n          this.position = position;\n          return formatReturnValue('elementStart', node, previousPosition, position, 1);\n        }\n      } else if (node instanceof Text) {\n        var charactersCount;\n\n        if (this.singleCharacters) {\n          charactersCount = 1;\n        } else {\n          var offset = node.startOffset;\n\n          if (this._boundaryStartParent == parent && this.boundaries.start.offset > offset) {\n            offset = this.boundaries.start.offset;\n          }\n\n          charactersCount = position.offset - offset;\n        }\n\n        var offsetInTextNode = position.offset - node.startOffset;\n        var item = new TextProxy(node, offsetInTextNode - charactersCount, charactersCount);\n        position.offset -= charactersCount;\n        this.position = position;\n        return formatReturnValue('text', item, previousPosition, position, charactersCount);\n      } else {\n        // `node` is not set, we reached the beginning of current `parent`.\n        position.path.pop();\n        this.position = position;\n        this._visitedParent = parent.parent;\n        return formatReturnValue('elementStart', parent, previousPosition, position, 1);\n      }\n    }\n  }]);\n\n  return TreeWalker;\n}();\n\nexport { TreeWalker as default };\n\nfunction formatReturnValue(type, item, previousPosition, nextPosition, length) {\n  return {\n    done: false,\n    value: {\n      type: type,\n      item: item,\n      previousPosition: previousPosition,\n      nextPosition: nextPosition,\n      length: length\n    }\n  };\n}\n/**\n * Type of the step made by {@link module:engine/model/treewalker~TreeWalker}.\n * Possible values: `'elementStart'` if walker is at the beginning of a node, `'elementEnd'` if walker is at the end of node,\n * `'character'` if walker traversed over a character, or `'text'` if walker traversed over multiple characters (available in\n * character merging mode, see {@link module:engine/model/treewalker~TreeWalker#constructor}).\n *\n * @typedef {'elementStart'|'elementEnd'|'character'|'text'} module:engine/model/treewalker~TreeWalkerValueType\n */\n\n/**\n * Object returned by {@link module:engine/model/treewalker~TreeWalker} when traversing tree model.\n *\n * @typedef {Object} module:engine/model/treewalker~TreeWalkerValue\n * @property {module:engine/model/treewalker~TreeWalkerValueType} type\n * @property {module:engine/model/item~Item} item Item between old and new positions of {@link module:engine/model/treewalker~TreeWalker}.\n * @property {module:engine/model/position~Position} previousPosition Previous position of the iterator.\n * * Forward iteration: For `'elementEnd'` it is the last position inside the element. For all other types it is the\n * position before the item.\n * * Backward iteration: For `'elementStart'` it is the first position inside the element. For all other types it is\n * the position after item.\n * @property {module:engine/model/position~Position} nextPosition Next position of the iterator.\n * * Forward iteration: For `'elementStart'` it is the first position inside the element. For all other types it is\n * the position after the item.\n * * Backward iteration: For `'elementEnd'` it is last position inside element. For all other types it is the position\n * before the item.\n * @property {Number} [length] Length of the item. For `'elementStart'` and `'character'` it is 1. For `'text'` it is\n * the length of the text. For `'elementEnd'` it is `undefined`.\n */\n\n/**\n * Tree walking directions.\n *\n * @typedef {'forward'|'backward'} module:engine/view/treewalker~TreeWalkerDirection\n */","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/position\n */\nimport TreeWalker from \"./treewalker\";\nimport compareArrays from '@ckeditor/ckeditor5-utils/src/comparearrays';\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\nimport Text from \"./text\";\nimport { last } from 'lodash-es'; // To check if component is loaded more than once.\n\nimport '@ckeditor/ckeditor5-utils/src/version';\n/**\n * Represents a position in the model tree.\n *\n * A position is represented by its {@link module:engine/model/position~Position#root} and\n * a {@link module:engine/model/position~Position#path} in that root.\n *\n * You can create position instances via its constructor or the `createPosition*()` factory methods of\n * {@link module:engine/model/model~Model} and {@link module:engine/model/writer~Writer}.\n *\n * **Note:** Position is based on offsets, not indexes. This means that a position between two text nodes\n * `foo` and `bar` has offset `3`, not `1`. See {@link module:engine/model/position~Position#path} for more information.\n *\n * Since a position in the model is represented by a {@link module:engine/model/position~Position#root position root} and\n * {@link module:engine/model/position~Position#path position path} it is possible to create positions placed in non-existing places.\n * This requirement is important for operational transformation algorithms.\n *\n * Also, {@link module:engine/model/operation/operation~Operation operations}\n * kept in the {@link module:engine/model/document~Document#history document history}\n * are storing positions (and ranges) which were correct when those operations were applied, but may not be correct\n * after the document has changed.\n *\n * When changes are applied to the model, it may also happen that {@link module:engine/model/position~Position#parent position parent}\n * will change even if position path has not changed. Keep in mind, that if a position leads to non-existing element,\n * {@link module:engine/model/position~Position#parent} and some other properties and methods will throw errors.\n *\n * In most cases, position with wrong path is caused by an error in code, but it is sometimes needed, as described above.\n */\n\nvar Position =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a position.\n   *\n   * @param {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment} root Root of the position.\n   * @param {Array.<Number>} path Position path. See {@link module:engine/model/position~Position#path}.\n   * @param {module:engine/model/position~PositionStickiness} [stickiness='toNone'] Position stickiness.\n   * See {@link module:engine/model/position~PositionStickiness}.\n   */\n  function Position(root, path) {\n    var stickiness = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'toNone';\n\n    _classCallCheck(this, Position);\n\n    if (!root.is('element') && !root.is('documentFragment')) {\n      /**\n       * Position root is invalid.\n       *\n       * Positions can only be anchored in elements or document fragments.\n       *\n       * @error model-position-root-invalid\n       */\n      throw new CKEditorError('model-position-root-invalid: Position root invalid.', root);\n    }\n\n    if (!(path instanceof Array) || path.length === 0) {\n      /**\n       * Position path must be an array with at least one item.\n       *\n       * @error model-position-path-incorrect-format\n       * @param path\n       */\n      throw new CKEditorError('model-position-path-incorrect-format: Position path must be an array with at least one item.', root, {\n        path: path\n      });\n    } // Normalize the root and path (if element was passed).\n\n\n    path = root.getPath().concat(path);\n    root = root.root;\n    /**\n     * Root of the position path.\n     *\n     * @readonly\n     * @member {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment}\n     * module:engine/model/position~Position#root\n     */\n\n    this.root = root;\n    /**\n     * Position of the node in the tree. **Path contains offsets, not indexes.**\n     *\n     * Position can be placed before, after or in a {@link module:engine/model/node~Node node} if that node has\n     * {@link module:engine/model/node~Node#offsetSize} greater than `1`. Items in position path are\n     * {@link module:engine/model/node~Node#startOffset starting offsets} of position ancestors, starting from direct root children,\n     * down to the position offset in it's parent.\n     *\n     *\t\t ROOT\n     *\t\t  |- P            before: [ 0 ]         after: [ 1 ]\n     *\t\t  |- UL           before: [ 1 ]         after: [ 2 ]\n     *\t\t     |- LI        before: [ 1, 0 ]      after: [ 1, 1 ]\n     *\t\t     |  |- foo    before: [ 1, 0, 0 ]   after: [ 1, 0, 3 ]\n     *\t\t     |- LI        before: [ 1, 1 ]      after: [ 1, 2 ]\n     *\t\t        |- bar    before: [ 1, 1, 0 ]   after: [ 1, 1, 3 ]\n     *\n     * `foo` and `bar` are representing {@link module:engine/model/text~Text text nodes}. Since text nodes has offset size\n     * greater than `1` you can place position offset between their start and end:\n     *\n     *\t\t ROOT\n     *\t\t  |- P\n     *\t\t  |- UL\n     *\t\t     |- LI\n     *\t\t     |  |- f^o|o  ^ has path: [ 1, 0, 1 ]   | has path: [ 1, 0, 2 ]\n     *\t\t     |- LI\n     *\t\t        |- b^a|r  ^ has path: [ 1, 1, 1 ]   | has path: [ 1, 1, 2 ]\n     *\n     * @readonly\n     * @member {Array.<Number>} module:engine/model/position~Position#path\n     */\n\n    this.path = path;\n    /**\n     * Position stickiness. See {@link module:engine/model/position~PositionStickiness}.\n     *\n     * @member {module:engine/model/position~PositionStickiness} module:engine/model/position~Position#stickiness\n     */\n\n    this.stickiness = stickiness;\n  }\n  /**\n   * Offset at which this position is located in its {@link module:engine/model/position~Position#parent parent}. It is equal\n   * to the last item in position {@link module:engine/model/position~Position#path path}.\n   *\n   * @type {Number}\n   */\n\n\n  _createClass(Position, [{\n    key: \"compareWith\",\n\n    /**\n     * Checks whether this position is before or after given position.\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @param {module:engine/model/position~Position} otherPosition Position to compare with.\n     * @returns {module:engine/model/position~PositionRelation}\n     */\n    value: function compareWith(otherPosition) {\n      if (this.root != otherPosition.root) {\n        return 'different';\n      }\n\n      var result = compareArrays(this.path, otherPosition.path);\n\n      switch (result) {\n        case 'same':\n          return 'same';\n\n        case 'prefix':\n          return 'before';\n\n        case 'extension':\n          return 'after';\n\n        default:\n          return this.path[result] < otherPosition.path[result] ? 'before' : 'after';\n      }\n    }\n    /**\n     * Gets the farthest position which matches the callback using\n     * {@link module:engine/model/treewalker~TreeWalker TreeWalker}.\n     *\n     * For example:\n     *\n     * \t\tgetLastMatchingPosition( value => value.type == 'text' );\n     * \t\t// <paragraph>[]foo</paragraph> -> <paragraph>foo[]</paragraph>\n     *\n     * \t\tgetLastMatchingPosition( value => value.type == 'text', { direction: 'backward' } );\n     * \t\t// <paragraph>foo[]</paragraph> -> <paragraph>[]foo</paragraph>\n     *\n     * \t\tgetLastMatchingPosition( value => false );\n     * \t\t// Do not move the position.\n     *\n     * @param {Function} skip Callback function. Gets {@link module:engine/model/treewalker~TreeWalkerValue} and should\n     * return `true` if the value should be skipped or `false` if not.\n     * @param {Object} options Object with configuration options. See {@link module:engine/model/treewalker~TreeWalker}.\n     *\n     * @returns {module:engine/model/position~Position} The position after the last item which matches the `skip` callback test.\n     */\n\n  }, {\n    key: \"getLastMatchingPosition\",\n    value: function getLastMatchingPosition(skip) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      options.startPosition = this;\n      var treeWalker = new TreeWalker(options);\n      treeWalker.skip(skip);\n      return treeWalker.position;\n    }\n    /**\n     * Returns a path to this position's parent. Parent path is equal to position {@link module:engine/model/position~Position#path path}\n     * but without the last item.\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @returns {Array.<Number>} Path to the parent.\n     */\n\n  }, {\n    key: \"getParentPath\",\n    value: function getParentPath() {\n      return this.path.slice(0, -1);\n    }\n    /**\n     * Returns ancestors array of this position, that is this position's parent and its ancestors.\n     *\n     * @returns {Array.<module:engine/model/item~Item>} Array with ancestors.\n     */\n\n  }, {\n    key: \"getAncestors\",\n    value: function getAncestors() {\n      if (this.parent.is('documentFragment')) {\n        return [this.parent];\n      } else {\n        return this.parent.getAncestors({\n          includeSelf: true\n        });\n      }\n    }\n    /**\n     * Returns the slice of two position {@link #path paths} which is identical. The {@link #root roots}\n     * of these two paths must be identical.\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @param {module:engine/model/position~Position} position The second position.\n     * @returns {Array.<Number>} The common path.\n     */\n\n  }, {\n    key: \"getCommonPath\",\n    value: function getCommonPath(position) {\n      if (this.root != position.root) {\n        return [];\n      } // We find on which tree-level start and end have the lowest common ancestor\n\n\n      var cmp = compareArrays(this.path, position.path); // If comparison returned string it means that arrays are same.\n\n      var diffAt = typeof cmp == 'string' ? Math.min(this.path.length, position.path.length) : cmp;\n      return this.path.slice(0, diffAt);\n    }\n    /**\n     * Returns an {@link module:engine/model/element~Element} or {@link module:engine/model/documentfragment~DocumentFragment}\n     * which is a common ancestor of both positions. The {@link #root roots} of these two positions must be identical.\n     *\n     * @param {module:engine/model/position~Position} position The second position.\n     * @returns {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment|null}\n     */\n\n  }, {\n    key: \"getCommonAncestor\",\n    value: function getCommonAncestor(position) {\n      var ancestorsA = this.getAncestors();\n      var ancestorsB = position.getAncestors();\n      var i = 0;\n\n      while (ancestorsA[i] == ancestorsB[i] && ancestorsA[i]) {\n        i++;\n      }\n\n      return i === 0 ? null : ancestorsA[i - 1];\n    }\n    /**\n     * Returns a new instance of `Position`, that has same {@link #parent parent} but it's offset\n     * is shifted by `shift` value (can be a negative value).\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @param {Number} shift Offset shift. Can be a negative value.\n     * @returns {module:engine/model/position~Position} Shifted position.\n     */\n\n  }, {\n    key: \"getShiftedBy\",\n    value: function getShiftedBy(shift) {\n      var shifted = this.clone();\n      var offset = shifted.offset + shift;\n      shifted.offset = offset < 0 ? 0 : offset;\n      return shifted;\n    }\n    /**\n     * Checks whether this position is after given position.\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @see module:engine/model/position~Position#isBefore\n     * @param {module:engine/model/position~Position} otherPosition Position to compare with.\n     * @returns {Boolean} True if this position is after given position.\n     */\n\n  }, {\n    key: \"isAfter\",\n    value: function isAfter(otherPosition) {\n      return this.compareWith(otherPosition) == 'after';\n    }\n    /**\n     * Checks whether this position is before given position.\n     *\n     * **Note:** watch out when using negation of the value returned by this method, because the negation will also\n     * be `true` if positions are in different roots and you might not expect this. You should probably use\n     * `a.isAfter( b ) || a.isEqual( b )` or `!a.isBefore( p ) && a.root == b.root` in most scenarios. If your\n     * condition uses multiple `isAfter` and `isBefore` checks, build them so they do not use negated values, i.e.:\n     *\n     *\t\tif ( a.isBefore( b ) && c.isAfter( d ) ) {\n     *\t\t\t// do A.\n     *\t\t} else {\n     *\t\t\t// do B.\n     *\t\t}\n     *\n     * or, if you have only one if-branch:\n     *\n     *\t\tif ( !( a.isBefore( b ) && c.isAfter( d ) ) {\n     *\t\t\t// do B.\n     *\t\t}\n     *\n     * rather than:\n     *\n     *\t\tif ( !a.isBefore( b ) || && !c.isAfter( d ) ) {\n     *\t\t\t// do B.\n     *\t\t} else {\n     *\t\t\t// do A.\n     *\t\t}\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @param {module:engine/model/position~Position} otherPosition Position to compare with.\n     * @returns {Boolean} True if this position is before given position.\n     */\n\n  }, {\n    key: \"isBefore\",\n    value: function isBefore(otherPosition) {\n      return this.compareWith(otherPosition) == 'before';\n    }\n    /**\n     * Checks whether this position is equal to given position.\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @param {module:engine/model/position~Position} otherPosition Position to compare with.\n     * @returns {Boolean} True if positions are same.\n     */\n\n  }, {\n    key: \"isEqual\",\n    value: function isEqual(otherPosition) {\n      return this.compareWith(otherPosition) == 'same';\n    }\n    /**\n     * Checks whether this position is touching given position. Positions touch when there are no text nodes\n     * or empty nodes in a range between them. Technically, those positions are not equal but in many cases\n     * they are very similar or even indistinguishable.\n     *\n     * @param {module:engine/model/position~Position} otherPosition Position to compare with.\n     * @returns {Boolean} True if positions touch.\n     */\n\n  }, {\n    key: \"isTouching\",\n    value: function isTouching(otherPosition) {\n      var left = null;\n      var right = null;\n      var compare = this.compareWith(otherPosition);\n\n      switch (compare) {\n        case 'same':\n          return true;\n\n        case 'before':\n          left = Position._createAt(this);\n          right = Position._createAt(otherPosition);\n          break;\n\n        case 'after':\n          left = Position._createAt(otherPosition);\n          right = Position._createAt(this);\n          break;\n\n        default:\n          return false;\n      } // Cached for optimization purposes.\n\n\n      var leftParent = left.parent;\n\n      while (left.path.length + right.path.length) {\n        if (left.isEqual(right)) {\n          return true;\n        }\n\n        if (left.path.length > right.path.length) {\n          if (left.offset !== leftParent.maxOffset) {\n            return false;\n          }\n\n          left.path = left.path.slice(0, -1);\n          leftParent = leftParent.parent;\n          left.offset++;\n        } else {\n          if (right.offset !== 0) {\n            return false;\n          }\n\n          right.path = right.path.slice(0, -1);\n        }\n      }\n    }\n    /**\n     * Checks whether this object is of the given.\n     *\n     *\t\tposition.is( 'position' ); // -> true\n     *\t\tposition.is( 'model:position' ); // -> true\n     *\n     *\t\tposition.is( 'view:position' ); // -> false\n     *\t\tposition.is( 'documentSelection' ); // -> false\n     *\n     * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n     *\n     * @param {String} type\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"is\",\n    value: function is(type) {\n      return type == 'position' || type == 'model:position';\n    }\n    /**\n     * Checks if two positions are in the same parent.\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @param {module:engine/model/position~Position} position Position to compare with.\n     * @returns {Boolean} `true` if positions have the same parent, `false` otherwise.\n     */\n\n  }, {\n    key: \"hasSameParentAs\",\n    value: function hasSameParentAs(position) {\n      if (this.root !== position.root) {\n        return false;\n      }\n\n      var thisParentPath = this.getParentPath();\n      var posParentPath = position.getParentPath();\n      return compareArrays(thisParentPath, posParentPath) == 'same';\n    }\n    /**\n     * Returns a copy of this position that is transformed by given `operation`.\n     *\n     * The new position's parameters are updated accordingly to the effect of the `operation`.\n     *\n     * For example, if `n` nodes are inserted before the position, the returned position {@link ~Position#offset} will be\n     * increased by `n`. If the position was in a merged element, it will be accordingly moved to the new element, etc.\n     *\n     * This method is safe to use it on non-existing positions (for example during operational transformation).\n     *\n     * @param {module:engine/model/operation/operation~Operation} operation Operation to transform by.\n     * @returns {module:engine/model/position~Position} Transformed position.\n     */\n\n  }, {\n    key: \"getTransformedByOperation\",\n    value: function getTransformedByOperation(operation) {\n      var result;\n\n      switch (operation.type) {\n        case 'insert':\n          result = this._getTransformedByInsertOperation(operation);\n          break;\n\n        case 'move':\n        case 'remove':\n        case 'reinsert':\n          result = this._getTransformedByMoveOperation(operation);\n          break;\n\n        case 'split':\n          result = this._getTransformedBySplitOperation(operation);\n          break;\n\n        case 'merge':\n          result = this._getTransformedByMergeOperation(operation);\n          break;\n\n        default:\n          result = Position._createAt(this);\n          break;\n      }\n\n      return result;\n    }\n    /**\n     * Returns a copy of this position transformed by an insert operation.\n     *\n     * @protected\n     * @param {module:engine/model/operation/insertoperation~InsertOperation} operation\n     * @returns {module:engine/model/position~Position}\n     */\n\n  }, {\n    key: \"_getTransformedByInsertOperation\",\n    value: function _getTransformedByInsertOperation(operation) {\n      return this._getTransformedByInsertion(operation.position, operation.howMany);\n    }\n    /**\n     * Returns a copy of this position transformed by a move operation.\n     *\n     * @protected\n     * @param {module:engine/model/operation/moveoperation~MoveOperation} operation\n     * @returns {module:engine/model/position~Position}\n     */\n\n  }, {\n    key: \"_getTransformedByMoveOperation\",\n    value: function _getTransformedByMoveOperation(operation) {\n      return this._getTransformedByMove(operation.sourcePosition, operation.targetPosition, operation.howMany);\n    }\n    /**\n     * Returns a copy of this position transformed by a split operation.\n     *\n     * @protected\n     * @param {module:engine/model/operation/splitoperation~SplitOperation} operation\n     * @returns {module:engine/model/position~Position}\n     */\n\n  }, {\n    key: \"_getTransformedBySplitOperation\",\n    value: function _getTransformedBySplitOperation(operation) {\n      var movedRange = operation.movedRange;\n      var isContained = movedRange.containsPosition(this) || movedRange.start.isEqual(this) && this.stickiness == 'toNext';\n\n      if (isContained) {\n        return this._getCombined(operation.splitPosition, operation.moveTargetPosition);\n      } else {\n        if (operation.graveyardPosition) {\n          return this._getTransformedByMove(operation.graveyardPosition, operation.insertionPosition, 1);\n        } else {\n          return this._getTransformedByInsertion(operation.insertionPosition, 1);\n        }\n      }\n    }\n    /**\n     * Returns a copy of this position transformed by merge operation.\n     *\n     * @protected\n     * @param {module:engine/model/operation/mergeoperation~MergeOperation} operation\n     * @returns {module:engine/model/position~Position}\n     */\n\n  }, {\n    key: \"_getTransformedByMergeOperation\",\n    value: function _getTransformedByMergeOperation(operation) {\n      var movedRange = operation.movedRange;\n      var isContained = movedRange.containsPosition(this) || movedRange.start.isEqual(this);\n      var pos;\n\n      if (isContained) {\n        pos = this._getCombined(operation.sourcePosition, operation.targetPosition);\n\n        if (operation.sourcePosition.isBefore(operation.targetPosition)) {\n          // Above happens during OT when the merged element is moved before the merged-to element.\n          pos = pos._getTransformedByDeletion(operation.deletionPosition, 1);\n        }\n      } else if (this.isEqual(operation.deletionPosition)) {\n        pos = Position._createAt(operation.deletionPosition);\n      } else {\n        pos = this._getTransformedByMove(operation.deletionPosition, operation.graveyardPosition, 1);\n      }\n\n      return pos;\n    }\n    /**\n     * Returns a copy of this position that is updated by removing `howMany` nodes starting from `deletePosition`.\n     * It may happen that this position is in a removed node. If that is the case, `null` is returned instead.\n     *\n     * @protected\n     * @param {module:engine/model/position~Position} deletePosition Position before the first removed node.\n     * @param {Number} howMany How many nodes are removed.\n     * @returns {module:engine/model/position~Position|null} Transformed position or `null`.\n     */\n\n  }, {\n    key: \"_getTransformedByDeletion\",\n    value: function _getTransformedByDeletion(deletePosition, howMany) {\n      var transformed = Position._createAt(this); // This position can't be affected if deletion was in a different root.\n\n\n      if (this.root != deletePosition.root) {\n        return transformed;\n      }\n\n      if (compareArrays(deletePosition.getParentPath(), this.getParentPath()) == 'same') {\n        // If nodes are removed from the node that is pointed by this position...\n        if (deletePosition.offset < this.offset) {\n          // And are removed from before an offset of that position...\n          if (deletePosition.offset + howMany > this.offset) {\n            // Position is in removed range, it's no longer in the tree.\n            return null;\n          } else {\n            // Decrement the offset accordingly.\n            transformed.offset -= howMany;\n          }\n        }\n      } else if (compareArrays(deletePosition.getParentPath(), this.getParentPath()) == 'prefix') {\n        // If nodes are removed from a node that is on a path to this position...\n        var i = deletePosition.path.length - 1;\n\n        if (deletePosition.offset <= this.path[i]) {\n          // And are removed from before next node of that path...\n          if (deletePosition.offset + howMany > this.path[i]) {\n            // If the next node of that path is removed return null\n            // because the node containing this position got removed.\n            return null;\n          } else {\n            // Otherwise, decrement index on that path.\n            transformed.path[i] -= howMany;\n          }\n        }\n      }\n\n      return transformed;\n    }\n    /**\n     * Returns a copy of this position that is updated by inserting `howMany` nodes at `insertPosition`.\n     *\n     * @protected\n     * @param {module:engine/model/position~Position} insertPosition Position where nodes are inserted.\n     * @param {Number} howMany How many nodes are inserted.\n     * @returns {module:engine/model/position~Position} Transformed position.\n     */\n\n  }, {\n    key: \"_getTransformedByInsertion\",\n    value: function _getTransformedByInsertion(insertPosition, howMany) {\n      var transformed = Position._createAt(this); // This position can't be affected if insertion was in a different root.\n\n\n      if (this.root != insertPosition.root) {\n        return transformed;\n      }\n\n      if (compareArrays(insertPosition.getParentPath(), this.getParentPath()) == 'same') {\n        // If nodes are inserted in the node that is pointed by this position...\n        if (insertPosition.offset < this.offset || insertPosition.offset == this.offset && this.stickiness != 'toPrevious') {\n          // And are inserted before an offset of that position...\n          // \"Push\" this positions offset.\n          transformed.offset += howMany;\n        }\n      } else if (compareArrays(insertPosition.getParentPath(), this.getParentPath()) == 'prefix') {\n        // If nodes are inserted in a node that is on a path to this position...\n        var i = insertPosition.path.length - 1;\n\n        if (insertPosition.offset <= this.path[i]) {\n          // And are inserted before next node of that path...\n          // \"Push\" the index on that path.\n          transformed.path[i] += howMany;\n        }\n      }\n\n      return transformed;\n    }\n    /**\n     * Returns a copy of this position that is updated by moving `howMany` nodes from `sourcePosition` to `targetPosition`.\n     *\n     * @protected\n     * @param {module:engine/model/position~Position} sourcePosition Position before the first element to move.\n     * @param {module:engine/model/position~Position} targetPosition Position where moved elements will be inserted.\n     * @param {Number} howMany How many consecutive nodes to move, starting from `sourcePosition`.\n     * @returns {module:engine/model/position~Position} Transformed position.\n     */\n\n  }, {\n    key: \"_getTransformedByMove\",\n    value: function _getTransformedByMove(sourcePosition, targetPosition, howMany) {\n      // Update target position, as it could be affected by nodes removal.\n      targetPosition = targetPosition._getTransformedByDeletion(sourcePosition, howMany);\n\n      if (sourcePosition.isEqual(targetPosition)) {\n        // If `targetPosition` is equal to `sourcePosition` this isn't really any move. Just return position as it is.\n        return Position._createAt(this);\n      } // Moving a range removes nodes from their original position. We acknowledge this by proper transformation.\n\n\n      var transformed = this._getTransformedByDeletion(sourcePosition, howMany);\n\n      var isMoved = transformed === null || sourcePosition.isEqual(this) && this.stickiness == 'toNext' || sourcePosition.getShiftedBy(howMany).isEqual(this) && this.stickiness == 'toPrevious';\n\n      if (isMoved) {\n        // This position is inside moved range (or sticks to it).\n        // In this case, we calculate a combination of this position, move source position and target position.\n        return this._getCombined(sourcePosition, targetPosition);\n      } else {\n        // This position is not inside a removed range.\n        //\n        // In next step, we simply reflect inserting `howMany` nodes, which might further affect the position.\n        return transformed._getTransformedByInsertion(targetPosition, howMany);\n      }\n    }\n    /**\n     * Returns a new position that is a combination of this position and given positions.\n     *\n     * The combined position is a copy of this position transformed by moving a range starting at `source` position\n     * to the `target` position. It is expected that this position is inside the moved range.\n     *\n     * Example:\n     *\n     *\t\tlet original = model.createPositionFromPath( root, [ 2, 3, 1 ] );\n     *\t\tlet source = model.createPositionFromPath( root, [ 2, 2 ] );\n     *\t\tlet target = model.createPositionFromPath( otherRoot, [ 1, 1, 3 ] );\n     *\t\toriginal._getCombined( source, target ); // path is [ 1, 1, 4, 1 ], root is `otherRoot`\n     *\n     * Explanation:\n     *\n     * We have a position `[ 2, 3, 1 ]` and move some nodes from `[ 2, 2 ]` to `[ 1, 1, 3 ]`. The original position\n     * was inside moved nodes and now should point to the new place. The moved nodes will be after\n     * positions `[ 1, 1, 3 ]`, `[ 1, 1, 4 ]`, `[ 1, 1, 5 ]`. Since our position was in the second moved node,\n     * the transformed position will be in a sub-tree of a node at `[ 1, 1, 4 ]`. Looking at original path, we\n     * took care of `[ 2, 3 ]` part of it. Now we have to add the rest of the original path to the transformed path.\n     * Finally, the transformed position will point to `[ 1, 1, 4, 1 ]`.\n     *\n     * @protected\n     * @param {module:engine/model/position~Position} source Beginning of the moved range.\n     * @param {module:engine/model/position~Position} target Position where the range is moved.\n     * @returns {module:engine/model/position~Position} Combined position.\n     */\n\n  }, {\n    key: \"_getCombined\",\n    value: function _getCombined(source, target) {\n      var i = source.path.length - 1; // The first part of a path to combined position is a path to the place where nodes were moved.\n\n      var combined = Position._createAt(target);\n\n      combined.stickiness = this.stickiness; // Then we have to update the rest of the path.\n      // Fix the offset because this position might be after `from` position and we have to reflect that.\n\n      combined.offset = combined.offset + this.path[i] - source.offset; // Then, add the rest of the path.\n      // If this position is at the same level as `from` position nothing will get added.\n\n      combined.path = combined.path.concat(this.path.slice(i + 1));\n      return combined;\n    }\n    /**\n     * @inheritDoc\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        root: this.root.toJSON(),\n        path: Array.from(this.path),\n        stickiness: this.stickiness\n      };\n    }\n    /**\n     * Returns a new position that is equal to current position.\n     *\n     * @returns {module:engine/model/position~Position}\n     */\n\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new this.constructor(this.root, this.path, this.stickiness);\n    }\n    /**\n     * Creates position at the given location. The location can be specified as:\n     *\n     * * a {@link module:engine/model/position~Position position},\n     * * parent element and offset (offset defaults to `0`),\n     * * parent element and `'end'` (sets position at the end of that element),\n     * * {@link module:engine/model/item~Item model item} and `'before'` or `'after'` (sets position before or after given model item).\n     *\n     * This method is a shortcut to other factory methods such as:\n     *\n     * * {@link module:engine/model/position~Position._createBefore},\n     * * {@link module:engine/model/position~Position._createAfter}.\n     *\n     * @param {module:engine/model/item~Item|module:engine/model/position~Position} itemOrPosition\n     * @param {Number|'end'|'before'|'after'} [offset] Offset or one of the flags. Used only when the\n     * first parameter is a {@link module:engine/model/item~Item model item}.\n     * @param {module:engine/model/position~PositionStickiness} [stickiness='toNone'] Position stickiness. Used only when the\n     * first parameter is a {@link module:engine/model/item~Item model item}.\n     * @protected\n     */\n\n  }, {\n    key: \"offset\",\n    get: function get() {\n      return last(this.path);\n    }\n    /**\n     * @param {Number} newOffset\n     */\n    ,\n    set: function set(newOffset) {\n      this.path[this.path.length - 1] = newOffset;\n    }\n    /**\n     * Parent element of this position.\n     *\n     * Keep in mind that `parent` value is calculated when the property is accessed.\n     * If {@link module:engine/model/position~Position#path position path}\n     * leads to a non-existing element, `parent` property will throw error.\n     *\n     * Also it is a good idea to cache `parent` property if it is used frequently in an algorithm (i.e. in a long loop).\n     *\n     * @readonly\n     * @type {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment}\n     */\n\n  }, {\n    key: \"parent\",\n    get: function get() {\n      var parent = this.root;\n\n      for (var i = 0; i < this.path.length - 1; i++) {\n        parent = parent.getChild(parent.offsetToIndex(this.path[i]));\n\n        if (!parent) {\n          throw new CKEditorError('model-position-path-incorrect: The position\\'s path is incorrect.', this, {\n            position: this\n          });\n        }\n      }\n\n      if (parent.is('text')) {\n        /**\n         * The position's path is incorrect. This means that a position does not point to\n         * a correct place in the tree and hence, some of its methods and getters cannot work correctly.\n         *\n         * **Note**: Unlike DOM and view positions, in the model, the\n         * {@link module:engine/model/position~Position#parent position's parent} is always an element or a document fragment.\n         * The last offset in the {@link module:engine/model/position~Position#path position's path} is the point in this element where\n         * this position points.\n         *\n         * Read more about model positions and offsets in\n         * the {@glink framework/guides/architecture/editing-engine#indexes-and-offsets Editing engine architecture guide}.\n         *\n         * @error position-incorrect-path\n         * @param {module:engine/model/position~Position} position The incorrect position.\n         */\n        throw new CKEditorError('model-position-path-incorrect: The position\\'s path is incorrect.', this, {\n          position: this\n        });\n      }\n\n      return parent;\n    }\n    /**\n     * Position {@link module:engine/model/position~Position#offset offset} converted to an index in position's parent node. It is\n     * equal to the {@link module:engine/model/node~Node#index index} of a node after this position. If position is placed\n     * in text node, position index is equal to the index of that text node.\n     *\n     * @readonly\n     * @type {Number}\n     */\n\n  }, {\n    key: \"index\",\n    get: function get() {\n      return this.parent.offsetToIndex(this.offset);\n    }\n    /**\n     * Returns {@link module:engine/model/text~Text text node} instance in which this position is placed or `null` if this\n     * position is not in a text node.\n     *\n     * @readonly\n     * @type {module:engine/model/text~Text|null}\n     */\n\n  }, {\n    key: \"textNode\",\n    get: function get() {\n      var node = this.parent.getChild(this.index);\n      return node instanceof Text && node.startOffset < this.offset ? node : null;\n    }\n    /**\n     * Node directly after this position or `null` if this position is in text node.\n     *\n     * @readonly\n     * @type {module:engine/model/node~Node|null}\n     */\n\n  }, {\n    key: \"nodeAfter\",\n    get: function get() {\n      return this.textNode === null ? this.parent.getChild(this.index) : null;\n    }\n    /**\n     * Node directly before this position or `null` if this position is in text node.\n     *\n     * @readonly\n     * @type {Node}\n     */\n\n  }, {\n    key: \"nodeBefore\",\n    get: function get() {\n      return this.textNode === null ? this.parent.getChild(this.index - 1) : null;\n    }\n    /**\n     * Is `true` if position is at the beginning of its {@link module:engine/model/position~Position#parent parent}, `false` otherwise.\n     *\n     * @readonly\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"isAtStart\",\n    get: function get() {\n      return this.offset === 0;\n    }\n    /**\n     * Is `true` if position is at the end of its {@link module:engine/model/position~Position#parent parent}, `false` otherwise.\n     *\n     * @readonly\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"isAtEnd\",\n    get: function get() {\n      return this.offset == this.parent.maxOffset;\n    }\n  }], [{\n    key: \"_createAt\",\n    value: function _createAt(itemOrPosition, offset) {\n      var stickiness = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'toNone';\n\n      if (itemOrPosition instanceof Position) {\n        return new Position(itemOrPosition.root, itemOrPosition.path, itemOrPosition.stickiness);\n      } else {\n        var node = itemOrPosition;\n\n        if (offset == 'end') {\n          offset = node.maxOffset;\n        } else if (offset == 'before') {\n          return this._createBefore(node, stickiness);\n        } else if (offset == 'after') {\n          return this._createAfter(node, stickiness);\n        } else if (offset !== 0 && !offset) {\n          /**\n           * {@link module:engine/model/model~Model#createPositionAt `Model#createPositionAt()`}\n           * requires the offset to be specified when the first parameter is a model item.\n           *\n           * @error model-createPositionAt-offset-required\n           */\n          throw new CKEditorError('model-createPositionAt-offset-required: ' + 'Model#createPositionAt() requires the offset when the first parameter is a model item.', [this, itemOrPosition]);\n        }\n\n        if (!node.is('element') && !node.is('documentFragment')) {\n          /**\n           * Position parent have to be a model element or model document fragment.\n           *\n           * @error model-position-parent-incorrect\n           */\n          throw new CKEditorError('model-position-parent-incorrect: Position parent have to be a element or document fragment.', [this, itemOrPosition]);\n        }\n\n        var path = node.getPath();\n        path.push(offset);\n        return new this(node.root, path, stickiness);\n      }\n    }\n    /**\n     * Creates a new position, after given {@link module:engine/model/item~Item model item}.\n     *\n     * @param {module:engine/model/item~Item} item Item after which the position should be placed.\n     * @param {module:engine/model/position~PositionStickiness} [stickiness='toNone'] Position stickiness.\n     * @returns {module:engine/model/position~Position}\n     * @protected\n     */\n\n  }, {\n    key: \"_createAfter\",\n    value: function _createAfter(item, stickiness) {\n      if (!item.parent) {\n        /**\n         * You can not make a position after a root element.\n         *\n         * @error model-position-after-root\n         * @param {module:engine/model/item~Item} root\n         */\n        throw new CKEditorError('model-position-after-root: You cannot make a position after root.', [this, item], {\n          root: item\n        });\n      }\n\n      return this._createAt(item.parent, item.endOffset, stickiness);\n    }\n    /**\n     * Creates a new position, before the given {@link module:engine/model/item~Item model item}.\n     *\n     * @param {module:engine/model/item~Item} item Item before which the position should be placed.\n     * @param {module:engine/model/position~PositionStickiness} [stickiness='toNone'] Position stickiness.\n     * @returns {module:engine/model/position~Position}\n     * @protected\n     */\n\n  }, {\n    key: \"_createBefore\",\n    value: function _createBefore(item, stickiness) {\n      if (!item.parent) {\n        /**\n         * You can not make a position before a root element.\n         *\n         * @error model-position-before-root\n         * @param {module:engine/model/item~Item} root\n         */\n        throw new CKEditorError('model-position-before-root: You cannot make a position before root.', item, {\n          root: item\n        });\n      }\n\n      return this._createAt(item.parent, item.startOffset, stickiness);\n    }\n    /**\n     * Creates a `Position` instance from given plain object (i.e. parsed JSON string).\n     *\n     * @param {Object} json Plain object to be converted to `Position`.\n     * @param {module:engine/model/document~Document} doc Document object that will be position owner.\n     * @returns {module:engine/model/position~Position} `Position` instance created using given plain object.\n     */\n\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(json, doc) {\n      if (json.root === '$graveyard') {\n        var pos = new Position(doc.graveyard, json.path);\n        pos.stickiness = json.stickiness;\n        return pos;\n      }\n\n      if (!doc.getRoot(json.root)) {\n        /**\n         * Cannot create position for document. Root with specified name does not exist.\n         *\n         * @error model-position-fromjson-no-root\n         * @param {String} rootName\n         */\n        throw new CKEditorError('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.', doc, {\n          rootName: json.root\n        });\n      }\n\n      return new Position(doc.getRoot(json.root), json.path, json.stickiness);\n    }\n  }]);\n\n  return Position;\n}();\n/**\n * A flag indicating whether this position is `'before'` or `'after'` or `'same'` as given position.\n * If positions are in different roots `'different'` flag is returned.\n *\n * @typedef {String} module:engine/model/position~PositionRelation\n */\n\n/**\n * Represents how position is \"sticking\" with neighbour nodes. Used to define how position should be transformed (moved)\n * in edge cases. Possible values: `'toNone'`, `'toNext'`, `'toPrevious'`.\n *\n * Examples:\n *\n *\t\tInsert. Position is at | and nodes are inserted at the same position, marked as ^:\n *\n *\t\t- sticks to none:           <p>f^|oo</p>  ->  <p>fbar|oo</p>\n *\t\t- sticks to next node:      <p>f^|oo</p>  ->  <p>fbar|oo</p>\n *\t\t- sticks to previous node:  <p>f|^oo</p>  ->  <p>f|baroo</p>\n *\n *\n *\t\tMove. Position is at | and range [oo] is moved to position ^:\n *\n *\t\t- sticks to none:           <p>f|[oo]</p><p>b^ar</p>  ->  <p>f|</p><p>booar</p>\n *\t\t- sticks to none:           <p>f[oo]|</p><p>b^ar</p>  ->  <p>f|</p><p>booar</p>\n *\n *\t\t- sticks to next node:      <p>f|[oo]</p><p>b^ar</p>  ->  <p>f</p><p>b|ooar</p>\n *\t\t- sticks to next node:      <p>f[oo]|</p><p>b^ar</p>  ->  <p>f|</p><p>booar</p>\n *\n *\t\t- sticks to previous node:  <p>f|[oo]</p><p>b^ar</p>  ->  <p>f|</p><p>booar</p>\n *\t\t- sticks to previous node:  <p>f[oo]|</p><p>b^ar</p>  ->  <p>f</p><p>boo|ar</p>\n *\n * @typedef {String} module:engine/model/position~PositionStickiness\n */\n\n\nexport { Position as default };","import \"core-js/modules/es6.array.sort\";\nimport _toConsumableArray from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/range\n */\nimport Position from \"./position\";\nimport TreeWalker from \"./treewalker\";\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\nimport compareArrays from '@ckeditor/ckeditor5-utils/src/comparearrays';\n/**\n * Represents a range in the model tree.\n *\n * A range is defined by its {@link module:engine/model/range~Range#start} and {@link module:engine/model/range~Range#end}\n * positions.\n *\n * You can create range instances via its constructor or the `createRange*()` factory methods of\n * {@link module:engine/model/model~Model} and {@link module:engine/model/writer~Writer}.\n */\n\nvar Range =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a range spanning from `start` position to `end` position.\n   *\n   * @param {module:engine/model/position~Position} start Start position.\n   * @param {module:engine/model/position~Position} [end] End position. If not set, range will be collapsed at `start` position.\n   */\n  function Range(start) {\n    var end = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, Range);\n\n    /**\n     * Start position.\n     *\n     * @readonly\n     * @member {module:engine/model/position~Position}\n     */\n    this.start = Position._createAt(start);\n    /**\n     * End position.\n     *\n     * @readonly\n     * @member {module:engine/model/position~Position}\n     */\n\n    this.end = end ? Position._createAt(end) : Position._createAt(start); // If the range is collapsed, treat in a similar way as a position and set its boundaries stickiness to 'toNone'.\n    // In other case, make the boundaries stick to the \"inside\" of the range.\n\n    this.start.stickiness = this.isCollapsed ? 'toNone' : 'toNext';\n    this.end.stickiness = this.isCollapsed ? 'toNone' : 'toPrevious';\n  }\n  /**\n   * Iterable interface.\n   *\n   * Iterates over all {@link module:engine/model/item~Item items} that are in this range and returns\n   * them together with additional information like length or {@link module:engine/model/position~Position positions},\n   * grouped as {@link module:engine/model/treewalker~TreeWalkerValue}.\n   * It iterates over all {@link module:engine/model/textproxy~TextProxy text contents} that are inside the range\n   * and all the {@link module:engine/model/element~Element}s that are entered into when iterating over this range.\n   *\n   * This iterator uses {@link module:engine/model/treewalker~TreeWalker} with `boundaries` set to this range\n   * and `ignoreElementEnd` option set to `true`.\n   *\n   * @returns {Iterable.<module:engine/model/treewalker~TreeWalkerValue>}\n   */\n\n\n  _createClass(Range, [{\n    key: Symbol.iterator,\n    value:\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function value() {\n      return regeneratorRuntime.wrap(function value$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.delegateYield(new TreeWalker({\n                boundaries: this,\n                ignoreElementEnd: true\n              }), \"t0\", 1);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, value, this);\n    })\n    /**\n     * Returns whether the range is collapsed, that is if {@link #start} and\n     * {@link #end} positions are equal.\n     *\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"containsPosition\",\n\n    /**\n     * Checks whether this range contains given {@link module:engine/model/position~Position position}.\n     *\n     * @param {module:engine/model/position~Position} position Position to check.\n     * @returns {Boolean} `true` if given {@link module:engine/model/position~Position position} is contained\n     * in this range,`false` otherwise.\n     */\n    value: function containsPosition(position) {\n      return position.isAfter(this.start) && position.isBefore(this.end);\n    }\n    /**\n     * Checks whether this range contains given {@link ~Range range}.\n     *\n     * @param {module:engine/model/range~Range} otherRange Range to check.\n     * @param {Boolean} [loose=false] Whether the check is loose or strict. If the check is strict (`false`), compared range cannot\n     * start or end at the same position as this range boundaries. If the check is loose (`true`), compared range can start, end or\n     * even be equal to this range. Note that collapsed ranges are always compared in strict mode.\n     * @returns {Boolean} `true` if given {@link ~Range range} boundaries are contained by this range, `false` otherwise.\n     */\n\n  }, {\n    key: \"containsRange\",\n    value: function containsRange(otherRange) {\n      var loose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (otherRange.isCollapsed) {\n        loose = false;\n      }\n\n      var containsStart = this.containsPosition(otherRange.start) || loose && this.start.isEqual(otherRange.start);\n      var containsEnd = this.containsPosition(otherRange.end) || loose && this.end.isEqual(otherRange.end);\n      return containsStart && containsEnd;\n    }\n    /**\n     * Checks whether given {@link module:engine/model/item~Item} is inside this range.\n     *\n     * @param {module:engine/model/item~Item} item Model item to check.\n     */\n\n  }, {\n    key: \"containsItem\",\n    value: function containsItem(item) {\n      var pos = Position._createBefore(item);\n\n      return this.containsPosition(pos) || this.start.isEqual(pos);\n    }\n    /**\n     * Checks whether this object is of the given.\n     *\n     *\t\trange.is( 'range' ); // -> true\n     *\t\trange.is( 'model:range' ); // -> true\n     *\n     *\t\trange.is( 'view:range' ); // -> false\n     *\t\trange.is( 'documentSelection' ); // -> false\n     *\n     * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n     *\n     * @param {String} type\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"is\",\n    value: function is(type) {\n      return type == 'range' || type == 'model:range';\n    }\n    /**\n     * Two ranges are equal if their {@link #start} and {@link #end} positions are equal.\n     *\n     * @param {module:engine/model/range~Range} otherRange Range to compare with.\n     * @returns {Boolean} `true` if ranges are equal, `false` otherwise.\n     */\n\n  }, {\n    key: \"isEqual\",\n    value: function isEqual(otherRange) {\n      return this.start.isEqual(otherRange.start) && this.end.isEqual(otherRange.end);\n    }\n    /**\n     * Checks and returns whether this range intersects with given range.\n     *\n     * @param {module:engine/model/range~Range} otherRange Range to compare with.\n     * @returns {Boolean} `true` if ranges intersect, `false` otherwise.\n     */\n\n  }, {\n    key: \"isIntersecting\",\n    value: function isIntersecting(otherRange) {\n      return this.start.isBefore(otherRange.end) && this.end.isAfter(otherRange.start);\n    }\n    /**\n     * Computes which part(s) of this {@link ~Range range} is not a part of given {@link ~Range range}.\n     * Returned array contains zero, one or two {@link ~Range ranges}.\n     *\n     * Examples:\n     *\n     *\t\tlet range = model.createRange(\n     *\t\t\tmodel.createPositionFromPath( root, [ 2, 7 ] ),\n     *\t\t\tmodel.createPositionFromPath( root, [ 4, 0, 1 ] )\n     *\t\t);\n     *\t\tlet otherRange = model.createRange( model.createPositionFromPath( root, [ 1 ] ), model.createPositionFromPath( root, [ 5 ] ) );\n     *\t\tlet transformed = range.getDifference( otherRange );\n     *\t\t// transformed array has no ranges because `otherRange` contains `range`\n     *\n     *\t\totherRange = model.createRange( model.createPositionFromPath( root, [ 1 ] ), model.createPositionFromPath( root, [ 3 ] ) );\n     *\t\ttransformed = range.getDifference( otherRange );\n     *\t\t// transformed array has one range: from [ 3 ] to [ 4, 0, 1 ]\n     *\n     *\t\totherRange = model.createRange( model.createPositionFromPath( root, [ 3 ] ), model.createPositionFromPath( root, [ 4 ] ) );\n     *\t\ttransformed = range.getDifference( otherRange );\n     *\t\t// transformed array has two ranges: from [ 2, 7 ] to [ 3 ] and from [ 4 ] to [ 4, 0, 1 ]\n     *\n     * @param {module:engine/model/range~Range} otherRange Range to differentiate against.\n     * @returns {Array.<module:engine/model/range~Range>} The difference between ranges.\n     */\n\n  }, {\n    key: \"getDifference\",\n    value: function getDifference(otherRange) {\n      var ranges = [];\n\n      if (this.isIntersecting(otherRange)) {\n        // Ranges intersect.\n        if (this.containsPosition(otherRange.start)) {\n          // Given range start is inside this range. This means that we have to\n          // add shrunken range - from the start to the middle of this range.\n          ranges.push(new Range(this.start, otherRange.start));\n        }\n\n        if (this.containsPosition(otherRange.end)) {\n          // Given range end is inside this range. This means that we have to\n          // add shrunken range - from the middle of this range to the end.\n          ranges.push(new Range(otherRange.end, this.end));\n        }\n      } else {\n        // Ranges do not intersect, return the original range.\n        ranges.push(new Range(this.start, this.end));\n      }\n\n      return ranges;\n    }\n    /**\n     * Returns an intersection of this {@link ~Range range} and given {@link ~Range range}.\n     * Intersection is a common part of both of those ranges. If ranges has no common part, returns `null`.\n     *\n     * Examples:\n     *\n     *\t\tlet range = model.createRange(\n     *\t\t\tmodel.createPositionFromPath( root, [ 2, 7 ] ),\n     *\t\t\tmodel.createPositionFromPath( root, [ 4, 0, 1 ] )\n     *\t\t);\n     *\t\tlet otherRange = model.createRange( model.createPositionFromPath( root, [ 1 ] ), model.createPositionFromPath( root, [ 2 ] ) );\n     *\t\tlet transformed = range.getIntersection( otherRange ); // null - ranges have no common part\n     *\n     *\t\totherRange = model.createRange( model.createPositionFromPath( root, [ 3 ] ), model.createPositionFromPath( root, [ 5 ] ) );\n     *\t\ttransformed = range.getIntersection( otherRange ); // range from [ 3 ] to [ 4, 0, 1 ]\n     *\n     * @param {module:engine/model/range~Range} otherRange Range to check for intersection.\n     * @returns {module:engine/model/range~Range|null} A common part of given ranges or `null` if ranges have no common part.\n     */\n\n  }, {\n    key: \"getIntersection\",\n    value: function getIntersection(otherRange) {\n      if (this.isIntersecting(otherRange)) {\n        // Ranges intersect, so a common range will be returned.\n        // At most, it will be same as this range.\n        var commonRangeStart = this.start;\n        var commonRangeEnd = this.end;\n\n        if (this.containsPosition(otherRange.start)) {\n          // Given range start is inside this range. This means thaNt we have to\n          // shrink common range to the given range start.\n          commonRangeStart = otherRange.start;\n        }\n\n        if (this.containsPosition(otherRange.end)) {\n          // Given range end is inside this range. This means that we have to\n          // shrink common range to the given range end.\n          commonRangeEnd = otherRange.end;\n        }\n\n        return new Range(commonRangeStart, commonRangeEnd);\n      } // Ranges do not intersect, so they do not have common part.\n\n\n      return null;\n    }\n    /**\n     * Computes and returns the smallest set of {@link #isFlat flat} ranges, that covers this range in whole.\n     *\n     * See an example of a model structure (`[` and `]` are range boundaries):\n     *\n     *\t\troot                                                            root\n     *\t\t |- element DIV                         DIV             P2              P3             DIV\n     *\t\t |   |- element H                   H        P1        f o o           b a r       H         P4\n     *\t\t |   |   |- \"fir[st\"             fir[st     lorem                               se]cond     ipsum\n     *\t\t |   |- element P1\n     *\t\t |   |   |- \"lorem\"                                              ||\n     *\t\t |- element P2                                                   ||\n     *\t\t |   |- \"foo\"                                                    VV\n     *\t\t |- element P3\n     *\t\t |   |- \"bar\"                                                   root\n     *\t\t |- element DIV                         DIV             [P2             P3]             DIV\n     *\t\t |   |- element H                   H       [P1]       f o o           b a r        H         P4\n     *\t\t |   |   |- \"se]cond\"            fir[st]    lorem                               [se]cond     ipsum\n     *\t\t |   |- element P4\n     *\t\t |   |   |- \"ipsum\"\n     *\n     * As it can be seen, letters contained in the range are: `stloremfoobarse`, spread across different parents.\n     * We are looking for minimal set of flat ranges that contains the same nodes.\n     *\n     * Minimal flat ranges for above range `( [ 0, 0, 3 ], [ 3, 0, 2 ] )` will be:\n     *\n     *\t\t( [ 0, 0, 3 ], [ 0, 0, 5 ] ) = \"st\"\n     *\t\t( [ 0, 1 ], [ 0, 2 ] ) = element P1 (\"lorem\")\n     *\t\t( [ 1 ], [ 3 ] ) = element P2, element P3 (\"foobar\")\n     *\t\t( [ 3, 0, 0 ], [ 3, 0, 2 ] ) = \"se\"\n     *\n     * **Note:** if an {@link module:engine/model/element~Element element} is not wholly contained in this range, it won't be returned\n     * in any of the returned flat ranges. See in the example how `H` elements at the beginning and at the end of the range\n     * were omitted. Only their parts that were wholly in the range were returned.\n     *\n     * **Note:** this method is not returning flat ranges that contain no nodes.\n     *\n     * @returns {Array.<module:engine/model/range~Range>} Array of flat ranges covering this range.\n     */\n\n  }, {\n    key: \"getMinimalFlatRanges\",\n    value: function getMinimalFlatRanges() {\n      var ranges = [];\n      var diffAt = this.start.getCommonPath(this.end).length;\n\n      var pos = Position._createAt(this.start);\n\n      var posParent = pos.parent; // Go up.\n\n      while (pos.path.length > diffAt + 1) {\n        var howMany = posParent.maxOffset - pos.offset;\n\n        if (howMany !== 0) {\n          ranges.push(new Range(pos, pos.getShiftedBy(howMany)));\n        }\n\n        pos.path = pos.path.slice(0, -1);\n        pos.offset++;\n        posParent = posParent.parent;\n      } // Go down.\n\n\n      while (pos.path.length <= this.end.path.length) {\n        var offset = this.end.path[pos.path.length - 1];\n\n        var _howMany = offset - pos.offset;\n\n        if (_howMany !== 0) {\n          ranges.push(new Range(pos, pos.getShiftedBy(_howMany)));\n        }\n\n        pos.offset = offset;\n        pos.path.push(0);\n      }\n\n      return ranges;\n    }\n    /**\n     * Creates a {@link module:engine/model/treewalker~TreeWalker TreeWalker} instance with this range as a boundary.\n     *\n     * For example, to iterate over all items in the entire document root:\n     *\n     *\t\t// Create a range spanning over the entire root content:\n     *\t\tconst range = editor.model.createRangeIn( editor.model.document.getRoot() );\n     *\n     *\t\t// Iterate over all items in this range:\n     *\t\tfor ( const value of range.getWalker() ) {\n     *\t\t\tconsole.log( value.item );\n     *\t\t}\n     *\n     * @param {Object} options Object with configuration options. See {@link module:engine/model/treewalker~TreeWalker}.\n     * @param {module:engine/model/position~Position} [options.startPosition]\n     * @param {Boolean} [options.singleCharacters=false]\n     * @param {Boolean} [options.shallow=false]\n     * @param {Boolean} [options.ignoreElementEnd=false]\n     */\n\n  }, {\n    key: \"getWalker\",\n    value: function getWalker() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      options.boundaries = this;\n      return new TreeWalker(options);\n    }\n    /**\n     * Returns an iterator that iterates over all {@link module:engine/model/item~Item items} that are in this range and returns\n     * them.\n     *\n     * This method uses {@link module:engine/model/treewalker~TreeWalker} with `boundaries` set to this range and `ignoreElementEnd` option\n     * set to `true`. However it returns only {@link module:engine/model/item~Item model items},\n     * not {@link module:engine/model/treewalker~TreeWalkerValue}.\n     *\n     * You may specify additional options for the tree walker. See {@link module:engine/model/treewalker~TreeWalker} for\n     * a full list of available options.\n     *\n     * @method getItems\n     * @param {Object} options Object with configuration options. See {@link module:engine/model/treewalker~TreeWalker}.\n     * @returns {Iterable.<module:engine/model/item~Item>}\n     */\n\n  }, {\n    key: \"getItems\",\n    value:\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function getItems() {\n      var options,\n          treeWalker,\n          _iteratorNormalCompletion,\n          _didIteratorError,\n          _iteratorError,\n          _iterator,\n          _step,\n          _value,\n          _args2 = arguments;\n\n      return regeneratorRuntime.wrap(function getItems$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              options = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {};\n              options.boundaries = this;\n              options.ignoreElementEnd = true;\n              treeWalker = new TreeWalker(options);\n              _iteratorNormalCompletion = true;\n              _didIteratorError = false;\n              _iteratorError = undefined;\n              _context2.prev = 7;\n              _iterator = treeWalker[Symbol.iterator]();\n\n            case 9:\n              if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                _context2.next = 16;\n                break;\n              }\n\n              _value = _step.value;\n              _context2.next = 13;\n              return _value.item;\n\n            case 13:\n              _iteratorNormalCompletion = true;\n              _context2.next = 9;\n              break;\n\n            case 16:\n              _context2.next = 22;\n              break;\n\n            case 18:\n              _context2.prev = 18;\n              _context2.t0 = _context2[\"catch\"](7);\n              _didIteratorError = true;\n              _iteratorError = _context2.t0;\n\n            case 22:\n              _context2.prev = 22;\n              _context2.prev = 23;\n\n              if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n              }\n\n            case 25:\n              _context2.prev = 25;\n\n              if (!_didIteratorError) {\n                _context2.next = 28;\n                break;\n              }\n\n              throw _iteratorError;\n\n            case 28:\n              return _context2.finish(25);\n\n            case 29:\n              return _context2.finish(22);\n\n            case 30:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, getItems, this, [[7, 18, 22, 30], [23,, 25, 29]]);\n    })\n    /**\n     * Returns an iterator that iterates over all {@link module:engine/model/position~Position positions} that are boundaries or\n     * contained in this range.\n     *\n     * This method uses {@link module:engine/model/treewalker~TreeWalker} with `boundaries` set to this range. However it returns only\n     * {@link module:engine/model/position~Position positions}, not {@link module:engine/model/treewalker~TreeWalkerValue}.\n     *\n     * You may specify additional options for the tree walker. See {@link module:engine/model/treewalker~TreeWalker} for\n     * a full list of available options.\n     *\n     * @param {Object} options Object with configuration options. See {@link module:engine/model/treewalker~TreeWalker}.\n     * @returns {Iterable.<module:engine/model/position~Position>}\n     */\n\n  }, {\n    key: \"getPositions\",\n    value:\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function getPositions() {\n      var options,\n          treeWalker,\n          _iteratorNormalCompletion2,\n          _didIteratorError2,\n          _iteratorError2,\n          _iterator2,\n          _step2,\n          _value2,\n          _args3 = arguments;\n\n      return regeneratorRuntime.wrap(function getPositions$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              options = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {};\n              options.boundaries = this;\n              treeWalker = new TreeWalker(options);\n              _context3.next = 5;\n              return treeWalker.position;\n\n            case 5:\n              _iteratorNormalCompletion2 = true;\n              _didIteratorError2 = false;\n              _iteratorError2 = undefined;\n              _context3.prev = 8;\n              _iterator2 = treeWalker[Symbol.iterator]();\n\n            case 10:\n              if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {\n                _context3.next = 17;\n                break;\n              }\n\n              _value2 = _step2.value;\n              _context3.next = 14;\n              return _value2.nextPosition;\n\n            case 14:\n              _iteratorNormalCompletion2 = true;\n              _context3.next = 10;\n              break;\n\n            case 17:\n              _context3.next = 23;\n              break;\n\n            case 19:\n              _context3.prev = 19;\n              _context3.t0 = _context3[\"catch\"](8);\n              _didIteratorError2 = true;\n              _iteratorError2 = _context3.t0;\n\n            case 23:\n              _context3.prev = 23;\n              _context3.prev = 24;\n\n              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                _iterator2.return();\n              }\n\n            case 26:\n              _context3.prev = 26;\n\n              if (!_didIteratorError2) {\n                _context3.next = 29;\n                break;\n              }\n\n              throw _iteratorError2;\n\n            case 29:\n              return _context3.finish(26);\n\n            case 30:\n              return _context3.finish(23);\n\n            case 31:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, getPositions, this, [[8, 19, 23, 31], [24,, 26, 30]]);\n    })\n    /**\n     * Returns a range that is a result of transforming this range by given `operation`.\n     *\n     * **Note:** transformation may break one range into multiple ranges (for example, when a part of the range is\n     * moved to a different part of document tree). For this reason, an array is returned by this method and it\n     * may contain one or more `Range` instances.\n     *\n     * @param {module:engine/model/operation/operation~Operation} operation Operation to transform range by.\n     * @returns {Array.<module:engine/model/range~Range>} Range which is the result of transformation.\n     */\n\n  }, {\n    key: \"getTransformedByOperation\",\n    value: function getTransformedByOperation(operation) {\n      switch (operation.type) {\n        case 'insert':\n          return this._getTransformedByInsertOperation(operation);\n\n        case 'move':\n        case 'remove':\n        case 'reinsert':\n          return this._getTransformedByMoveOperation(operation);\n\n        case 'split':\n          return [this._getTransformedBySplitOperation(operation)];\n\n        case 'merge':\n          return [this._getTransformedByMergeOperation(operation)];\n      }\n\n      return [new Range(this.start, this.end)];\n    }\n    /**\n     * Returns a range that is a result of transforming this range by multiple `operations`.\n     *\n     * @see ~Range#getTransformedByOperation\n     * @param {Iterable.<module:engine/model/operation/operation~Operation>} operations Operations to transform the range by.\n     * @returns {Array.<module:engine/model/range~Range>} Range which is the result of transformation.\n     */\n\n  }, {\n    key: \"getTransformedByOperations\",\n    value: function getTransformedByOperations(operations) {\n      var ranges = [new Range(this.start, this.end)];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = operations[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var operation = _step3.value;\n\n          for (var _i = 0; _i < ranges.length; _i++) {\n            var result = ranges[_i].getTransformedByOperation(operation);\n\n            ranges.splice.apply(ranges, [_i, 1].concat(_toConsumableArray(result)));\n            _i += result.length - 1;\n          }\n        } // It may happen that a range is split into two, and then the part of second \"piece\" is moved into first\n        // \"piece\". In this case we will have incorrect third range, which should not be included in the result --\n        // because it is already included in the first \"piece\". In this loop we are looking for all such ranges that\n        // are inside other ranges and we simply remove them.\n\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n\n        for (var j = i + 1; j < ranges.length; j++) {\n          var next = ranges[j];\n\n          if (range.containsRange(next) || next.containsRange(range) || range.isEqual(next)) {\n            ranges.splice(j, 1);\n          }\n        }\n      }\n\n      return ranges;\n    }\n    /**\n     * Returns an {@link module:engine/model/element~Element} or {@link module:engine/model/documentfragment~DocumentFragment}\n     * which is a common ancestor of the range's both ends (in which the entire range is contained).\n     *\n     * @returns {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment|null}\n     */\n\n  }, {\n    key: \"getCommonAncestor\",\n    value: function getCommonAncestor() {\n      return this.start.getCommonAncestor(this.end);\n    }\n    /**\n     * Converts `Range` to plain object and returns it.\n     *\n     * @returns {Object} `Node` converted to plain object.\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        start: this.start.toJSON(),\n        end: this.end.toJSON()\n      };\n    }\n    /**\n     * Returns a new range that is equal to current range.\n     *\n     * @returns {module:engine/model/range~Range}\n     */\n\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new this.constructor(this.start, this.end);\n    }\n    /**\n     * Returns a result of transforming a copy of this range by insert operation.\n     *\n     * One or more ranges may be returned as a result of this transformation.\n     *\n     * @protected\n     * @param {module:engine/model/operation/insertoperation~InsertOperation} operation\n     * @returns {Array.<module:engine/model/range~Range>}\n     */\n\n  }, {\n    key: \"_getTransformedByInsertOperation\",\n    value: function _getTransformedByInsertOperation(operation) {\n      var spread = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return this._getTransformedByInsertion(operation.position, operation.howMany, spread);\n    }\n    /**\n     * Returns a result of transforming a copy of this range by move operation.\n     *\n     * One or more ranges may be returned as a result of this transformation.\n     *\n     * @protected\n     * @param {module:engine/model/operation/moveoperation~MoveOperation} operation\n     * @returns {Array.<module:engine/model/range~Range>}\n     */\n\n  }, {\n    key: \"_getTransformedByMoveOperation\",\n    value: function _getTransformedByMoveOperation(operation) {\n      var spread = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var sourcePosition = operation.sourcePosition;\n      var howMany = operation.howMany;\n      var targetPosition = operation.targetPosition;\n      return this._getTransformedByMove(sourcePosition, targetPosition, howMany, spread);\n    }\n    /**\n     * Returns a result of transforming a copy of this range by split operation.\n     *\n     * Always one range is returned. The transformation is done in a way to not break the range.\n     *\n     * @protected\n     * @param {module:engine/model/operation/splitoperation~SplitOperation} operation\n     * @returns {module:engine/model/range~Range}\n     */\n\n  }, {\n    key: \"_getTransformedBySplitOperation\",\n    value: function _getTransformedBySplitOperation(operation) {\n      var start = this.start._getTransformedBySplitOperation(operation);\n\n      var end = this.end._getTransformedBySplitOperation(operation);\n\n      if (this.end.isEqual(operation.insertionPosition)) {\n        end = this.end.getShiftedBy(1);\n      } // Below may happen when range contains graveyard element used by split operation.\n\n\n      if (start.root != end.root) {\n        // End position was next to the moved graveyard element and was moved with it.\n        // Fix it by using old `end` which has proper `root`.\n        end = this.end.getShiftedBy(-1);\n      }\n\n      return new Range(start, end);\n    }\n    /**\n     * Returns a result of transforming a copy of this range by merge operation.\n     *\n     * Always one range is returned. The transformation is done in a way to not break the range.\n     *\n     * @protected\n     * @param {module:engine/model/operation/mergeoperation~MergeOperation} operation\n     * @returns {module:engine/model/range~Range}\n     */\n\n  }, {\n    key: \"_getTransformedByMergeOperation\",\n    value: function _getTransformedByMergeOperation(operation) {\n      // Special case when the marker is set on \"the closing tag\" of an element. Marker can be set like that during\n      // transformations, especially when a content of a few block elements were removed. For example:\n      //\n      // {} is the transformed range, [] is the removed range.\n      // <p>F[o{o</p><p>B}ar</p><p>Xy]z</p>\n      //\n      // <p>Fo{o</p><p>B}ar</p><p>z</p>\n      // <p>F{</p><p>B}ar</p><p>z</p>\n      // <p>F{</p>}<p>z</p>\n      // <p>F{}z</p>\n      //\n      if (this.start.isEqual(operation.targetPosition) && this.end.isEqual(operation.deletionPosition)) {\n        return new Range(this.start);\n      }\n\n      var start = this.start._getTransformedByMergeOperation(operation);\n\n      var end = this.end._getTransformedByMergeOperation(operation);\n\n      if (start.root != end.root) {\n        // This happens when the end position was next to the merged (deleted) element.\n        // Then, the end position was moved to the graveyard root. In this case we need to fix\n        // the range cause its boundaries would be in different roots.\n        end = this.end.getShiftedBy(-1);\n      }\n\n      if (start.isAfter(end)) {\n        // This happens in three following cases:\n        //\n        // Case 1: Merge operation source position is before the target position (due to some transformations, OT, etc.)\n        //         This means that start can be moved before the end of the range.\n        //\n        // Before: <p>a{a</p><p>b}b</p><p>cc</p>\n        // Merge:  <p>b}b</p><p>cca{a</p>\n        // Fix:    <p>{b}b</p><p>ccaa</p>\n        //\n        // Case 2: Range start is before merged node but not directly.\n        //         Result should include all nodes that were in the original range.\n        //\n        // Before: <p>aa</p>{<p>cc</p><p>b}b</p>\n        // Merge:  <p>aab}b</p>{<p>cc</p>\n        // Fix:    <p>aa{bb</p><p>cc</p>}\n        //\n        //         The range is expanded by an additional `b` letter but it is better than dropping the whole `cc` paragraph.\n        //\n        // Case 3: Range start is directly before merged node.\n        //         Resulting range should include only nodes from the merged element:\n        //\n        // Before: <p>aa</p>{<p>b}b</p><p>cc</p>\n        // Merge:  <p>aab}b</p>{<p>cc</p>\n        // Fix:    <p>aa{b}b</p><p>cc</p>\n        //\n        if (operation.sourcePosition.isBefore(operation.targetPosition)) {\n          // Case 1.\n          start = Position._createAt(end);\n          start.offset = 0;\n        } else {\n          if (!operation.deletionPosition.isEqual(start)) {\n            // Case 2.\n            end = operation.deletionPosition;\n          } // In both case 2 and 3 start is at the end of the merge-to element.\n\n\n          start = operation.targetPosition;\n        }\n\n        return new Range(start, end);\n      }\n\n      return new Range(start, end);\n    }\n    /**\n     * Returns an array containing one or two {@link ~Range ranges} that are a result of transforming this\n     * {@link ~Range range} by inserting `howMany` nodes at `insertPosition`. Two {@link ~Range ranges} are\n     * returned if the insertion was inside this {@link ~Range range} and `spread` is set to `true`.\n     *\n     * Examples:\n     *\n     *\t\tlet range = model.createRange(\n     *\t\t\tmodel.createPositionFromPath( root, [ 2, 7 ] ),\n     *\t\t\tmodel.createPositionFromPath( root, [ 4, 0, 1 ] )\n     *\t\t);\n     *\t\tlet transformed = range._getTransformedByInsertion( model.createPositionFromPath( root, [ 1 ] ), 2 );\n     *\t\t// transformed array has one range from [ 4, 7 ] to [ 6, 0, 1 ]\n     *\n     *\t\ttransformed = range._getTransformedByInsertion( model.createPositionFromPath( root, [ 4, 0, 0 ] ), 4 );\n     *\t\t// transformed array has one range from [ 2, 7 ] to [ 4, 0, 5 ]\n     *\n     *\t\ttransformed = range._getTransformedByInsertion( model.createPositionFromPath( root, [ 3, 2 ] ), 4 );\n     *\t\t// transformed array has one range, which is equal to original range\n     *\n     *\t\ttransformed = range._getTransformedByInsertion( model.createPositionFromPath( root, [ 3, 2 ] ), 4, true );\n     *\t\t// transformed array has two ranges: from [ 2, 7 ] to [ 3, 2 ] and from [ 3, 6 ] to [ 4, 0, 1 ]\n     *\n     * @protected\n     * @param {module:engine/model/position~Position} insertPosition Position where nodes are inserted.\n     * @param {Number} howMany How many nodes are inserted.\n     * @param {Boolean} [spread] Flag indicating whether this {~Range range} should be spread if insertion\n     * was inside the range. Defaults to `false`.\n     * @returns {Array.<module:engine/model/range~Range>} Result of the transformation.\n     */\n\n  }, {\n    key: \"_getTransformedByInsertion\",\n    value: function _getTransformedByInsertion(insertPosition, howMany) {\n      var spread = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (spread && this.containsPosition(insertPosition)) {\n        // Range has to be spread. The first part is from original start to the spread point.\n        // The other part is from spread point to the original end, but transformed by\n        // insertion to reflect insertion changes.\n        return [new Range(this.start, insertPosition), new Range(insertPosition.getShiftedBy(howMany), this.end._getTransformedByInsertion(insertPosition, howMany))];\n      } else {\n        var range = new Range(this.start, this.end);\n        range.start = range.start._getTransformedByInsertion(insertPosition, howMany);\n        range.end = range.end._getTransformedByInsertion(insertPosition, howMany);\n        return [range];\n      }\n    }\n    /**\n     * Returns an array containing {@link ~Range ranges} that are a result of transforming this\n     * {@link ~Range range} by moving `howMany` nodes from `sourcePosition` to `targetPosition`.\n     *\n     * @protected\n     * @param {module:engine/model/position~Position} sourcePosition Position from which nodes are moved.\n     * @param {module:engine/model/position~Position} targetPosition Position to where nodes are moved.\n     * @param {Number} howMany How many nodes are moved.\n     * @param {Boolean} [spread=false] Whether the range should be spread if the move points inside the range.\n     * @returns {Array.<module:engine/model/range~Range>} Result of the transformation.\n     */\n\n  }, {\n    key: \"_getTransformedByMove\",\n    value: function _getTransformedByMove(sourcePosition, targetPosition, howMany) {\n      var spread = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      // Special case for transforming a collapsed range. Just transform it like a position.\n      if (this.isCollapsed) {\n        var newPos = this.start._getTransformedByMove(sourcePosition, targetPosition, howMany);\n\n        return [new Range(newPos)];\n      } // Special case for transformation when a part of the range is moved towards the range.\n      //\n      // Examples:\n      //\n      // <div><p>ab</p><p>c[d</p></div><p>e]f</p> --> <div><p>ab</p></div><p>c[d</p><p>e]f</p>\n      // <p>e[f</p><div><p>a]b</p><p>cd</p></div> --> <p>e[f</p><p>a]b</p><div><p>cd</p></div>\n      //\n      // Without this special condition, the default algorithm leaves an \"artifact\" range from one of `differenceSet` parts:\n      //\n      // <div><p>ab</p><p>c[d</p></div><p>e]f</p> --> <div><p>ab</p>{</div>}<p>c[d</p><p>e]f</p>\n      //\n      // This special case is applied only if the range is to be kept together (not spread).\n\n\n      var moveRange = Range._createFromPositionAndShift(sourcePosition, howMany);\n\n      var insertPosition = targetPosition._getTransformedByDeletion(sourcePosition, howMany);\n\n      if (this.containsPosition(targetPosition) && !spread) {\n        if (moveRange.containsPosition(this.start) || moveRange.containsPosition(this.end)) {\n          var start = this.start._getTransformedByMove(sourcePosition, targetPosition, howMany);\n\n          var end = this.end._getTransformedByMove(sourcePosition, targetPosition, howMany);\n\n          return [new Range(start, end)];\n        }\n      } // Default algorithm.\n\n\n      var result;\n      var differenceSet = this.getDifference(moveRange);\n      var difference = null;\n      var common = this.getIntersection(moveRange);\n\n      if (differenceSet.length == 1) {\n        // `moveRange` and this range may intersect but may be separate.\n        difference = new Range(differenceSet[0].start._getTransformedByDeletion(sourcePosition, howMany), differenceSet[0].end._getTransformedByDeletion(sourcePosition, howMany));\n      } else if (differenceSet.length == 2) {\n        // `moveRange` is inside this range.\n        difference = new Range(this.start, this.end._getTransformedByDeletion(sourcePosition, howMany));\n      } // else, `moveRange` contains this range.\n\n\n      if (difference) {\n        result = difference._getTransformedByInsertion(insertPosition, howMany, common !== null || spread);\n      } else {\n        result = [];\n      }\n\n      if (common) {\n        var transformedCommon = new Range(common.start._getCombined(moveRange.start, insertPosition), common.end._getCombined(moveRange.start, insertPosition));\n\n        if (result.length == 2) {\n          result.splice(1, 0, transformedCommon);\n        } else {\n          result.push(transformedCommon);\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Returns a copy of this range that is transformed by deletion of `howMany` nodes from `deletePosition`.\n     *\n     * If the deleted range is intersecting with the transformed range, the transformed range will be shrank.\n     *\n     * If the deleted range contains transformed range, `null` will be returned.\n     *\n     * @protected\n     * @param {module:engine/model/position~Position} deletionPosition Position from which nodes are removed.\n     * @param {Number} howMany How many nodes are removed.\n     * @returns {module:engine/model/range~Range|null} Result of the transformation.\n     */\n\n  }, {\n    key: \"_getTransformedByDeletion\",\n    value: function _getTransformedByDeletion(deletePosition, howMany) {\n      var newStart = this.start._getTransformedByDeletion(deletePosition, howMany);\n\n      var newEnd = this.end._getTransformedByDeletion(deletePosition, howMany);\n\n      if (newStart == null && newEnd == null) {\n        return null;\n      }\n\n      if (newStart == null) {\n        newStart = deletePosition;\n      }\n\n      if (newEnd == null) {\n        newEnd = deletePosition;\n      }\n\n      return new Range(newStart, newEnd);\n    }\n    /**\n     * Creates a new range, spreading from specified {@link module:engine/model/position~Position position} to a position moved by\n     * given `shift`. If `shift` is a negative value, shifted position is treated as the beginning of the range.\n     *\n     * @protected\n     * @param {module:engine/model/position~Position} position Beginning of the range.\n     * @param {Number} shift How long the range should be.\n     * @returns {module:engine/model/range~Range}\n     */\n\n  }, {\n    key: \"isCollapsed\",\n    get: function get() {\n      return this.start.isEqual(this.end);\n    }\n    /**\n     * Returns whether this range is flat, that is if {@link #start} position and\n     * {@link #end} position are in the same {@link module:engine/model/position~Position#parent}.\n     *\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"isFlat\",\n    get: function get() {\n      var startParentPath = this.start.getParentPath();\n      var endParentPath = this.end.getParentPath();\n      return compareArrays(startParentPath, endParentPath) == 'same';\n    }\n    /**\n     * Range root element.\n     *\n     * @type {module:engine/model/element~Element|module:engine/model/documentfragment~DocumentFragment}\n     */\n\n  }, {\n    key: \"root\",\n    get: function get() {\n      return this.start.root;\n    }\n  }], [{\n    key: \"_createFromPositionAndShift\",\n    value: function _createFromPositionAndShift(position, shift) {\n      var start = position;\n      var end = position.getShiftedBy(shift);\n      return shift > 0 ? new this(start, end) : new this(end, start);\n    }\n    /**\n     * Creates a range inside an {@link module:engine/model/element~Element element} which starts before the first child of\n     * that element and ends after the last child of that element.\n     *\n     * @protected\n     * @param {module:engine/model/element~Element} element Element which is a parent for the range.\n     * @returns {module:engine/model/range~Range}\n     */\n\n  }, {\n    key: \"_createIn\",\n    value: function _createIn(element) {\n      return new this(Position._createAt(element, 0), Position._createAt(element, element.maxOffset));\n    }\n    /**\n     * Creates a range that starts before given {@link module:engine/model/item~Item model item} and ends after it.\n     *\n     * @protected\n     * @param {module:engine/model/item~Item} item\n     * @returns {module:engine/model/range~Range}\n     */\n\n  }, {\n    key: \"_createOn\",\n    value: function _createOn(item) {\n      return this._createFromPositionAndShift(Position._createBefore(item), item.offsetSize);\n    }\n    /**\n     * Combines all ranges from the passed array into a one range. At least one range has to be passed.\n     * Passed ranges must not have common parts.\n     *\n     * The first range from the array is a reference range. If other ranges start or end on the exactly same position where\n     * the reference range, they get combined into one range.\n     *\n     *\t\t[  ][]  [    ][ ][             ][ ][]  [  ]  // Passed ranges, shown sorted\n     *\t\t[    ]                                       // The result of the function if the first range was a reference range.\n     *\t            [                           ]        // The result of the function if the third-to-seventh range was a reference range.\n     *\t                                           [  ]  // The result of the function if the last range was a reference range.\n     *\n     * @param {Array.<module:engine/model/range~Range>} ranges Ranges to combine.\n     * @returns {module:engine/model/range~Range} Combined range.\n     */\n\n  }, {\n    key: \"_createFromRanges\",\n    value: function _createFromRanges(ranges) {\n      if (ranges.length === 0) {\n        /**\n         * At least one range has to be passed to\n         * {@link module:engine/model/range~Range._createFromRanges `Range._createFromRanges()`}.\n         *\n         * @error range-create-from-ranges-empty-array\n         */\n        throw new CKEditorError('range-create-from-ranges-empty-array: At least one range has to be passed.', null);\n      } else if (ranges.length == 1) {\n        return ranges[0].clone();\n      } // 1. Set the first range in `ranges` array as a reference range.\n      // If we are going to return just a one range, one of the ranges need to be the reference one.\n      // Other ranges will be stuck to that range, if possible.\n\n\n      var ref = ranges[0]; // 2. Sort all the ranges so it's easier to process them.\n\n      ranges.sort(function (a, b) {\n        return a.start.isAfter(b.start) ? 1 : -1;\n      }); // 3. Check at which index the reference range is now.\n\n      var refIndex = ranges.indexOf(ref); // 4. At this moment we don't need the original range.\n      // We are going to modify the result and we need to return a new instance of Range.\n      // We have to create a copy of the reference range.\n\n      var result = new this(ref.start, ref.end); // 5. Ranges should be checked and glued starting from the range that is closest to the reference range.\n      // Since ranges are sorted, start with the range with index that is closest to reference range index.\n\n      if (refIndex > 0) {\n        for (var i = refIndex - 1; true; i++) {\n          if (ranges[i].end.isEqual(result.start)) {\n            result.start = Position._createAt(ranges[i].start);\n          } else {\n            // If ranges are not starting/ending at the same position there is no point in looking further.\n            break;\n          }\n        }\n      } // 6. Ranges should be checked and glued starting from the range that is closest to the reference range.\n      // Since ranges are sorted, start with the range with index that is closest to reference range index.\n\n\n      for (var _i2 = refIndex + 1; _i2 < ranges.length; _i2++) {\n        if (ranges[_i2].start.isEqual(result.end)) {\n          result.end = Position._createAt(ranges[_i2].end);\n        } else {\n          // If ranges are not starting/ending at the same position there is no point in looking further.\n          break;\n        }\n      }\n\n      return result;\n    }\n    /**\n     * Creates a `Range` instance from given plain object (i.e. parsed JSON string).\n     *\n     * @param {Object} json Plain object to be converted to `Range`.\n     * @param {module:engine/model/document~Document} doc Document object that will be range owner.\n     * @returns {module:engine/model/element~Element} `Range` instance created using given plain object.\n     */\n\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(json, doc) {\n      return new this(Position.fromJSON(json.start, doc), Position.fromJSON(json.end, doc));\n    }\n  }]);\n\n  return Range;\n}();\n\nexport { Range as default };","import _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _assertThisInitialized from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _getPrototypeOf from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _get from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/get\";\nimport _inherits from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/liverange\n */\nimport Range from \"./range\";\nimport EmitterMixin from '@ckeditor/ckeditor5-utils/src/emittermixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\n/**\n * `LiveRange` is a type of {@link module:engine/model/range~Range Range}\n * that updates itself as {@link module:engine/model/document~Document document}\n * is changed through operations. It may be used as a bookmark.\n *\n * **Note:** Be very careful when dealing with `LiveRange`. Each `LiveRange` instance bind events that might\n * have to be unbound. Use {@link module:engine/model/liverange~LiveRange#detach detach} whenever you don't need `LiveRange` anymore.\n */\n\nvar LiveRange =\n/*#__PURE__*/\nfunction (_Range) {\n  _inherits(LiveRange, _Range);\n\n  /**\n   * Creates a live range.\n   *\n   * @see module:engine/model/range~Range\n   */\n  function LiveRange(start, end) {\n    var _this;\n\n    _classCallCheck(this, LiveRange);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LiveRange).call(this, start, end));\n    bindWithDocument.call(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Unbinds all events previously bound by `LiveRange`. Use it whenever you don't need `LiveRange` instance\n   * anymore (i.e. when leaving scope in which it was declared or before re-assigning variable that was\n   * referring to it).\n   */\n\n\n  _createClass(LiveRange, [{\n    key: \"detach\",\n    value: function detach() {\n      this.stopListening();\n    }\n    /**\n     * Checks whether this object is of the given.\n     *\n     *\t\tliveRange.is( 'range' ); // -> true\n     *\t\tliveRange.is( 'model:range' ); // -> true\n     *\t\tliveRange.is( 'liveRange' ); // -> true\n     *\t\tliveRange.is( 'model:liveRange' ); // -> true\n     *\n     *\t\tliveRange.is( 'view:range' ); // -> false\n     *\t\tliveRange.is( 'documentSelection' ); // -> false\n     *\n     * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n     *\n     * @param {String} type\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"is\",\n    value: function is(type) {\n      return type == 'liveRange' || type == 'model:liveRange' || _get(_getPrototypeOf(LiveRange.prototype), \"is\", this).call(this, type);\n    }\n    /**\n     * Creates a {@link module:engine/model/range~Range range instance} that is equal to this live range.\n     *\n     * @returns {module:engine/model/range~Range}\n     */\n\n  }, {\n    key: \"toRange\",\n    value: function toRange() {\n      return new Range(this.start, this.end);\n    }\n    /**\n     * Creates a `LiveRange` instance that is equal to the given range.\n     *\n     * @param {module:engine/model/range~Range} range\n     * @returns {module:engine/model/liverange~LiveRange}\n     */\n\n  }], [{\n    key: \"fromRange\",\n    value: function fromRange(range) {\n      return new LiveRange(range.start, range.end);\n    }\n    /**\n     * @see module:engine/model/range~Range._createIn\n     * @static\n     * @protected\n     * @method module:engine/model/liverange~LiveRange._createIn\n     * @param {module:engine/model/element~Element} element\n     * @returns {module:engine/model/liverange~LiveRange}\n     */\n\n    /**\n     * @see module:engine/model/range~Range._createOn\n     * @static\n     * @protected\n     * @method module:engine/model/liverange~LiveRange._createOn\n     * @param {module:engine/model/element~Element} element\n     * @returns {module:engine/model/liverange~LiveRange}\n     */\n\n    /**\n     * @see module:engine/model/range~Range._createFromPositionAndShift\n     * @static\n     * @protected\n     * @method module:engine/model/liverange~LiveRange._createFromPositionAndShift\n     * @param {module:engine/model/position~Position} position\n     * @param {Number} shift\n     * @returns {module:engine/model/liverange~LiveRange}\n     */\n\n    /**\n     * Fired when `LiveRange` instance boundaries have changed due to changes in the\n     * {@link module:engine/model/document~Document document}.\n     *\n     * @event change:range\n     * @param {module:engine/model/range~Range} oldRange Range with start and end position equal to start and end position of this live\n     * range before it got changed.\n     * @param {Object} data Object with additional information about the change.\n     * @param {module:engine/model/position~Position|null} data.deletionPosition Source position for remove and merge changes.\n     * Available if the range was moved to the graveyard root, `null` otherwise.\n     */\n\n    /**\n     * Fired when `LiveRange` instance boundaries have not changed after a change in {@link module:engine/model/document~Document document}\n     * but the change took place inside the range, effectively changing its content.\n     *\n     * @event change:content\n     * @param {module:engine/model/range~Range} range Range with start and end position equal to start and end position of\n     * change range.\n     * @param {Object} data Object with additional information about the change.\n     * @param {null} data.deletionPosition Due to the nature of this event, this property is always set to `null`. It is passed\n     * for compatibility with the {@link module:engine/model/liverange~LiveRange#event:change:range} event.\n     */\n\n  }]);\n\n  return LiveRange;\n}(Range); // Binds this `LiveRange` to the {@link module:engine/model/document~Document document}\n// that owns this range's {@link module:engine/model/range~Range#root root}.\n//\n// @private\n\n\nexport { LiveRange as default };\n\nfunction bindWithDocument() {\n  var _this2 = this;\n\n  this.listenTo(this.root.document.model, 'applyOperation', function (event, args) {\n    var operation = args[0];\n\n    if (!operation.isDocumentOperation) {\n      return;\n    }\n\n    transform.call(_this2, operation);\n  }, {\n    priority: 'low'\n  });\n} // Updates this range accordingly to the updates applied to the model. Bases on change events.\n//\n// @private\n// @param {module:engine/model/operation/operation~Operation} operation Executed operation.\n\n\nfunction transform(operation) {\n  // Transform the range by the operation. Join the result ranges if needed.\n  var ranges = this.getTransformedByOperation(operation);\n\n  var result = Range._createFromRanges(ranges);\n\n  var boundariesChanged = !result.isEqual(this);\n  var contentChanged = doesOperationChangeRangeContent(this, operation);\n  var deletionPosition = null;\n\n  if (boundariesChanged) {\n    // If range boundaries have changed, fire `change:range` event.\n    //\n    if (result.root.rootName == '$graveyard') {\n      // If the range was moved to the graveyard root, set `deletionPosition`.\n      if (operation.type == 'remove') {\n        deletionPosition = operation.sourcePosition;\n      } else {\n        // Merge operation.\n        deletionPosition = operation.deletionPosition;\n      }\n    }\n\n    var oldRange = this.toRange();\n    this.start = result.start;\n    this.end = result.end;\n    this.fire('change:range', oldRange, {\n      deletionPosition: deletionPosition\n    });\n  } else if (contentChanged) {\n    // If range boundaries have not changed, but there was change inside the range, fire `change:content` event.\n    this.fire('change:content', this.toRange(), {\n      deletionPosition: deletionPosition\n    });\n  }\n} // Checks whether given operation changes something inside the range (even if it does not change boundaries).\n//\n// @private\n// @param {module:engine/model/range~Range} range Range to check.\n// @param {module:engine/model/operation/operation~Operation} operation Executed operation.\n// @returns {Boolean}\n\n\nfunction doesOperationChangeRangeContent(range, operation) {\n  switch (operation.type) {\n    case 'insert':\n      return range.containsPosition(operation.position);\n\n    case 'move':\n    case 'remove':\n    case 'reinsert':\n    case 'merge':\n      return range.containsPosition(operation.sourcePosition) || range.start.isEqual(operation.sourcePosition) || range.containsPosition(operation.targetPosition);\n\n    case 'split':\n      return range.containsPosition(operation.splitPosition) || range.containsPosition(operation.insertionPosition);\n  }\n\n  return false;\n}\n\nmix(LiveRange, EmitterMixin);","import _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _assertThisInitialized from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _getPrototypeOf from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _get from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/get\";\nimport _inherits from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n\n/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/liveposition\n */\nimport Position from \"./position\";\nimport EmitterMixin from '@ckeditor/ckeditor5-utils/src/emittermixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n/**\n * `LivePosition` is a type of {@link module:engine/model/position~Position Position}\n * that updates itself as {@link module:engine/model/document~Document document}\n * is changed through operations. It may be used as a bookmark.\n *\n * **Note:** Contrary to {@link module:engine/model/position~Position}, `LivePosition` works only in roots that are\n * {@link module:engine/model/rootelement~RootElement}.\n * If {@link module:engine/model/documentfragment~DocumentFragment} is passed, error will be thrown.\n *\n * **Note:** Be very careful when dealing with `LivePosition`. Each `LivePosition` instance bind events that might\n * have to be unbound.\n * Use {@link module:engine/model/liveposition~LivePosition#detach} whenever you don't need `LivePosition` anymore.\n *\n * @extends module:engine/model/position~Position\n */\n\nvar LivePosition =\n/*#__PURE__*/\nfunction (_Position) {\n  _inherits(LivePosition, _Position);\n\n  /**\n   * Creates a live position.\n   *\n   * @see module:engine/model/position~Position\n   * @param {module:engine/model/rootelement~RootElement} root\n   * @param {Array.<Number>} path\n   * @param {module:engine/model/position~PositionStickiness} [stickiness]\n   */\n  function LivePosition(root, path) {\n    var _this;\n\n    var stickiness = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'toNone';\n\n    _classCallCheck(this, LivePosition);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LivePosition).call(this, root, path, stickiness));\n\n    if (!_this.root.is('rootElement')) {\n      /**\n       * LivePosition's root has to be an instance of RootElement.\n       *\n       * @error liveposition-root-not-rootelement\n       */\n      throw new CKEditorError('model-liveposition-root-not-rootelement: LivePosition\\'s root has to be an instance of RootElement.', root);\n    }\n\n    bindWithDocument.call(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Unbinds all events previously bound by `LivePosition`. Use it whenever you don't need `LivePosition` instance\n   * anymore (i.e. when leaving scope in which it was declared or before re-assigning variable that was\n   * referring to it).\n   */\n\n\n  _createClass(LivePosition, [{\n    key: \"detach\",\n    value: function detach() {\n      this.stopListening();\n    }\n    /**\n     * Checks whether this object is of the given.\n     *\n     *\t\tlivePosition.is( 'position' ); // -> true\n     *\t\tlivePosition.is( 'model:position' ); // -> true\n     *\t\tlivePosition.is( 'liveposition' ); // -> true\n     *\t\tlivePosition.is( 'model:livePosition' ); // -> true\n     *\n     *\t\tlivePosition.is( 'view:position' ); // -> false\n     *\t\tlivePosition.is( 'documentSelection' ); // -> false\n     *\n     * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n     *\n     * @param {String} type\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"is\",\n    value: function is(type) {\n      return type == 'livePosition' || type == 'model:livePosition' || _get(_getPrototypeOf(LivePosition.prototype), \"is\", this).call(this, type);\n    }\n    /**\n     * Creates a {@link module:engine/model/position~Position position instance}, which is equal to this live position.\n     *\n     * @returns {module:engine/model/position~Position}\n     */\n\n  }, {\n    key: \"toPosition\",\n    value: function toPosition() {\n      return new Position(this.root, this.path.slice(), this.stickiness);\n    }\n    /**\n     * Creates a `LivePosition` instance that is equal to position.\n     *\n     * @param {module:engine/model/position~Position} position\n     * @param {module:engine/model/position~PositionStickiness} [stickiness]\n     * @returns {module:engine/model/position~Position}\n     */\n\n  }], [{\n    key: \"fromPosition\",\n    value: function fromPosition(position, stickiness) {\n      return new this(position.root, position.path.slice(), stickiness ? stickiness : position.stickiness);\n    }\n    /**\n     * @static\n     * @protected\n     * @method module:engine/model/liveposition~LivePosition._createAfter\n     * @see module:engine/model/position~Position._createAfter\n     * @param {module:engine/model/node~Node} node\n     * @param {module:engine/model/position~PositionStickiness} [stickiness='toNone']\n     * @returns {module:engine/model/liveposition~LivePosition}\n     */\n\n    /**\n     * @static\n     * @protected\n     * @method module:engine/model/liveposition~LivePosition._createBefore\n     * @see module:engine/model/position~Position._createBefore\n     * @param {module:engine/model/node~Node} node\n     * @param {module:engine/model/position~PositionStickiness} [stickiness='toNone']\n     * @returns {module:engine/model/liveposition~LivePosition}\n     */\n\n    /**\n     * @static\n     * @protected\n     * @method module:engine/model/liveposition~LivePosition._createAt\n     * @see module:engine/model/position~Position._createAt\n     * @param {module:engine/model/item~Item|module:engine/model/position~Position} itemOrPosition\n     * @param {Number|'end'|'before'|'after'} [offset]\n     * @param {module:engine/model/position~PositionStickiness} [stickiness='toNone']\n     * @returns {module:engine/model/liveposition~LivePosition}\n     */\n\n    /**\n     * Fired when `LivePosition` instance is changed due to changes on {@link module:engine/model/document~Document}.\n     *\n     * @event module:engine/model/liveposition~LivePosition#change\n     * @param {module:engine/model/position~Position} oldPosition Position equal to this live position before it got changed.\n     */\n\n  }]);\n\n  return LivePosition;\n}(Position); // Binds this `LivePosition` to the {@link module:engine/model/document~Document document} that owns\n// this position's {@link module:engine/model/position~Position#root root}.\n//\n// @private\n\n\nexport { LivePosition as default };\n\nfunction bindWithDocument() {\n  var _this2 = this;\n\n  this.listenTo(this.root.document.model, 'applyOperation', function (event, args) {\n    var operation = args[0];\n\n    if (!operation.isDocumentOperation) {\n      return;\n    }\n\n    transform.call(_this2, operation);\n  }, {\n    priority: 'low'\n  });\n} // Updates this position accordingly to the updates applied to the model. Bases on change events.\n//\n// @private\n// @param {module:engine/model/operation/operation~Operation} operation Executed operation.\n\n\nfunction transform(operation) {\n  var result = this.getTransformedByOperation(operation);\n\n  if (!this.isEqual(result)) {\n    var oldPosition = this.toPosition();\n    this.path = result.path;\n    this.root = result.root;\n    this.fire('change', oldPosition);\n  }\n}\n\nmix(LivePosition, EmitterMixin);","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.match\";\nimport _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n\n/**\r\n * @module media-embed/automediaembed\r\n */\nimport MediaEmbedEditing from \"./mediaembedediting\";\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport Clipboard from '@ckeditor/ckeditor5-clipboard/src/clipboard';\nimport LiveRange from '@ckeditor/ckeditor5-engine/src/model/liverange';\nimport LivePosition from '@ckeditor/ckeditor5-engine/src/model/liveposition';\nimport Undo from '@ckeditor/ckeditor5-undo/src/undo';\nimport global from '@ckeditor/ckeditor5-utils/src/dom/global';\nimport { insertMedia } from \"./utils\";\nvar URL_REGEXP = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w.-]+)+[\\w\\-._~:/?#[\\]@!$&'()*+,;=]+$/;\n/**\r\n * The auto-media embed plugin. It recognizes media links in the pasted content and embeds\r\n * them shortly after they are injected into the document.\r\n *\r\n * @extends module:core/plugin~Plugin\r\n */\n\nvar AutoMediaEmbed =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inherits(AutoMediaEmbed, _Plugin);\n\n  _createClass(AutoMediaEmbed, null, [{\n    key: \"requires\",\n\n    /**\r\n     * @inheritDoc\r\n     */\n    get: function get() {\n      return [Clipboard, Undo];\n    }\n    /**\r\n     * @inheritDoc\r\n     */\n\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return 'AutoMediaEmbed';\n    }\n    /**\r\n     * @inheritDoc\r\n     */\n\n  }]);\n\n  function AutoMediaEmbed(editor) {\n    var _this;\n\n    _classCallCheck(this, AutoMediaEmbed);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AutoMediaEmbed).call(this, editor));\n    /**\r\n     * The paste–to–embed `setTimeout` ID. Stored as a property to allow\r\n     * cleaning of the timeout.\r\n     *\r\n     * @private\r\n     * @member {Number} #_timeoutId\r\n     */\n\n    _this._timeoutId = null;\n    /**\r\n     * The position where the `<media>` element will be inserted after the timeout,\r\n     * determined each time the new content is pasted into the document.\r\n     *\r\n     * @private\r\n     * @member {module:engine/model/liveposition~LivePosition} #_positionToInsert\r\n     */\n\n    _this._positionToInsert = null;\n    return _this;\n  }\n  /**\r\n   * @inheritDoc\r\n   */\n\n\n  _createClass(AutoMediaEmbed, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var editor = this.editor;\n      var modelDocument = editor.model.document; // We need to listen on `Clipboard#inputTransformation` because we need to save positions of selection.\n      // After pasting, the content between those positions will be checked for a URL that could be transformed\n      // into media.\n\n      this.listenTo(editor.plugins.get(Clipboard), 'inputTransformation', function () {\n        var firstRange = modelDocument.selection.getFirstRange();\n        var leftLivePosition = LivePosition.fromPosition(firstRange.start);\n        leftLivePosition.stickiness = 'toPrevious';\n        var rightLivePosition = LivePosition.fromPosition(firstRange.end);\n        rightLivePosition.stickiness = 'toNext';\n        modelDocument.once('change:data', function () {\n          _this2._embedMediaBetweenPositions(leftLivePosition, rightLivePosition);\n\n          leftLivePosition.detach();\n          rightLivePosition.detach();\n        }, {\n          priority: 'high'\n        });\n      });\n      editor.commands.get('undo').on('execute', function () {\n        if (_this2._timeoutId) {\n          global.window.clearTimeout(_this2._timeoutId);\n\n          _this2._positionToInsert.detach();\n\n          _this2._timeoutId = null;\n          _this2._positionToInsert = null;\n        }\n      }, {\n        priority: 'high'\n      });\n    }\n    /**\r\n     * Analyzes the part of the document between provided positions in search for a URL representing media.\r\n     * When the URL is found, it is automatically converted into media.\r\n     *\r\n     * @protected\r\n     * @param {module:engine/model/liveposition~LivePosition} leftPosition Left position of the selection.\r\n     * @param {module:engine/model/liveposition~LivePosition} rightPosition Right position of the selection.\r\n     */\n\n  }, {\n    key: \"_embedMediaBetweenPositions\",\n    value: function _embedMediaBetweenPositions(leftPosition, rightPosition) {\n      var _this3 = this;\n\n      var editor = this.editor;\n      var mediaRegistry = editor.plugins.get(MediaEmbedEditing).registry; // TODO: Use marker instead of LiveRange & LivePositions.\n\n      var urlRange = new LiveRange(leftPosition, rightPosition);\n      var walker = urlRange.getWalker({\n        ignoreElementEnd: true\n      });\n      var url = '';\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = walker[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var node = _step.value;\n\n          if (node.item.is('textProxy')) {\n            url += node.item.data;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      url = url.trim(); // If the URL does not match to universal URL regexp, let's skip that.\n\n      if (!url.match(URL_REGEXP)) {\n        return;\n      } // If the URL represents a media, let's use it.\n\n\n      if (!mediaRegistry.hasMedia(url)) {\n        return;\n      }\n\n      var mediaEmbedCommand = editor.commands.get('mediaEmbed'); // Do not anything if media element cannot be inserted at the current position (#47).\n\n      if (!mediaEmbedCommand.isEnabled) {\n        return;\n      } // Position won't be available in the `setTimeout` function so let's clone it.\n\n\n      this._positionToInsert = LivePosition.fromPosition(leftPosition); // This action mustn't be executed if undo was called between pasting and auto-embedding.\n\n      this._timeoutId = global.window.setTimeout(function () {\n        editor.model.change(function (writer) {\n          _this3._timeoutId = null;\n          writer.remove(urlRange);\n          var insertionPosition; // Check if position where the media element should be inserted is still valid.\n          // Otherwise leave it as undefined to use document.selection - default behavior of model.insertContent().\n\n          if (_this3._positionToInsert.root.rootName !== '$graveyard') {\n            insertionPosition = _this3._positionToInsert;\n          }\n\n          insertMedia(editor.model, url, insertionPosition);\n\n          _this3._positionToInsert.detach();\n\n          _this3._positionToInsert = null;\n        });\n      }, 100);\n    }\n  }]);\n\n  return AutoMediaEmbed;\n}(Plugin);\n\nexport { AutoMediaEmbed as default };","import 'core-js/modules/es7.symbol.async-iterator';\nimport 'core-js/modules/es6.symbol';\nimport 'core-js/modules/web.dom.iterable';\nimport _classCallCheck from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck';\nimport _createClass from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass';\nimport _possibleConstructorReturn from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf';\nimport _get from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/get';\nimport _inherits from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits';\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n/**\r\n * @module media-embed/ui/mediaformview\r\n */\nimport View from '@ckeditor/ckeditor5-ui/src/view';\nimport ViewCollection from '@ckeditor/ckeditor5-ui/src/viewcollection';\nimport ButtonView from '@ckeditor/ckeditor5-ui/src/button/buttonview';\nimport LabeledInputView from '@ckeditor/ckeditor5-ui/src/labeledinput/labeledinputview';\nimport InputTextView from '@ckeditor/ckeditor5-ui/src/inputtext/inputtextview';\nimport submitHandler from '@ckeditor/ckeditor5-ui/src/bindings/submithandler';\nimport FocusTracker from '@ckeditor/ckeditor5-utils/src/focustracker';\nimport FocusCycler from '@ckeditor/ckeditor5-ui/src/focuscycler';\nimport KeystrokeHandler from '@ckeditor/ckeditor5-utils/src/keystrokehandler';\nimport checkIcon from '@ckeditor/ckeditor5-core/theme/icons/check.svg';\nimport cancelIcon from '@ckeditor/ckeditor5-core/theme/icons/cancel.svg';\nimport '../../theme/mediaform.css';\n/**\r\n * The media form view controller class.\r\n *\r\n * See {@link module:media-embed/ui/mediaformview~MediaFormView}.\r\n *\r\n * @extends module:ui/view~View\r\n */\nvar MediaFormView = /*#__PURE__*/\nfunction (_View) {\n    _inherits(MediaFormView, _View);\n    /**\r\n   * @param {Array.<Function>} validators Form validators used by {@link #isValid}.\r\n   * @param {module:utils/locale~Locale} [locale] The localization services instance.\r\n   */\n    function MediaFormView(validators, locale) {\n        var _this;\n        _classCallCheck(this, MediaFormView);\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(MediaFormView).call(this, locale));\n        var t = locale.t;\n        /**\r\n     * Tracks information about DOM focus in the form.\r\n     *\r\n     * @readonly\r\n     * @member {module:utils/focustracker~FocusTracker}\r\n     */\n        _this.focusTracker = new FocusTracker();\n        /**\r\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\r\n     *\r\n     * @readonly\r\n     * @member {module:utils/keystrokehandler~KeystrokeHandler}\r\n     */\n        _this.keystrokes = new KeystrokeHandler();\n        /**\r\n     * The URL input view.\r\n     *\r\n     * @member {module:ui/labeledinput/labeledinputview~LabeledInputView}\r\n     */\n        _this.urlInputView = _this._createUrlInput();\n        /**\r\n     * The Save button view.\r\n     *\r\n     * @member {module:ui/button/buttonview~ButtonView}\r\n     */\n        _this.saveButtonView = _this._createButton(t('保存'), checkIcon, 'ck-button-save');\n        _this.saveButtonView.type = 'submit';\n        /**\r\n     * The Cancel button view.\r\n     *\r\n     * @member {module:ui/button/buttonview~ButtonView}\r\n     */\n        _this.cancelButtonView = _this._createButton(t('取消'), cancelIcon, 'ck-button-cancel', 'cancel');\n        /**\r\n     * A collection of views that can be focused in the form.\r\n     *\r\n     * @readonly\r\n     * @protected\r\n     * @member {module:ui/viewcollection~ViewCollection}\r\n     */\n        _this._focusables = new ViewCollection();\n        /**\r\n     * Helps cycling over {@link #_focusables} in the form.\r\n     *\r\n     * @readonly\r\n     * @protected\r\n     * @member {module:ui/focuscycler~FocusCycler}\r\n     */\n        _this._focusCycler = new FocusCycler({\n            focusables: _this._focusables,\n            focusTracker: _this.focusTracker,\n            keystrokeHandler: _this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        /**\r\n     * An array of form validators used by {@link #isValid}.\r\n     *\r\n     * @readonly\r\n     * @protected\r\n     * @member {Array.<Function>}\r\n     */\n        _this._validators = validators;\n        _this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-media-form'\n                ],\n                tabindex: '-1'\n            },\n            children: [\n                _this.urlInputView,\n                _this.saveButtonView,\n                _this.cancelButtonView\n            ]\n        });\n        /**\r\n     * The default info text for the {@link #urlInputView}.\r\n     *\r\n     * @private\r\n     * @member {String} #_urlInputViewInfoDefault\r\n     */\n        /**\r\n     * The info text with an additional tip for the {@link #urlInputView},\r\n     * displayed when the input has some value.\r\n     *\r\n     * @private\r\n     * @member {String} #_urlInputViewInfoTip\r\n     */\n        return _this;\n    }\n    /**\r\n   * @inheritDoc\r\n   */\n    _createClass(MediaFormView, [\n        {\n            key: 'render',\n            value: function render() {\n                var _this2 = this;\n                _get(_getPrototypeOf(MediaFormView.prototype), 'render', this).call(this);\n                submitHandler({ view: this });\n                var childViews = [\n                    this.urlInputView,\n                    this.saveButtonView,\n                    this.cancelButtonView\n                ];\n                childViews.forEach(function (v) {\n                    // Register the view as focusable.\n                    _this2._focusables.add(v);\n                    // Register the view in the focus tracker.\n                    _this2.focusTracker.add(v.element);\n                });\n                // Start listening for the keystrokes coming from #element.\n                this.keystrokes.listenTo(this.element);\n                var stopPropagation = function stopPropagation(data) {\n                    return data.stopPropagation();\n                };\n                // Since the form is in the dropdown panel which is a child of the toolbar, the toolbar's\n                // keystroke handler would take over the key management in the URL input. We need to prevent\n                // this ASAP. Otherwise, the basic caret movement using the arrow keys will be impossible.\n                this.keystrokes.set('arrowright', stopPropagation);\n                this.keystrokes.set('arrowleft', stopPropagation);\n                this.keystrokes.set('arrowup', stopPropagation);\n                this.keystrokes.set('arrowdown', stopPropagation);\n                // Intercept the \"selectstart\" event, which is blocked by default because of the default behavior\n                // of the DropdownView#panelView.\n                // TODO: blocking \"selectstart\" in the #panelView should be configurable per–drop–down instance.\n                this.listenTo(this.urlInputView.element, 'selectstart', function (evt, domEvt) {\n                    domEvt.stopPropagation();\n                }, { priority: 'high' });\n            }    /**\r\n     * Focuses the fist {@link #_focusables} in the form.\r\n     */\n        },\n        {\n            key: 'focus',\n            value: function focus() {\n                this._focusCycler.focusFirst();\n            }    /**\r\n     * The native DOM `value` of the {@link #urlInputView} element.\r\n     *\r\n     * **Note**: Do not confuse it with the {@link module:ui/inputtext/inputtextview~InputTextView#value}\r\n     * which works one way only and may not represent the actual state of the component in the DOM.\r\n     *\r\n     * @type {Number}\r\n     */\n        },\n        {\n            key: 'isValid',\n            /**\r\n     * Validates the form and returns `false` when some fields are invalid.\r\n     *\r\n     * @returns {Boolean}\r\n     */\n            value: function isValid() {\n                this.resetFormStatus();\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n                try {\n                    for (var _iterator = this._validators[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var validator = _step.value;\n                        var errorText = validator(this);\n                        // One error per field is enough.\n                        if (errorText) {\n                            // Apply updated error.\n                            this.urlInputView.errorText = errorText;\n                            return false;\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return != null) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n                return true;\n            }    /**\r\n     * Cleans up the supplementary error and information text of the {@link #urlInputView}\r\n     * bringing them back to the state when the form has been displayed for the first time.\r\n     *\r\n     * See {@link #isValid}.\r\n     */\n        },\n        {\n            key: 'resetFormStatus',\n            value: function resetFormStatus() {\n                this.urlInputView.errorText = null;\n                this.urlInputView.infoText = this._urlInputViewInfoDefault;\n            }    /**\r\n     * Creates a labeled input view.\r\n     *\r\n     * @private\r\n     * @returns {module:ui/labeledinput/labeledinputview~LabeledInputView} Labeled input view instance.\r\n     */\n        },\n        {\n            key: '_createUrlInput',\n            value: function _createUrlInput() {\n                var _this3 = this;\n                var t = this.locale.t;\n                var labeledInput = new LabeledInputView(this.locale, InputTextView);\n                var inputView = labeledInput.inputView;\n                this._urlInputViewInfoDefault = t('请把视频链接粘贴至这里');\n                this._urlInputViewInfoTip = t('提示\\uFF1A支持视频文件链接\\u3001优酷外链');\n                labeledInput.label = t('媒体URL');\n                labeledInput.infoText = this._urlInputViewInfoDefault;\n                inputView.placeholder = '支持视频文件链接\\u3001优酷外链';\n                inputView.on('input', function () {\n                    // Display the tip text only when there's some value. Otherwise fall back to the default info text.\n                    labeledInput.infoText = inputView.element.value ? _this3._urlInputViewInfoTip : _this3._urlInputViewInfoDefault;\n                });\n                return labeledInput;\n            }    /**\r\n     * Creates a button view.\r\n     *\r\n     * @private\r\n     * @param {String} label The button label.\r\n     * @param {String} icon The button icon.\r\n     * @param {String} className The additional button CSS class name.\r\n     * @param {String} [eventName] An event name that the `ButtonView#execute` event will be delegated to.\r\n     * @returns {module:ui/button/buttonview~ButtonView} The button view instance.\r\n     */\n        },\n        {\n            key: '_createButton',\n            value: function _createButton(label, icon, className, eventName) {\n                var button = new ButtonView(this.locale);\n                button.set({\n                    label: label,\n                    icon: icon,\n                    tooltip: true\n                });\n                button.extendTemplate({ attributes: { class: className } });\n                if (eventName) {\n                    button.delegate('execute').to(this, eventName);\n                }\n                return button;\n            }\n        },\n        {\n            key: 'url',\n            get: function get() {\n                return this.urlInputView.inputView.element.value.trim();\n            }    /**\r\n     * Sets the native DOM `value` of the {@link #urlInputView} element.\r\n     *\r\n     * **Note**: Do not confuse it with the {@link module:ui/inputtext/inputtextview~InputTextView#value}\r\n     * which works one way only and may not represent the actual state of the component in the DOM.\r\n     *\r\n     * @param {String} url\r\n     */,\n            set: function set(url) {\n                this.urlInputView.inputView.element.value = url.trim();\n            }\n        }\n    ]);\n    return MediaFormView;\n}(View);\n/**\r\n * Fired when the form view is submitted (when one of the children triggered the submit event),\r\n * e.g. click on {@link #saveButtonView}.\r\n *\r\n * @event submit\r\n */\n/**\r\n * Fired when the form view is canceled, e.g. click on {@link #cancelButtonView}.\r\n *\r\n * @event cancel\r\n */\nexport {\n    MediaFormView as default\n};","import _classCallCheck from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck';\nimport _createClass from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass';\nimport _possibleConstructorReturn from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf';\nimport _inherits from 'E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits';\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n/**\r\n * @module media-embed/mediaembedui\r\n */\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport { createDropdown } from '@ckeditor/ckeditor5-ui/src/dropdown/utils';\nimport MediaFormView from './ui/mediaformview';\nimport MediaEmbedEditing from './mediaembedediting';\nimport mediaIcon from '../theme/icons/media.svg';\n/**\r\n * The media embed UI plugin.\r\n *\r\n * @extends module:core/plugin~Plugin\r\n */\nvar MediaEmbedUI = /*#__PURE__*/\nfunction (_Plugin) {\n    _inherits(MediaEmbedUI, _Plugin);\n    function MediaEmbedUI() {\n        _classCallCheck(this, MediaEmbedUI);\n        return _possibleConstructorReturn(this, _getPrototypeOf(MediaEmbedUI).apply(this, arguments));\n    }\n    _createClass(MediaEmbedUI, [\n        {\n            key: 'init',\n            /**\r\n     * @inheritDoc\r\n     */\n            value: function init() {\n                var _this = this;\n                var editor = this.editor;\n                var command = editor.commands.get('mediaEmbed');\n                var registry = editor.plugins.get(MediaEmbedEditing).registry;\n                /**\r\n       * The form view displayed inside the drop-down.\r\n       *\r\n       * @member {module:media-embed/ui/mediaformview~MediaFormView}\r\n       */\n                this.form = new MediaFormView(getFormValidators(editor.t, registry), editor.locale);\n                // Setup `imageUpload` button.\n                editor.ui.componentFactory.add('mediaEmbed', function (locale) {\n                    var dropdown = createDropdown(locale);\n                    _this._setUpDropdown(dropdown, _this.form, command, editor);\n                    _this._setUpForm(_this.form, dropdown, command);\n                    return dropdown;\n                });\n            }\n        },\n        {\n            key: '_setUpDropdown',\n            value: function _setUpDropdown(dropdown, form, command) {\n                var editor = this.editor;\n                var t = editor.t;\n                var button = dropdown.buttonView;\n                dropdown.bind('isEnabled').to(command);\n                dropdown.panelView.children.add(form);\n                button.set({\n                    label: t('插入媒体'),\n                    icon: mediaIcon,\n                    tooltip: true\n                });\n                // Note: Use the low priority to make sure the following listener starts working after the\n                // default action of the drop-down is executed (i.e. the panel showed up). Otherwise, the\n                // invisible form/input cannot be focused/selected.\n                button.on('open', function () {\n                    // Make sure that each time the panel shows up, the URL field remains in sync with the value of\n                    // the command. If the user typed in the input, then canceled (`urlInputView#value` stays\n                    // unaltered) and re-opened it without changing the value of the media command (e.g. because they\n                    // didn't change the selection), they would see the old value instead of the actual value of the\n                    // command.\n                    form.url = command.value || '';\n                    form.urlInputView.select();\n                    form.focus();\n                }, { priority: 'low' });\n                dropdown.on('submit', function () {\n                    if (form.isValid()) {\n                        editor.execute('mediaEmbed', form.url);\n                        closeUI();\n                    }\n                });\n                dropdown.on('change:isOpen', function () {\n                    return form.resetFormStatus();\n                });\n                dropdown.on('cancel', function () {\n                    return closeUI();\n                });\n                function closeUI() {\n                    editor.editing.view.focus();\n                    dropdown.isOpen = false;\n                }\n            }\n        },\n        {\n            key: '_setUpForm',\n            value: function _setUpForm(form, dropdown, command) {\n                form.delegate('submit', 'cancel').to(dropdown);\n                form.urlInputView.bind('value').to(command, 'value');\n                // Form elements should be read-only when corresponding commands are disabled.\n                form.urlInputView.bind('isReadOnly').to(command, 'isEnabled', function (value) {\n                    return !value;\n                });\n                form.saveButtonView.bind('isEnabled').to(command);\n            }\n        }\n    ], [\n        {\n            key: 'requires',\n            /**\r\n     * @inheritDoc\r\n     */\n            get: function get() {\n                return [MediaEmbedEditing];\n            }    /**\r\n     * @inheritDoc\r\n     */\n        },\n        {\n            key: 'pluginName',\n            get: function get() {\n                return 'MediaEmbedUI';\n            }\n        }\n    ]);\n    return MediaEmbedUI;\n}(Plugin);\nexport {\n    MediaEmbedUI as default\n};\nfunction getFormValidators(t, registry) {\n    return [\n        function (form) {\n            if (!form.url.length) {\n                return t('URL不可以为空\\u3002');\n            }\n        },\n        function (form) {\n            if (!registry.hasMedia(form.url)) {\n                return t('不支持此媒体URL\\u3002');\n            }\n        }\n    ];\n}","import _classCallCheck from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\code\\\\Web\\\\network_course_website\\\\vue\\\\desktop\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n\n/**\r\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md.\r\n */\n\n/**\r\n * @module media-embed/mediaembed\r\n */\nimport MediaEmbedEditing from \"./mediaembedediting\";\nimport AutoMediaEmbed from \"./automediaembed\";\nimport MediaEmbedUI from \"./mediaembedui\";\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport Widget from '@ckeditor/ckeditor5-widget/src/widget';\nimport \"../theme/mediaembed.css\";\n/**\r\n * The media embed plugin.\r\n *\r\n * For a detailed overview, check the {@glink features/media-embed Media Embed feature documentation}.\r\n *\r\n * This is a \"glue\" plugin which loads the following plugins:\r\n *\r\n * * The {@link module:media-embed/mediaembedediting~MediaEmbedEditing media embed editing feature},\r\n * * The {@link module:media-embed/mediaembedui~MediaEmbedUI media embed UI feature} and\r\n * * The {@link module:media-embed/automediaembed~AutoMediaEmbed auto-media embed feature}.\r\n *\r\n * @extends module:core/plugin~Plugin\r\n */\n\nvar MediaEmbed =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inherits(MediaEmbed, _Plugin);\n\n  function MediaEmbed() {\n    _classCallCheck(this, MediaEmbed);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MediaEmbed).apply(this, arguments));\n  }\n\n  _createClass(MediaEmbed, null, [{\n    key: \"requires\",\n\n    /**\r\n     * @inheritDoc\r\n     */\n    get: function get() {\n      return [MediaEmbedEditing, MediaEmbedUI, AutoMediaEmbed, Widget];\n    }\n    /**\r\n     * @inheritDoc\r\n     */\n\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return 'MediaEmbed';\n    }\n  }]);\n\n  return MediaEmbed;\n}(Plugin);\n/**\r\n * The media embed provider descriptor. Used in\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#providers `config.mediaEmbed.providers`} and\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#extraProviders `config.mediaEmbed.extraProviders`}.\r\n *\r\n * See {@link module:media-embed/mediaembed~MediaEmbedConfig} to learn more.\r\n *\r\n *\t\t{\r\n *\t\t\tname: 'example',\r\n *\r\n *\t\t\t// The following RegExp matches https://www.example.com/media/{media id},\r\n *\t\t\t// (either with \"http(s)://\" and \"www\" or without), so the valid URLs are:\r\n *\t\t\t//\r\n *\t\t\t// * https://www.example.com/media/{media id},\r\n *\t\t\t// * http://www.example.com/media/{media id},\r\n *\t\t\t// * www.example.com/media/{media id},\r\n *\t\t\t// * example.com/media/{media id}\r\n *\t\t\turl: /^example\\.com\\/media\\/(\\w+)/,\r\n *\r\n *\t\t\t// The rendering function of the provider.\r\n *\t\t\t// Used to represent the media when editing the content (i.e. in the view)\r\n *\t\t\t// and also in the data output of the editor if semantic data output is disabled.\r\n *\t\t\thtml: match => `The HTML representing the media with ID=${ match[ 1 ] }.`\r\n *\t\t}\r\n *\r\n * You can allow any sort of media in the editor using the \"allow–all\" `RegExp`.\r\n * But mind that, since URLs are processed in the order of configuration, if one of the previous\r\n * `RegExps` matches the URL, it will have a precedence over this one.\r\n *\r\n *\t\t{\r\n *\t\t\tname: 'allow-all',\r\n *\t\t\turl: /^.+/\r\n *\t\t}\r\n *\r\n * To implement responsive media, you can use the following HTML structure:\r\n *\r\n *\t\t{\r\n *\t\t\t...\r\n *\t\t\thtml: match =>\r\n *\t\t\t\t'<div style=\"position:relative; padding-bottom:100%; height:0\">' +\r\n *\t\t\t\t\t'<iframe src=\"...\" frameborder=\"0\" ' +\r\n *\t\t\t\t\t\t'style=\"position:absolute; width:100%; height:100%; top:0; left:0\">' +\r\n *\t\t\t\t\t'</iframe>' +\r\n *\t\t\t\t'</div>'\r\n *\t\t}\r\n *\r\n * @typedef {Object} module:media-embed/mediaembed~MediaEmbedProvider\r\n * @property {String} name The name of the provider. Used e.g. when\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#removeProviders removing providers}.\r\n * @property {RegExp|Array.<RegExp>} url The `RegExp` object (or array of objects) defining the URL of the media.\r\n * If any URL matches the `RegExp`, it becomes the media in the editor model, as defined by the provider. The result\r\n * of matching (output of `String.prototype.match()`) is passed to the `html` rendering function of the media.\r\n *\r\n * **Note:** You do not need to include the protocol (`http://`, `https://`) and `www` subdomain in your `RegExps`,\r\n * they are stripped from the URLs before matching anyway.\r\n * @property {Function} [html] (optional) The rendering function of the media. The function receives the entire matching\r\n * array from the corresponding `url` `RegExp` as an argument, allowing rendering a dedicated\r\n * preview of the media identified by a certain ID or a hash. When not defined, the media embed feature\r\n * will use a generic media representation in the view and output data.\r\n * Note that when\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#previewsInData `config.mediaEmbed.previewsInData`}\r\n * is `true`, the rendering function **will always** be used for the media in the editor data output.\r\n */\n\n/**\r\n * The configuration of the {@link module:media-embed/mediaembed~MediaEmbed} feature.\r\n *\r\n * Read more in {@link module:media-embed/mediaembed~MediaEmbedConfig}.\r\n *\r\n * @member {module:media-embed/mediaembed~MediaEmbedConfig} module:core/editor/editorconfig~EditorConfig#mediaEmbed\r\n */\n\n/**\r\n * The configuration of the media embed features.\r\n *\r\n * Read more about {@glink features/media-embed#configuration configuring the media embed feature}.\r\n *\r\n *\t\tClassicEditor\r\n *\t\t\t.create( editorElement, {\r\n * \t\t\t\tmediaEmbed: ... // Media embed feature options.\r\n *\t\t\t} )\r\n *\t\t\t.then( ... )\r\n *\t\t\t.catch( ... );\r\n *\r\n * See {@link module:core/editor/editorconfig~EditorConfig all editor options}.\r\n *\r\n * @interface MediaEmbedConfig\r\n */\n\n/**\r\n * The default media providers supported by the editor.\r\n *\r\n * The names of providers with rendering functions (previews):\r\n *\r\n * * \"dailymotion\",\r\n * * \"spotify\",\r\n * * \"youtube\",\r\n * * \"vimeo\"\r\n *\r\n * The names of providers without rendering functions:\r\n *\r\n * * \"instagram\",\r\n * * \"twitter\",\r\n * * \"googleMaps\",\r\n * * \"flickr\",\r\n * * \"facebook\"\r\n *\r\n * See the {@link module:media-embed/mediaembed~MediaEmbedProvider provider syntax} to learn more about\r\n * different kinds of media and media providers.\r\n *\r\n * **Note**: The default media provider configuration may not support all possible media URLs,\r\n * only the most common are included.\r\n *\r\n * Media without rendering functions are always represented in the data using the \"semantic\" markup. See\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#previewsInData `config.mediaEmbed.previewsInData`} to\r\n * learn more about possible data outputs.\r\n *\r\n * The priority of media providers corresponds to the order of configuration. The first provider\r\n * to match the URL is always used, even if there are other providers that support a particular URL.\r\n * The URL is never matched against the remaining providers.\r\n *\r\n * To discard **all** default media providers, simply override this configuration with your own\r\n * {@link module:media-embed/mediaembed~MediaEmbedProvider definitions}:\r\n *\r\n *\t\tClassicEditor\r\n *\t\t\t.create( editorElement, {\r\n *\t\t\t\tplugins: [ MediaEmbed, ... ],\r\n *\t\t\t\tmediaEmbed: {\r\n *\t\t\t\t\tproviders: [\r\n *\t\t\t\t\t\t{\r\n *\t\t\t\t\t\t\t name: 'myProvider',\r\n *\t\t\t\t\t\t\t url: /^example\\.com\\/media\\/(\\w+)/,\r\n *\t\t\t\t\t\t\t html: match => '...'\r\n *\t\t\t\t\t\t},\r\n *\t\t\t\t\t\t...\r\n * \t\t\t\t\t]\r\n *\t\t\t\t}\r\n *\t\t\t} )\r\n *\t\t\t.then( ... )\r\n *\t\t\t.catch( ... );\r\n *\r\n * You can take inspiration from the default configuration of this feature which you can find in:\r\n * https://github.com/ckeditor/ckeditor5-media-embed/blob/master/src/mediaembedediting.js\r\n *\r\n * To **extend** the list of default providers, use\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#extraProviders `config.mediaEmbed.extraProviders`}.\r\n *\r\n * To **remove** certain providers, use\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#removeProviders `config.mediaEmbed.removeProviders`}.\r\n *\r\n * @member {Array.<module:media-embed/mediaembed~MediaEmbedProvider>} module:media-embed/mediaembed~MediaEmbedConfig#providers\r\n */\n\n/**\r\n * The additional media providers supported by the editor. This configuration helps extend the default\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#providers}.\r\n *\r\n *\t\tClassicEditor\r\n *\t\t\t.create( editorElement, {\r\n *\t\t\t\tplugins: [ MediaEmbed, ... ],\r\n *\t\t\t\tmediaEmbed: {\r\n *\t\t\t\t\textraProviders: [\r\n *\t\t\t\t\t\t{\r\n *\t\t\t\t\t\t\t name: 'extraProvider',\r\n *\t\t\t\t\t\t\t url: /^example\\.com\\/media\\/(\\w+)/,\r\n *\t\t\t\t\t\t\t html: match => '...'\r\n *\t\t\t\t\t\t},\r\n *\t\t\t\t\t\t...\r\n * \t\t\t\t\t]\r\n *\t\t\t\t}\r\n *\t\t\t} )\r\n *\t\t\t.then( ... )\r\n *\t\t\t.catch( ... );\r\n *\r\n * See the {@link module:media-embed/mediaembed~MediaEmbedProvider provider syntax} to learn more.\r\n *\r\n * @member {Array.<module:media-embed/mediaembed~MediaEmbedProvider>} module:media-embed/mediaembed~MediaEmbedConfig#extraProviders\r\n */\n\n/**\r\n * The list of media providers that should not be used despite being available in\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#providers `config.mediaEmbed.providers`} and\r\n * {@link module:media-embed/mediaembed~MediaEmbedConfig#extraProviders `config.mediaEmbed.extraProviders`}\r\n *\r\n *\t\tmediaEmbed: {\r\n *\t\t\tremoveProviders: [ 'youtube', 'twitter' ]\r\n *\t\t}\r\n *\r\n * @member {Array.<String>} module:media-embed/mediaembed~MediaEmbedConfig#removeProviders\r\n */\n\n/**\r\n * Controls the data format produced by the feature.\r\n *\r\n * When `false` (default), the feature produces \"semantic\" data, i.e. it does not include the preview of\r\n * the media, just the `<oembed>` tag with the `url` attribute:\r\n *\r\n *\t\t<figure class=\"media\">\r\n *\t\t\t<oembed url=\"https://url\"></oembed>\r\n *\t\t</figure>\r\n *\r\n * When `true`, the media is represented in the output in the same way it looks in the editor,\r\n * i.e. the media preview is saved to the database:\r\n *\r\n *\t\t<figure class=\"media\">\r\n *\t\t\t<div data-oembed-url=\"https://url\">\r\n *\t\t\t\t<iframe src=\"https://preview\"></iframe>\r\n *\t\t\t</div>\r\n *\t\t</figure>\r\n *\r\n * **Note:** Media without preview are always represented in the data using the \"semantic\" markup\r\n * regardless of the value of the `previewsInData`. Learn more about different kinds of media\r\n * in the {@link module:media-embed/mediaembed~MediaEmbedConfig#providers `config.mediaEmbed.providers`}\r\n * configuration description.\r\n *\r\n * @member {Boolean} [module:media-embed/mediaembed~MediaEmbedConfig#previewsInData=false]\r\n */\n\n\nexport { MediaEmbed as default };","<template>\r\n  <div>\r\n    <el-row type=\"flex\" :gutter=\"20\">\r\n      <el-col :span=\"17\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>{{ this.partInfo.title }}</span>\r\n          </div>\r\n          <ckeditor\r\n            :editor=\"editor\"\r\n            v-model=\"editorData\"\r\n            :config=\"editorConfig\"\r\n          ></ckeditor>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <el-col :span=\"7\">\r\n        <el-card style=\"margin-bottom: 20px;\">\r\n          <el-form\r\n            label-position=\"top\"\r\n            label-width=\"80px\"\r\n            :model=\"partInfo\"\r\n            status-icon\r\n            :rules=\"partInfoRules\"\r\n          >\r\n            <el-form-item class=\"form-item\" label=\"标题：\" prop=\"title\">\r\n              <el-input\r\n                v-model=\"partInfo.title\"\r\n                placeholder=\"请输入标题\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-button type=\"primary\" style=\"width: 100%;\" @click=\"updatePart\"\r\n              >发布/更新</el-button\r\n            >\r\n          </el-form>\r\n        </el-card>\r\n\r\n        <el-card>\r\n          <el-upload\r\n            accept=\".mp4\"\r\n            :action=\"$serverBaseUrl + '/api/uploadCourseVideoChunks'\"\r\n            :data=\"{\r\n              courseID: $route.query.id,\r\n              chapter: $route.query.c,\r\n              part: $route.query.p\r\n            }\"\r\n            ref=\"upload\"\r\n            :http-request=\"uploadVideo\"\r\n            :with-credentials=\"true\"\r\n            :file-list=\"videoes\"\r\n            :on-remove=\"delVideo\"\r\n            :on-preview=\"checkVideoUrl\"\r\n          >\r\n            <el-button size=\"small\" type=\"primary\">上传视频</el-button>\r\n            <div slot=\"tip\" class=\"el-upload__tip\">\r\n              <p>请注意：</p>\r\n              <p>1、如需插入视频，请先在此上传所需视频再使用视频地址插入</p>\r\n              <p>2、只能上传mp4文件</p>\r\n            </div>\r\n          </el-upload>\r\n        </el-card>\r\n\r\n        <el-dialog\r\n          title=\"上传成功\"\r\n          :visible.sync=\"uploadVideoScuessDialogVis\"\r\n          width=\"30%\"\r\n          :before-close=\"() => false\"\r\n          :show-close=\"false\"\r\n        >\r\n          <p>视频上传成功！视频地址：</p>\r\n          <el-input\r\n            v-model=\"uploadVideoScuessUrl[uploadVideoScuessName]\"\r\n            id=\"uploaded-video-url\"\r\n          ></el-input>\r\n          <p>您也可以点击该视频查看视频地址</p>\r\n          <span slot=\"footer\">\r\n            <el-button plain @click=\"uploadVideoScuessDialogVis = false\"\r\n              >取 消</el-button\r\n            >\r\n            <el-button type=\"primary\" @click=\"copyUploadVideoScuessUrl\"\r\n              >复制地址</el-button\r\n            >\r\n          </span>\r\n        </el-dialog>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {CoursesProvider} from '@/provider/index';\r\n\r\nimport ClassicEditor from '@ckeditor/ckeditor5-editor-classic/src/classiceditor';\r\n\r\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials';\r\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading';\r\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold';\r\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic';\r\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font';\r\nimport UnderlinePlugin from '@ckeditor/ckeditor5-basic-styles/src/underline';\r\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment';\r\nimport SuperScriptPlugin from '@ckeditor/ckeditor5-basic-styles/src/superscript';\r\nimport CodePlugin from '@ckeditor/ckeditor5-basic-styles/src/code';\r\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link';\r\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph';\r\nimport CKFinder from '@ckeditor/ckeditor5-ckfinder/src/ckfinder';\r\nimport Image from '@ckeditor/ckeditor5-image/src/image';\r\nimport ImageToolbar from '@ckeditor/ckeditor5-image/src/imagetoolbar';\r\nimport ImageUpload from '@ckeditor/ckeditor5-image/src/imageupload';\r\nimport ImageCaption from '@ckeditor/ckeditor5-image/src/imagecaption';\r\nimport ImageStyle from '@ckeditor/ckeditor5-image/src/imagestyle';\r\n\r\nimport MediaEmbedPlugin from '../../../components/ckeditor5/ckeditor5-media-embed/src/mediaembed';\r\n\r\nimport uuidV1 from 'uuid/v1';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      courseID: '',\r\n      chapter: 0,\r\n      part: 0,\r\n      tchID: '',\r\n\r\n      editor: ClassicEditor,\r\n      editorData: '',\r\n      editorConfig: {\r\n        plugins: [\r\n          EssentialsPlugin,\r\n          HeadingPlugin,\r\n          BoldPlugin,\r\n          ItalicPlugin,\r\n          FontPlugin,\r\n          UnderlinePlugin,\r\n          AlignmentPlugin,\r\n          SuperScriptPlugin,\r\n          CodePlugin,\r\n          LinkPlugin,\r\n          ParagraphPlugin,\r\n          CKFinder,\r\n          Image,\r\n          ImageToolbar,\r\n          ImageUpload,\r\n          ImageCaption,\r\n          ImageStyle,\r\n          MediaEmbedPlugin\r\n        ],\r\n\r\n        toolbar: {\r\n          items: [\r\n            'heading',\r\n            '|',\r\n            'link',\r\n            'imageUpload',\r\n            // 'imageStyle:full',\r\n            // 'imageStyle:side',\r\n            'mediaEmbed',\r\n            '|',\r\n            'bold',\r\n            'italic',\r\n            'fontSize',\r\n            'underline',\r\n            'superscript',\r\n            'code',\r\n            '|',\r\n            'alignment:left',\r\n            'alignment:right',\r\n            'alignment:center',\r\n            'alignment:justify',\r\n            '|',\r\n            'undo',\r\n            'redo'\r\n          ]\r\n        },\r\n\r\n        ckfinder: {\r\n          // Upload the images to the server using the CKFinder QuickUpload command.\r\n          uploadUrl: `${this.$serverBaseUrl}/api/uploadCourseImg?courseID=${this.$route.query.id}&chapter=${this.$route.query.c}&part=${this.$route.query.p}`,\r\n          options: {\r\n            resourceType: '.jpg,.jpeg,.png'\r\n          }\r\n        }\r\n      },\r\n\r\n      partInfo: {\r\n        title: ''\r\n      },\r\n      partInfoRules: {\r\n        title: [{required: true, message: '请输入标题', trigger: 'blur'}]\r\n      },\r\n\r\n      videoes: [],\r\n      uploadVideoScuessDialogVis: false,\r\n      uploadVideoScuessUrl: {},\r\n      uploadVideoScuessName: ''\r\n    };\r\n  },\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: {}\r\n    }\r\n  },\r\n  created() {\r\n    this.chapter = parseInt(this.$route.query.c);\r\n    this.part = parseInt(this.$route.query.p);\r\n    this.courseID = this.$route.query.id;\r\n    this.tchID = this.user.id;\r\n    this.getPartDetail();\r\n  },\r\n  methods: {\r\n    encodeFilename(filename) {\r\n      return filename\r\n        .replace(/\\+/g, '%2B')\r\n        .replace(/ /g, '-')\r\n        .replace(/\\//g, '%2F')\r\n        .replace(/\\?/g, '%3F')\r\n        .replace(/#/g, '%23')\r\n        .replace(/&/g, '%26')\r\n        .replace(/=/g, '%3D');\r\n    },\r\n\r\n    decodeFilename(filename) {\r\n      return filename\r\n        .replace(/%2B/g, '+')\r\n        .replace(/%2F/g, '/')\r\n        .replace(/%3F/g, '?')\r\n        .replace(/%23/g, '#')\r\n        .replace(/%26/g, '&')\r\n        .replace(/%3D/g, '=');\r\n    },\r\n    getPartDetail() {\r\n      CoursesProvider.getPartDetail({\r\n        courseID: this.courseID,\r\n        chapter: this.chapter,\r\n        part: this.part\r\n      })\r\n        .then(res => {\r\n          if (res.data.code === 1) {\r\n            this.partInfo.title = res.data.data.title;\r\n            this.editorData = res.data.data.content || '';\r\n            this.videoes = res.data.data.videoes;\r\n            this.videoes.forEach(video => {\r\n              this.uploadVideoScuessUrl[video.name] = video.url;\r\n            });\r\n          }\r\n          if (res.data.code === -1) {\r\n            console.log(res.data.errMsg);\r\n            this.$confirm('加载失败, 是否重新加载?', '提示', {\r\n              confirmButtonText: '确定',\r\n              cancelButtonText: '取消',\r\n              type: 'warning'\r\n            })\r\n              .then(() => {\r\n                this.$router.push({path: '/emptyPage'});\r\n              })\r\n              .catch(() => {});\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.$confirm('加载失败, 是否重新加载?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          })\r\n            .then(() => {\r\n              this.$router.push({path: '/emptyPage'});\r\n            })\r\n            .catch(() => {});\r\n        });\r\n    },\r\n    updatePart() {\r\n      if (!this.partInfo.title) {\r\n        return null;\r\n      }\r\n      this.$confirm('此操作将发布/更新该单元内容, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          CoursesProvider.updatePart({\r\n            courseID: this.courseID,\r\n            chapter: this.chapter,\r\n            part: this.part,\r\n            title: this.partInfo.title,\r\n            content: this.editorData,\r\n            tchID: this.tchID\r\n          })\r\n            .then(res => {\r\n              if (res.data.code === 1) {\r\n                this.$router.push({path: `/course/${this.courseID}/index`});\r\n              }\r\n              if (res.data.code === 0) {\r\n                this.$message({\r\n                  message: res.data.info,\r\n                  type: 'warning'\r\n                });\r\n              }\r\n              if (res.data.code === -1) {\r\n                this.$alert('发生了错误导致该操作执行失败', '发生错误', {\r\n                  confirmButtonText: '确定'\r\n                });\r\n                console.log(res.data.errMsg);\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    checkVideoUrl(file) {\r\n      this.uploadVideoScuessName = this.encodeFilename(file.name);\r\n      this.uploadVideoScuessDialogVis = true;\r\n    },\r\n    delVideo(file, fileList) {\r\n      // 只要用户点击了删除，进入了这个文件，文件都会消失，但数据还在，所以下面这两行代码是为了更新一下响应，躲过这个“bug”\r\n      this.videoes.push({});\r\n      this.videoes.pop();\r\n\r\n      this.$confirm('此操作将删除该视频, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          CoursesProvider.delCourseVideo({\r\n            filename: file.name,\r\n            courseID: this.courseID,\r\n            chapter: this.chapter,\r\n            part: this.part,\r\n            tchID: this.tchID\r\n          })\r\n            .then(res => {\r\n              if (res.data.code === 1) {\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '删除成功!'\r\n                });\r\n                this.videoes = this.videoes.filter(video => {\r\n                  if (video.name === file.name) {\r\n                    return false;\r\n                  }\r\n                  return true;\r\n                });\r\n              }\r\n              if (res.data.code === -1) {\r\n                this.$alert('发生了错误导致视频删除失败', '删除失败', {\r\n                  confirmButtonText: '确定'\r\n                });\r\n                console.log(res.data.errMsg);\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(err => {});\r\n    },\r\n    copyUploadVideoScuessUrl() {\r\n      const input = document.getElementById('uploaded-video-url');\r\n      input.select();\r\n      this.uploadVideoScuessDialogVis = false;\r\n      if (document.execCommand('copy')) {\r\n        document.execCommand('copy');\r\n        this.$message({\r\n          type: 'success',\r\n          message: '视频地址已复制!'\r\n        });\r\n      } else {\r\n        this.$message({\r\n          type: 'warn',\r\n          message: '视频地址复制失败!'\r\n        });\r\n      }\r\n    },\r\n    handleUpload(res) {\r\n      if (res.data.code === 1) {\r\n        this.uploadVideoScuessUrl[this.encodeFilename(res.data.data.filename)] =\r\n          res.data.data.url;\r\n        this.uploadVideoScuessName = this.encodeFilename(\r\n          res.data.data.filename\r\n        );\r\n        this.uploadVideoScuessDialogVis = true;\r\n      }\r\n      if (res.data.code === -1) {\r\n        this.$alert('发生了错误导致视频上传失败', '上传失败', {\r\n          confirmButtonText: '确定'\r\n        });\r\n      }\r\n    },\r\n    handleUploadError(err) {\r\n      this.$alert('发生了错误导致视频上传失败', '上传失败', {\r\n        confirmButtonText: '确定'\r\n      });\r\n      console.log(err);\r\n    },\r\n    uploadVideo(fileObj) {\r\n      const file = fileObj.file;\r\n      const eachSize = 50 * 1024 * 1024; // 每个chunks的大小\r\n      const blockCount = Math.ceil(file.size / eachSize); // 分片总数\r\n      const axiosArray = []; // axiosPromise数组\r\n      const ext = file.name.split('.').slice(-1)[0]; // 获取文件后缀名\r\n      const hash = uuidV1(); // 通过hash标识文件\r\n      const chunksLoads = [];\r\n\r\n      // 处理每个分片的上传操作\r\n      for (let i = 0; i < blockCount; i++) {\r\n        let start = i * eachSize,\r\n          end = Math.min(file.size, start + eachSize);\r\n\r\n        const form = new FormData();\r\n        form.append('file', file.slice(start, end));\r\n        form.append('index', i);\r\n        form.append('hash', hash);\r\n\r\n        // 加入到 Promise 数组中\r\n        axiosArray.push(\r\n          this.$http.request({\r\n            url: 'api/uploadCourseVideoChunks',\r\n            method: 'post',\r\n            data: form,\r\n            onUploadProgress: progressEvent => {\r\n              chunksLoads[i] = progressEvent.loaded;\r\n              const allChunksLoads = chunksLoads.reduce((prev, cur) => {\r\n                return prev + cur;\r\n              });\r\n              const complete = ((allChunksLoads / file.size) * 100) | 0;\r\n              fileObj.onProgress({percent: complete === 100 ? 99 : complete}); // 后台需要拼接文件，所以上传完100%了服务器还是没有返回值，所以直接显示99\r\n            }\r\n          })\r\n        );\r\n      }\r\n\r\n      // 所有分片上传后，请求合并分片文件\r\n      return this.$http.all(axiosArray).then(() => {\r\n        // 合并chunks\r\n        const data = {\r\n          name: file.name,\r\n          total: blockCount,\r\n          ext,\r\n          hash,\r\n          courseID: this.courseID,\r\n          chapter: this.chapter,\r\n          part: this.part\r\n        };\r\n        // 请求分片合并\r\n        CoursesProvider.mergeCourseVideoChunks(data).then(\r\n          this.handleUpload,\r\n          this.handleUploadError\r\n        );\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.ck-editor__editable {\r\n  margin-bottom: 50px;\r\n  min-height: 70vh;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCourse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCourse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCourse.vue?vue&type=template&id=2d0fee1c&\"\nimport script from \"./EditCourse.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCourse.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditCourse.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCourse.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCourse.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}