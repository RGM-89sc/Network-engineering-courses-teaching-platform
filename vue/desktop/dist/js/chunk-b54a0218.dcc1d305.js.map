{"version":3,"sources":["webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./src/views/childrenViews/ArticleList.vue?72b5","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/views/childrenViews/ArticleList.vue?ab9b","webpack:///src/views/childrenViews/ArticleList.vue","webpack:///./src/views/childrenViews/ArticleList.vue?ce39","webpack:///./src/views/childrenViews/ArticleList.vue","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/uuid/lib/rng-browser.js"],"names":["byteToHex","i","toString","substr","bytesToUuid","buf","offset","bth","join","module","exports","fails","method","arg","call","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","sortData","callback","$$v","$set","expression","_l","item","key","label","disabled","on","$event","$router","push","path","articleType","articleID","_v","article","index","name","params","article_id","query","_s","title","summary","authorName","views","goods","length","tag","formatDate","created","dayjsNowTime","articleList","loadingArticle","_e","directives","rawName","staticRenderFns","props","user","type","Object","default","String","data","orderArticleList","$dayjs","Date","now","searchVal","sortSelectVal","sortOptions","articlesCountLimit","skipArticles","watch","sortArticleList","sortType","getArticles","mounted","IntersectionObserverOfstickyHandler","root","$el","querySelector","methods","minute","observedEl","style","position","top","rootParent","insertBefore","entries","isIntersecting","classList","add","remove","intersectionObserver","observe","sort","dayjs","x","isAfter","y","component","$export","aFunction","toObject","$sort","test","P","F","undefined","comparefn","rng","v4","options","Array","rnds","random","ii","getRandomValues","crypto","bind","window","msCrypto","rnds8","Uint8Array","r","Math"],"mappings":"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","file":"js/chunk-b54a0218.dcc1d305.js","sourcesContent":["/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"news-list__wrapper\"},[_c('el-row',{staticClass:\"news-list__header\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-select',{attrs:{\"placeholder\":\"请选择排序方式\"},model:{value:(_vm.sortData.sortSelectVal),callback:function ($$v) {_vm.$set(_vm.sortData, \"sortSelectVal\", $$v)},expression:\"sortData.sortSelectVal\"}},_vm._l((_vm.sortData.sortOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value,\"disabled\":item.disabled}})}),1)],1),_c('el-col',{staticClass:\"post-news__wrapper\",attrs:{\"span\":19}},[_c('div',{staticClass:\"post-news\"},[_c('el-button',{staticClass:\"post-news-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({\n              path: (\"/\" + _vm.articleType + \"/addArticle?articleID=\" + _vm.articleID + \"&articleType=\" + _vm.articleType)\n            })}}},[_vm._v(\"发布文章\")])],1)])],1),_c('el-card',{staticClass:\"news__list\"},[_vm._l((_vm.orderArticleList),function(article,index){return _c('div',{key:index,staticClass:\"news__item\"},[_c('article',{staticClass:\"news-article\"},[_c('div',{staticClass:\"news-article__title\"},[_c('h3',[_c('el-link',{on:{\"click\":function($event){return _vm.$router.push({ \n                name: 'article_news_detail', \n                params: { article_id: article.articleID }, \n                query: { articleType: _vm.articleType },\n              })}}},[_vm._v(_vm._s(article.title))])],1)]),_c('p',{staticClass:\"news-article__content\"},[_vm._v(_vm._s(article.summary))]),_c('el-row',{staticClass:\"news-article__info normal-info-font normal-margin__tb\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('div',{staticClass:\"news-article-author\"},[_c('el-link',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(article.authorName)+\" \")])],1),_c('div',{staticClass:\"news-article-vg\"},[_c('span',[_vm._v(\" 浏览：\"+_vm._s(article.views)+\" \")]),_c('span',[_vm._v(\"\\n              点赞：\"+_vm._s(article.goods.length)+\"\\n              \"),_c('span')])])]),_c('el-row',{staticClass:\"news-article__meta\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('div',{staticClass:\"news-article__tags\"},_vm._l((article.tags),function(tag,index){return _c('el-tag',{key:index,attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(tag))])}),1),_c('div',{staticClass:\"news-article__date\"},[_vm._v(\"\\n            \"+_vm._s(_vm.formatDate(article.created, _vm.dayjsNowTime))+\"\\n          \")])])],1)])}),(_vm.articleList.length === 0 && _vm.loadingArticle === false)?_c('div',{staticClass:\"article_empty\"},[_vm._v(\"\\n      暂时还没有任何文章！\\n    \")]):_vm._e(),(_vm.loadingArticle)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingArticle),expression:\"loadingArticle\"}],staticClass:\"article-loading__wrapper\"}):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"news-list__wrapper\">\r\n    <el-row class=\"news-list__header\" type=\"flex\" justify=\"space-between\">\r\n      <el-col :span=\"5\">\r\n        <el-select v-model=\"sortData.sortSelectVal\" placeholder=\"请选择排序方式\">\r\n          <el-option\r\n            v-for=\"item in sortData.sortOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n            :disabled=\"item.disabled\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n      <!-- <el-col class=\"search-news__wrapper\" :span=\"5\">\r\n        <el-input\r\n          class=\"search-news\"\r\n          v-model=\"searchVal\"\r\n          placeholder=\"搜索...\"\r\n        ></el-input>\r\n      </el-col> -->\r\n\r\n      <el-col class=\"post-news__wrapper\" :span=\"19\">\r\n        <div class=\"post-news\">\r\n          <el-button\r\n            class=\"post-news-btn\"\r\n            type=\"primary\"\r\n            @click=\"\r\n              $router.push({\r\n                path: `/${articleType}/addArticle?articleID=${articleID}&articleType=${articleType}`\r\n              })\r\n            \"\r\n            >发布文章</el-button\r\n          >\r\n        </div></el-col\r\n      >\r\n    </el-row>\r\n\r\n    <el-card class=\"news__list\">\r\n      <div\r\n        class=\"news__item\"\r\n        v-for=\"(article, index) in orderArticleList\"\r\n        :key=\"index\"\r\n      >\r\n        <article class=\"news-article\">\r\n          <div class=\"news-article__title\">\r\n            <h3>\r\n              <el-link\r\n                @click=\"$router.push({ \r\n                  name: 'article_news_detail', \r\n                  params: { article_id: article.articleID }, \r\n                  query: { articleType: articleType },\r\n                })\"\r\n                >{{ article.title }}</el-link\r\n              >\r\n            </h3>\r\n          </div>\r\n\r\n          <p class=\"news-article__content\">{{ article.summary }}</p>\r\n          <el-row\r\n            type=\"flex\"\r\n            class=\"news-article__info normal-info-font normal-margin__tb\"\r\n            justify=\"space-between\"\r\n          >\r\n            <div class=\"news-article-author\">\r\n              <el-link href=\"#\">{{ article.authorName }} </el-link>\r\n            </div>\r\n            <div class=\"news-article-vg\">\r\n              <span> 浏览：{{ article.views }} </span>\r\n              <span>\r\n                点赞：{{ article.goods.length }}\r\n                <span></span>\r\n              </span>\r\n            </div>\r\n          </el-row>\r\n          <el-row\r\n            type=\"flex\"\r\n            justify=\"space-between\"\r\n            class=\"news-article__meta\"\r\n          >\r\n            <div class=\"news-article__tags\">\r\n              <el-tag\r\n                size=\"small\"\r\n                v-for=\"(tag, index) in article.tags\"\r\n                :key=\"index\"\r\n                >{{ tag }}</el-tag\r\n              >\r\n            </div>\r\n            <div class=\"news-article__date\">\r\n              {{ formatDate(article.created, dayjsNowTime) }}\r\n            </div>\r\n          </el-row>\r\n        </article>\r\n      </div>\r\n      <div\r\n        v-if=\"articleList.length === 0 && loadingArticle === false\"\r\n        class=\"article_empty\"\r\n      >\r\n        暂时还没有任何文章！\r\n      </div>\r\n      <div\r\n        v-if=\"loadingArticle\"\r\n        v-loading=\"loadingArticle\"\r\n        class=\"article-loading__wrapper\"\r\n      ></div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {ArticleProvider} from '@/provider/index';\r\nimport uuid from 'uuid/v4';\r\nexport default {\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    articleType: {\r\n      type: String,\r\n      default: 'news'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      articleList: [],\r\n      orderArticleList: [],\r\n      //要发布的文章ID\r\n      articleID: '',\r\n      dayjsNowTime: this.$dayjs(Date.now()),\r\n      searchVal: '',\r\n      sortData: {\r\n        sortSelectVal: '',\r\n        sortOptions: [\r\n          {\r\n            label: '按时间正序',\r\n            value: 'ascendingTime',\r\n            disabled: false\r\n          },\r\n          {\r\n            label: '按时间倒序',\r\n            value: 'reversedTime',\r\n            disabled: false\r\n          }\r\n        ]\r\n      },\r\n      loadingArticle: true,\r\n      articlesCountLimit: 12,\r\n      skipArticles: 0,\r\n    };\r\n  },\r\n  watch: {\r\n    'sortData.sortSelectVal': function(sortType) {\r\n      this.sortArticleList(sortType)\r\n    }\r\n  },\r\n  created() {\r\n    this.articleID = uuid().split('-').join('');\r\n    this.getArticles();\r\n  },\r\n  mounted() {\r\n    this.IntersectionObserverOfstickyHandler({\r\n      root: this.$el.querySelector('.news-list__header')\r\n    });\r\n  },\r\n  methods: {\r\n    formatDate(date, now) {\r\n      const created = this.$dayjs(date);\r\n      const sss = now.diff(created);\r\n      const minute = Math.ceil(sss / 1000 / 60);\r\n      const hour = Math.ceil(minute / 60);\r\n      const day = Math.ceil(hour / 24);\r\n      return minute > 59\r\n        ? hour > 23\r\n          ? day > 29\r\n            ? created.format('YYYY-MM-DD')\r\n            : `${day}天前`\r\n          : `${hour}小时前`\r\n        : `${minute}分钟前`;\r\n    },\r\n    getArticles() {\r\n      ArticleProvider.getArticles({\r\n        articleType: this.articleType,\r\n        skipArticles: this.skipArticles,\r\n        articlesCountLimit: this.articlesCountLimit\r\n      })\r\n        .then(res => {\r\n          if (res.data.code === 1) {\r\n            this.articleList = res.data.data;\r\n            this.skipArticles += this.articlesCountLimit;\r\n          }\r\n          this.sortArticleList('ascendingTime')\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {\r\n          this.loadingArticle = false;\r\n        });\r\n    },\r\n    IntersectionObserverOfstickyHandler({\r\n      root,\r\n      stickyClassName = 'sticky__element'\r\n    }) {\r\n      const observedEl = document.createElement('div');\r\n      observedEl.style.position = 'absolute';\r\n      observedEl.style.top = '0';\r\n      const rootParent = root.parentElement\r\n        ? root.parentElement\r\n        : document.documentElement;\r\n      rootParent.insertBefore(observedEl, root);\r\n      const observerHandler = entries => {\r\n        if (entries[0].isIntersecting === false) {\r\n          root.classList.add('sticky__element');\r\n        } else if (entries[0].isIntersecting === true) {\r\n          root.classList.remove('sticky__element');\r\n        }\r\n        // entries.map(item => {\r\n        //   if (item.intersectionRatio > 0) {\r\n        //     console.log(item);\r\n        //   } else {\r\n        //     console.log(item);\r\n        //   }\r\n        // });\r\n      };\r\n      const intersectionObserver = new IntersectionObserver(observerHandler);\r\n\r\n      intersectionObserver.observe(observedEl);\r\n    },\r\n    sortArticleList(sortType) {\r\n      const dayjs = this.$dayjs;\r\n      const direction = sortType === 'ascendingTime' ? -1 : 1;\r\n      this.orderArticleList = this.articleList.sort((x, y) => {\r\n        return dayjs(x.created).isAfter(dayjs(y.created))\r\n          ? direction\r\n          : -direction;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.article-loading__wrapper {\r\n  height: 120px;\r\n}\r\n.news-list__wrapper {\r\n  min-width: 720px;\r\n  > .news__list {\r\n    margin-top: 28px;\r\n    > .el-card__body {\r\n      padding: 0;\r\n    }\r\n  }\r\n  > .news-list__header {\r\n    > .post-news__wrapper {\r\n      text-align: right;\r\n      > .post-news {\r\n        > .post-news-btn {\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.normal-margin__tb {\r\n  margin: 15px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.normal-info-font {\r\n  color: #999;\r\n}\r\n// .news-list__wrapper {\r\n//   display: flex;\r\n// }\r\n.news-article {\r\n  padding: 25px;\r\n  border-radius: 5px;\r\n  transition: background-color 0.2s ease-in-out;\r\n}\r\n\r\n.news-article:hover {\r\n  background-color: #f9fafb;\r\n}\r\n.article-text {\r\n}\r\n.news-article__title {\r\n  h3 {\r\n    margin: 0;\r\n  }\r\n}\r\n.news-article__content {\r\n  line-height: 24px;\r\n  height: 48px;\r\n  overflow: hidden;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  color: #909399;\r\n  font-size: 14px;\r\n}\r\n.news-article__tags {\r\n  span {\r\n    margin-right: 10px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n  }\r\n}\r\n.news-article__date {\r\n  color: #909399;\r\n  font-size: 12px;\r\n  line-height: 24px;\r\n}\r\n\r\n.article_empty {\r\n  padding: 5rem;\r\n  text-align: center;\r\n  color: #909090;\r\n}\r\n.sticky__element {\r\n  position: fixed;\r\n  top: 0;\r\n  background-color: white;\r\n  z-index: 9999;\r\n  width: 100%;\r\n  /* height: 38px; */\r\n  padding: 0 25.5% 0 25.5%;\r\n  left: 0;\r\n  min-width: 720px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleList.vue?vue&type=template&id=36108876&\"\nimport script from \"./ArticleList.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n"],"sourceRoot":""}