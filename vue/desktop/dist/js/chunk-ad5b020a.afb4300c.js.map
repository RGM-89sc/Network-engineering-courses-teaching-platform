{"version":3,"sources":["webpack:///./src/views/childrenViews/QaQuestions.vue?4001","webpack:///./src/components/TheBaseRichInput.vue?e990","webpack:///./src/components/TheBaseRichInput.vue?db62","webpack:///src/components/TheBaseRichInput.vue","webpack:///./src/components/TheBaseRichInput.vue?86a3","webpack:///./src/components/TheBaseRichInput.vue","webpack:///./src/views/childrenViews/QaQuestions.vue?dc4a","webpack:///src/views/childrenViews/QaQuestions.vue","webpack:///./src/views/childrenViews/QaQuestions.vue?53da","webpack:///./src/views/childrenViews/QaQuestions.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","checkIfLogin","attrs","_v","_s","currentMode","title","disabled","model","value","question","callback","$$v","$set","expression","_e","ref","editor","editorConfig","$event","content","$emit","submitText","staticRenderFns","name","props","type","Object","default","Boolean","uploadImageUrl","String","mode","data","questioning","titleTips","hasTitle","tagsTips","hasTags","answering","plugins","toolbar","items","ckfinder","uploadUrl","options","resourceType","computed","methods","component","selectData","_l","item","key","label","searchData","singlePageQuestions","loading","scopedSlots","_u","fn","scope","viewQuestionDetails","currentPage","offset","totalItems","handleCurPageChange","isLogin","$serverBaseUrl","user","upload"],"mappings":"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0CACA,+CACA,cAKA,SACA,oBADA,SACA,GACA,8BAEA,oBAJA,SAIA,GACA,mBACA,2DAGA,eATA,WASA,WACA,wBAEA,WACA,OACA,kBACA,oBACA,wBADA,2BAEA,sFACA,qCACA,cAEA,mCANA,uFAUA,mBACA,kBAEA,yBAEA,qBA9BA,WAgCA,IADA,EACA,uDADA,4BAEA,gBACA,eACA,aAEA,OADA,6BACA,EAGA,UAEA,eA1CA,WA0CA,WACA,kCACA,uBACA,sBACA,iBAEA,iBACA,8BACA,QACA,mBACA,kBACA,iBACA,YACA,gBACA,iBAGA,gBACA,qBAGA,6BAGA,mBACA,yBACA,qBAGA,uBAEA,OAzEA,WA0EA,oDAEA,WA5EA,WA4EA,WACA,4BACA,uBACA,qBACA,mCAIA,iBApFA,WAoFA,kEACA,4CAGA,QApJA,WAsJA,GADA,sBACA,cACA,oBACA,4BACA,oCACA,oCACA,sCAIA,YACA,mBC7QoW,I,wBCQhW0B,EAAY,eACd,EACAzD,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAA0B,E","file":"js/chunk-ad5b020a.afb4300c.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QaQuestions.vue?vue&type=style&index=0&id=49714c22&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QaQuestions.vue?vue&type=style&index=0&id=49714c22&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBaseRichInput.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBaseRichInput.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"base-rich-input\"},[_c('div',{on:{\"click\":_vm.checkIfLogin}},[_c('el-card',{staticClass:\"rich-text\",attrs:{\"shadow\":\"hover\"}},[_c('el-row',{attrs:{\"type\":\"flex\"}},[_c('h1',[_vm._v(_vm._s(_vm.currentMode.title))])]),_c('el-row',{staticClass:\"rich-text__header\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":12}},[(_vm.currentMode.hasTitle)?_c('el-input',{attrs:{\"maxlength\":\"30\",\"clearable\":\"\",\"show-word-limit\":\"\",\"placeholder\":\"请输入问题的标题...\",\"disabled\":_vm.disabled},model:{value:(_vm.question.title),callback:function ($$v) {_vm.$set(_vm.question, \"title\", $$v)},expression:\"question.title\"}}):_vm._e()],1),_c('el-col',{attrs:{\"span\":6}},[(_vm.currentMode.hasTags)?_c('el-input',{attrs:{\"maxlength\":\"12\",\"clearable\":\"\",\"show-word-limit\":\"\",\"placeholder\":\"为问题选择/输入一个标签...\",\"disabled\":_vm.disabled},model:{value:(_vm.question.tag),callback:function ($$v) {_vm.$set(_vm.question, \"tag\", $$v)},expression:\"question.tag\"}}):_vm._e()],1)],1),_c('ckeditor',{ref:\"questioningEditor\",staticClass:\"ckeditor_base\",attrs:{\"editor\":_vm.editor,\"config\":_vm.editorConfig,\"disabled\":_vm.disabled},model:{value:(_vm.question.content),callback:function ($$v) {_vm.$set(_vm.question, \"content\", $$v)},expression:\"question.content\"}}),_c('el-row',{staticClass:\"rich-text__footer\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.question.content = ''}}},[_vm._v(\"清空内容\")])],1),_c('el-col',{attrs:{\"span\":2.5}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('upload')}}},[_vm._v(_vm._s(_vm.currentMode.submitText))])],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"base-rich-input\">\r\n    <div @click=\"checkIfLogin\">\r\n      <el-card class=\"rich-text\" shadow=\"hover\">\r\n        <el-row type=\"flex\">\r\n          <h1>{{ currentMode.title }}</h1>\r\n        </el-row>\r\n        <el-row type=\"flex\" justify=\"space-between\" class=\"rich-text__header\">\r\n          <el-col :span=\"12\">\r\n            <el-input\r\n              v-if=\"currentMode.hasTitle\"\r\n              v-model=\"question.title\"\r\n              maxlength=\"30\"\r\n              clearable\r\n              show-word-limit\r\n              placeholder=\"请输入问题的标题...\"\r\n              :disabled=\"disabled\"\r\n            ></el-input\r\n          ></el-col>\r\n          <el-col :span=\"6\">\r\n            <el-input\r\n              v-if=\"currentMode.hasTags\"\r\n              v-model=\"question.tag\"\r\n              maxlength=\"12\"\r\n              clearable\r\n              show-word-limit\r\n              placeholder=\"为问题选择/输入一个标签...\"\r\n              :disabled=\"disabled\"\r\n            ></el-input>\r\n          </el-col>\r\n        </el-row>\r\n        <ckeditor\r\n          class=\"ckeditor_base\"\r\n          ref=\"questioningEditor\"\r\n          :editor=\"editor\"\r\n          v-model=\"question.content\"\r\n          :config=\"editorConfig\"\r\n          :disabled=\"disabled\"\r\n        ></ckeditor>\r\n        <el-row class=\"rich-text__footer\" type=\"flex\" justify=\"space-between\">\r\n          <el-col :span=\"5\">\r\n            <el-button type=\"danger\" @click=\"question.content = ''\"\r\n              >清空内容</el-button\r\n            ></el-col\r\n          >\r\n          <el-col :span=\"2.5\">\r\n            <el-button type=\"primary\" @click=\"$emit('upload')\">{{\r\n              currentMode.submitText\r\n            }}</el-button></el-col\r\n          >\r\n        </el-row>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ClassicEditor from '@ckeditor/ckeditor5-editor-classic/src/classiceditor';\r\n\r\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials';\r\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading';\r\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold';\r\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic';\r\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font';\r\nimport UnderlinePlugin from '@ckeditor/ckeditor5-basic-styles/src/underline';\r\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment';\r\nimport SuperScriptPlugin from '@ckeditor/ckeditor5-basic-styles/src/superscript';\r\nimport CodePlugin from '@ckeditor/ckeditor5-basic-styles/src/code';\r\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link';\r\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph';\r\nimport CKFinder from '@ckeditor/ckeditor5-ckfinder/src/ckfinder';\r\nimport Image from '@ckeditor/ckeditor5-image/src/image';\r\nimport ImageToolbar from '@ckeditor/ckeditor5-image/src/imagetoolbar';\r\nimport ImageUpload from '@ckeditor/ckeditor5-image/src/imageupload';\r\nimport ImageCaption from '@ckeditor/ckeditor5-image/src/imagecaption';\r\nimport ImageStyle from '@ckeditor/ckeditor5-image/src/imagestyle';\r\nexport default {\r\n  name: 'baseRichInput',\r\n  props: {\r\n    question: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: {}\r\n    },\r\n    uploadImageUrl: {\r\n      type: String\r\n    },\r\n    mode: {\r\n      type: String,\r\n      default: () => {\r\n        return 'questioning';\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      questioning: {\r\n        submitText: '提交问题',\r\n        titleTips: '请输入问题的标题',\r\n        hasTitle: true,\r\n        tagsTips: '为问题输入/选择一个标签',\r\n        hasTags: true,\r\n        title: '提问题'\r\n      },\r\n      answering: {\r\n        submitText: '提交回答',\r\n        titleTips: '',\r\n        hasTitle: false,\r\n        tagsTips: '',\r\n        hasTags: false,\r\n        title: '回答问题'\r\n      },\r\n      editor: ClassicEditor,\r\n      editorConfig: {\r\n        plugins: [\r\n          EssentialsPlugin,\r\n          HeadingPlugin,\r\n          BoldPlugin,\r\n          ItalicPlugin,\r\n          FontPlugin,\r\n          UnderlinePlugin,\r\n          AlignmentPlugin,\r\n          SuperScriptPlugin,\r\n          CodePlugin,\r\n          LinkPlugin,\r\n          ParagraphPlugin,\r\n          CKFinder,\r\n          Image,\r\n          ImageToolbar,\r\n          ImageUpload,\r\n          ImageCaption,\r\n          ImageStyle\r\n        ],\r\n\r\n        toolbar: {\r\n          items: [\r\n            'heading',\r\n            '|',\r\n            'link',\r\n            'imageUpload',\r\n            // 'imageStyle:full',\r\n            // 'imageStyle:side',\r\n            '|',\r\n            'bold',\r\n            'italic',\r\n            'fontSize',\r\n            'underline',\r\n            'superscript',\r\n            'code',\r\n            '|',\r\n            'alignment:left',\r\n            'alignment:right',\r\n            'alignment:center',\r\n            'alignment:justify',\r\n            '|',\r\n            'undo',\r\n            'redo'\r\n          ]\r\n        },\r\n\r\n        ckfinder: {\r\n          // Upload the images to the server using the CKFinder QuickUpload command.\r\n          uploadUrl: this.uploadImageUrl,\r\n          options: {\r\n            resourceType: '.jpg,.jpeg,.png'\r\n          }\r\n        }\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    currentMode() {\r\n      return this.mode === 'questioning' ? this.questioning : this.answering;\r\n    }\r\n  },\r\n  methods: {\r\n    checkIfLogin() {\r\n      this.$emit('checkIfLogin');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.rich-text {\r\n  margin-top: 20px;\r\n}\r\n\r\n.rich-text__footer {\r\n  margin-top: 20px;\r\n}\r\n.rich-text__header {\r\n  margin-bottom: 20px;\r\n}\r\n.ckeditor_base {\r\n  + .ck-editor {\r\n    > .ck-editor__main {\r\n      > .ck-content {\r\n        min-height: 30vh;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBaseRichInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBaseRichInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheBaseRichInput.vue?vue&type=template&id=8ac05528&\"\nimport script from \"./TheBaseRichInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TheBaseRichInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheBaseRichInput.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"qa-view\",attrs:{\"name\":\"qa-view\"}},[_c('div',{staticClass:\"cmt\"},[_c('el-row',{staticClass:\"cmt__header\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectData.value),callback:function ($$v) {_vm.$set(_vm.selectData, \"value\", $$v)},expression:\"selectData.value\"}},_vm._l((_vm.selectData.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-input',{attrs:{\"placeholder\":\"请输入搜索内容...\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.searchData.value),callback:function ($$v) {_vm.$set(_vm.searchData, \"value\", $$v)},expression:\"searchData.value\"}})],1)],1),_c('div',{staticClass:\"cmt-content\"},[_c('el-row',[_c('el-col',[_c('div',{staticClass:\"cmt__content__table\"},[_c('el-table',{attrs:{\"data\":_vm.singlePageQuestions,\"stripe\":\"\",\"highlight-current-row\":\"\",\"loading\":_vm.loading}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"questionerName\",\"label\":\"姓名\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"tag\",\"label\":\"问题标签\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"created\",\"label\":\"提出时间\",\"sortable\":\"\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"replysLength\",\"label\":\"回答数\",\"sortable\":\"\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"label\":\"\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini \"},on:{\"click\":function($event){return _vm.viewQuestionDetails(scope)}}},[_vm._v(\"查看\")])]}}])})],1)],1)])],1)],1),_c('el-row',{staticClass:\"cmt-index\"},[_c('el-col',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":this.offset,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.totalItems,\"background\":\"\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"current-change\":_vm.handleCurPageChange}})],1)],1)],1),_c('RichInput',{ref:\"qaRichInput\",attrs:{\"question\":_vm.question,\"disabled\":!_vm.isLogin,\"uploadImageUrl\":(_vm.$serverBaseUrl + \"/api/uploadQaImage?questionerID=\" + (_vm.user.id)),\"mode\":\"questioning\"},on:{\"update:question\":function($event){_vm.question=$event},\"upload\":_vm.upload}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div name=\"qa-view\" class=\"qa-view\">\r\n\t\t<div class=\"cmt\">\r\n\t\t\t<el-row class=\"cmt__header\" type=\"flex\" justify=\"space-between\">\r\n\t\t\t\t<el-col :span=\"5\">\r\n\t\t\t\t\t<el-select v-model=\"selectData.value\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in selectData.options\"\r\n\t\t\t\t\t\t\t:key=\"item.value\"\r\n\t\t\t\t\t\t\t:label=\"item.label\"\r\n\t\t\t\t\t\t\t:value=\"item.value\"\r\n\t\t\t\t\t\t></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"5\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tplaceholder=\"请输入搜索内容...\"\r\n\t\t\t\t\t\tv-model=\"searchData.value\"\r\n\t\t\t\t\t\tprefix-icon=\"el-icon-search\"\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<div class=\"cmt-content\">\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col>\r\n\t\t\t\t\t\t<div class=\"cmt__content__table\">\r\n\t\t\t\t\t\t\t<el-table\r\n\t\t\t\t\t\t\t\t:data=\"singlePageQuestions\"\r\n\t\t\t\t\t\t\t\tstripe\r\n\t\t\t\t\t\t\t\thighlight-current-row\r\n\t\t\t\t\t\t\t\t:loading=\"loading\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\t\t\t\tprop=\"title\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"标题\"\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t<!-- <el-table-column prop=\"specialty\" label=\"专业\" align=\"left\">\r\n                </el-table-column> -->\r\n\t\t\t\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\t\t\t\tprop=\"questionerName\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"姓名\"\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\t\t\t\tprop=\"tag\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"问题标签\"\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\t\t\t\tprop=\"created\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"提出时间\"\r\n\t\t\t\t\t\t\t\t\tsortable\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\t\t\t\tprop=\"replysLength\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"回答数\"\r\n\t\t\t\t\t\t\t\t\tsortable\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t></el-table-column>\r\n\t\t\t\t\t\t\t\t<el-table-column label=\"\" align=\"center\">\r\n\t\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"mini \"\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"viewQuestionDetails(scope)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>查看</el-button\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t\t</div></el-col\r\n\t\t\t\t\t>\r\n\t\t\t\t</el-row>\r\n\t\t\t</div>\r\n\r\n\t\t\t<el-row class=\"cmt-index\">\r\n\t\t\t\t<el-col>\r\n\t\t\t\t\t<el-pagination\r\n\t\t\t\t\t\t:current-page.sync=\"currentPage\"\r\n\t\t\t\t\t\t:page-size=\"this.offset\"\r\n\t\t\t\t\t\tlayout=\"prev, pager, next, jumper\"\r\n\t\t\t\t\t\t:total=\"totalItems\"\r\n\t\t\t\t\t\t@current-change=\"handleCurPageChange\"\r\n\t\t\t\t\t\tbackground\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</el-pagination>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</div>\r\n\t\t<RichInput\r\n\t\t\t:question.sync=\"question\"\r\n\t\t\t:disabled=\"!isLogin\"\r\n\t\t\t:uploadImageUrl=\"\r\n\t\t\t\t`${$serverBaseUrl}/api/uploadQaImage?questionerID=${user.id}`\r\n\t\t\t\"\r\n\t\t\t@upload=\"upload\"\r\n\t\t\tmode=\"questioning\"\r\n\t\t\tref=\"qaRichInput\"\r\n\t\t/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport RichInput from '@/components/TheBaseRichInput';\r\nexport default {\r\n\tname: 'qaview',\r\n\tprops: {\r\n\t\tuser: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: {}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tselectData: {\r\n\t\t\t\toptions: [],\r\n\t\t\t\tvalue: ''\r\n\t\t\t},\r\n\t\t\tsearchData: {\r\n\t\t\t\tvalue: ''\r\n\t\t\t},\r\n\t\t\t/*Questions Data STARTS*/\r\n\t\t\tquestions: [],\r\n\t\t\tindex: 0,\r\n\t\t\toffset: 8,\r\n\t\t\t/*Questions Data ENDS*/\r\n\t\t\tloading: true,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tquestion: {\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tquestionerID: '',\r\n\t\t\t\tquestionerName: '',\r\n\t\t\t\tquestionerAvatar: '',\r\n\t\t\t\tquestionerType: '',\r\n\t\t\t\ttag: '',\r\n\t\t\t\treplys: []\r\n\t\t\t},\r\n\t\t\tuploadImageUrl: '',\r\n\t\t\trichInputMode: ''\r\n\t\t};\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tisLogin() {\r\n\t\t\treturn this.user.id;\r\n\t\t},\r\n\t\ttotalItems() {\r\n\t\t\treturn this.questions.length;\r\n\t\t},\r\n\t\tsinglePageQuestions() {\r\n\t\t\treturn (\r\n\t\t\t\tthis.searchQuestions ||\r\n\t\t\t\tthis.questions.slice(this.index, this.index + this.offset)\r\n\t\t\t);\r\n\t\t},\r\n\t\tsearchQuestions() {\r\n\t\t\treturn this.questions.filter(question => {\r\n\t\t\t\treturn new RegExp(this.searchData.value, 'i').test(\r\n\t\t\t\t\tquestion.title\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\thandleCurPageChange(val) {\r\n\t\t\tthis.index = (val - 1) * this.offset;\r\n\t\t},\r\n\t\tviewQuestionDetails(scope) {\r\n\t\t\tthis.$router.push({\r\n\t\t\t\tpath: `${this.$route.path}/${scope.row.qaID}`\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetQaQuestions() {\r\n\t\t\tconst url = '/api/getQaQuestions';\r\n\t\t\tlet data = [];\r\n\t\t\tthis.$http\r\n\t\t\t\t.get(url)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.data.code === 1) {\r\n\t\t\t\t\t\tthis.questions = res.data.data;\r\n\t\t\t\t\t\tfor (let i of this.questions) {\r\n\t\t\t\t\t\t\ti.created = this.$dayjs(i.created).format(\r\n\t\t\t\t\t\t\t\t'YYYY-MM-DD'\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\ti['replysLength'] = i.replys.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {});\r\n\t\t},\r\n\t\tbeforeUploadQuestion(\r\n\t\t\tcheckVals = { title: '标题', content: '问题内容' }\r\n\t\t) {\r\n\t\t\tconst Q = this.question;\r\n\t\t\tfor (let i in checkVals) {\r\n\t\t\t\tif (Q[i] === '') {\r\n\t\t\t\t\tthis.emptyUploadToast(checkVals[i]);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tuploadQuestion() {\r\n\t\t\tthis.$confirm('是否确认提交问题?', '确认提交', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tconst url = '/api/uploadQaQuestion';\r\n\t\t\t\t\tthis.$http\r\n\t\t\t\t\t\t.post(url, this.question)\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tif (res.data.code === 1) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: '提交成功！',\r\n\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t// this.getQaQuestions();\r\n\t\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\t\tpath: '/emptyPage'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message.error('提交失败！');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tthis.$message.error('提交失败');\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {});\r\n\t\t},\r\n\t\tupload() {\r\n\t\t\tthis.beforeUploadQuestion() && this.uploadQuestion();\r\n\t\t},\r\n\t\tloginToast() {\r\n\t\t\tthis.$alert('请先登录！', '登录提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcallback: action => {\r\n\t\t\t\t\tthis.$router.push({ path: '/auth' });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\temptyUploadToast(message = '内容') {\r\n\t\t\tthis.$message.error(`${message}不能为空！`);\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getQaQuestions();\r\n\t\tif (this.isLogin) {\r\n\t\t\tconst Q = this.question;\r\n\t\t\tQ.questionerID = this.user.id;\r\n\t\t\tQ.questionerName = this.user.username;\r\n\t\t\tQ.questionerAvatar = this.user.avatar;\r\n\t\t\tQ.questionerType = this.user.usertype;\r\n\t\t\t// Q.questionerFaculty = this.user.faculty;\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tRichInput\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cmt {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n.cmt__header {\r\n\tpadding-bottom: 20px;\r\n}\r\n.cmt-index {\r\n\tmargin-top: 50px;\r\n}\r\n.cmt__content__table {\r\n\tmin-height: 490px;\r\n}\r\n.el-pagination {\r\n\tmargin-left: -10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QaQuestions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QaQuestions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QaQuestions.vue?vue&type=template&id=49714c22&scoped=true&\"\nimport script from \"./QaQuestions.vue?vue&type=script&lang=js&\"\nexport * from \"./QaQuestions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QaQuestions.vue?vue&type=style&index=0&id=49714c22&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49714c22\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}