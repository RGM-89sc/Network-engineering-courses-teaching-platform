(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b54a0218"],{2366:function(t,e){for(var s=[],a=0;a<256;++a)s[a]=(a+256).toString(16).substr(1);function i(t,e){var a=e||0,i=s;return[i[t[a++]],i[t[a++]],i[t[a++]],i[t[a++]],"-",i[t[a++]],i[t[a++]],"-",i[t[a++]],i[t[a++]],"-",i[t[a++]],i[t[a++]],"-",i[t[a++]],i[t[a++]],i[t[a++]],i[t[a++]],i[t[a++]],i[t[a++]]].join("")}t.exports=i},2562:function(t,e,s){"use strict";var a=s("e728"),i=s.n(a);i.a},"2f21":function(t,e,s){"use strict";var a=s("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},3341:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"news-list__wrapper"},[s("el-row",{staticClass:"news-list__header",attrs:{type:"flex",justify:"space-between"}},[s("el-col",{attrs:{span:5}},[s("el-select",{attrs:{placeholder:"请选择排序方式"},model:{value:t.sortData.sortSelectVal,callback:function(e){t.$set(t.sortData,"sortSelectVal",e)},expression:"sortData.sortSelectVal"}},t._l(t.sortData.sortOptions,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1)],1),s("el-col",{staticClass:"post-news__wrapper",attrs:{span:19}},[s("div",{staticClass:"post-news"},[s("el-button",{staticClass:"post-news-btn",attrs:{type:"primary"},on:{click:function(e){return t.$router.push({path:"/"+t.articleType+"/addArticle?articleID="+t.articleID+"&articleType="+t.articleType})}}},[t._v("发布文章")])],1)])],1),s("el-card",{staticClass:"news__list"},[t._l(t.orderArticleList,(function(e,a){return s("div",{key:a,staticClass:"news__item"},[s("article",{staticClass:"news-article"},[s("div",{staticClass:"news-article__title"},[s("h3",[s("el-link",{on:{click:function(s){return t.$router.push({name:"article_news_detail",params:{article_id:e.articleID},query:{articleType:t.articleType}})}}},[t._v(t._s(e.title))])],1)]),s("p",{staticClass:"news-article__content"},[t._v(t._s(e.summary))]),s("el-row",{staticClass:"news-article__info normal-info-font normal-margin__tb",attrs:{type:"flex",justify:"space-between"}},[s("div",{staticClass:"news-article-author"},[s("el-link",{attrs:{href:"#"}},[t._v(t._s(e.authorName)+" ")])],1),s("div",{staticClass:"news-article-vg"},[s("span",[t._v(" 浏览："+t._s(e.views)+" ")]),s("span",[t._v("\n              点赞："+t._s(e.goods.length)+"\n              "),s("span")])])]),s("el-row",{staticClass:"news-article__meta",attrs:{type:"flex",justify:"space-between"}},[s("div",{staticClass:"news-article__tags"},t._l(e.tags,(function(e,a){return s("el-tag",{key:a,attrs:{size:"small"}},[t._v(t._s(e))])})),1),s("div",{staticClass:"news-article__date"},[t._v("\n            "+t._s(t.formatDate(e.created,t.dayjsNowTime))+"\n          ")])])],1)])})),0===t.articleList.length&&!1===t.loadingArticle?s("div",{staticClass:"article_empty"},[t._v("\n      暂时还没有任何文章！\n    ")]):t._e(),t.loadingArticle?s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingArticle,expression:"loadingArticle"}],staticClass:"article-loading__wrapper"}):t._e()],2)],1)},i=[],r=(s("55dd"),s("28a5"),s("915c")),n=s("c64e"),l=s.n(n),c={props:{user:{type:Object,default:{}},articleType:{type:String,default:"news"}},data:function(){return{articleList:[],orderArticleList:[],articleID:"",dayjsNowTime:this.$dayjs(Date.now()),searchVal:"",sortData:{sortSelectVal:"",sortOptions:[{label:"按时间正序",value:"ascendingTime",disabled:!1},{label:"按时间倒序",value:"reversedTime",disabled:!1}]},loadingArticle:!0,articlesCountLimit:12,skipArticles:0}},watch:{"sortData.sortSelectVal":function(t){this.sortArticleList(t)}},created:function(){this.articleID=l()().split("-").join(""),this.getArticles()},mounted:function(){this.IntersectionObserverOfstickyHandler({root:this.$el.querySelector(".news-list__header")})},methods:{formatDate:function(t,e){var s=this.$dayjs(t),a=e.diff(s),i=Math.ceil(a/1e3/60),r=Math.ceil(i/60),n=Math.ceil(r/24);return i>59?r>23?n>29?s.format("YYYY-MM-DD"):"".concat(n,"天前"):"".concat(r,"小时前"):"".concat(i,"分钟前")},getArticles:function(){var t=this;r["a"].getArticles({articleType:this.articleType,skipArticles:this.skipArticles,articlesCountLimit:this.articlesCountLimit}).then((function(e){1===e.data.code&&(t.articleList=e.data.data,t.skipArticles+=t.articlesCountLimit),t.sortArticleList("ascendingTime")})).catch((function(t){console.log(t)})).finally((function(){t.loadingArticle=!1}))},IntersectionObserverOfstickyHandler:function(t){var e=t.root,s=(t.stickyClassName,document.createElement("div"));s.style.position="absolute",s.style.top="0";var a=e.parentElement?e.parentElement:document.documentElement;a.insertBefore(s,e);var i=function(t){!1===t[0].isIntersecting?e.classList.add("sticky__element"):!0===t[0].isIntersecting&&e.classList.remove("sticky__element")},r=new IntersectionObserver(i);r.observe(s)},sortArticleList:function(t){var e=this.$dayjs,s="ascendingTime"===t?-1:1;this.orderArticleList=this.articleList.sort((function(t,a){return e(t.created).isAfter(e(a.created))?s:-s}))}}},o=c,u=(s("2562"),s("2877")),d=Object(u["a"])(o,a,i,!1,null,null,null);e["default"]=d.exports},"55dd":function(t,e,s){"use strict";var a=s("5ca1"),i=s("d8e8"),r=s("4bf8"),n=s("79e5"),l=[].sort,c=[1,2,3];a(a.P+a.F*(n((function(){c.sort(void 0)}))||!n((function(){c.sort(null)}))||!s("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(r(this)):l.call(r(this),i(t))}})},c64e:function(t,e,s){var a=s("e1f4"),i=s("2366");function r(t,e,s){var r=e&&s||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var n=t.random||(t.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var l=0;l<16;++l)e[r+l]=n[l];return e||i(n)}t.exports=r},e1f4:function(t,e){var s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(s){var a=new Uint8Array(16);t.exports=function(){return s(a),a}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},e728:function(t,e,s){}}]);
//# sourceMappingURL=chunk-b54a0218.dcc1d305.js.map