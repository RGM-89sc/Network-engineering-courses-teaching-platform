(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d0c4bfa"],{"16bf":function(t,e,a){"use strict";var r=a("dd67"),n=a.n(r);n.a},2366:function(t,e){for(var a=[],r=0;r<256;++r)a[r]=(r+256).toString(16).substr(1);function n(t,e){var r=e||0,n=a;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}t.exports=n},"7d54":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-article__wrapper"},[a("el-card",{staticClass:"add-article__content"},[a("div",{staticClass:"add-article-title"},[a("el-input",{attrs:{placeholder:"无标题",maxlength:64,clearable:!0},model:{value:t.article.title,callback:function(e){t.$set(t.article,"title",e)},expression:"article.title"}})],1),a("ckeditor",{staticClass:"post-article-editor",attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}}),a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"简单概括一下文章内容",maxlength:64,clearble:!0},model:{value:t.article.summary,callback:function(e){t.$set(t.article,"summary",e)},expression:"article.summary"}})],1),a("el-button",{attrs:{type:"primary"},on:{click:t.postArticle}},[t._v("发布文章")])],1)],1)],1)},n=[],i=a("915c"),o=a("0469"),c=a("290f"),l=a("8b25"),s=a("2d79"),u=a("d4c1"),p=a("62e5"),d=a("7041"),f=a("c4b1"),m=a("a599"),y=a("271b"),g=a("8068"),h=a("f61b"),b=a("41ae"),v=a("39a0"),w=a("56b3"),$=a("7212"),x=a("233a"),k=a("0bf6"),C=(a("c64e"),{props:{user:{type:Object,default:{}}},data:function(){return{article:{articleID:"",title:"",authorName:"",authorID:"",avatarURL:"",views:0,goods:[],tags:[],content:"",summary:"",posterURL:"/static/img/poster.png"},titleInput:"",editor:o["a"],editorData:"",editorConfig:{plugins:[c["a"],l["a"],s["a"],u["a"],p["a"],d["a"],f["a"],m["a"],y["a"],g["a"],h["a"],b["a"],v["a"],w["a"],$["a"],x["a"],k["a"]],toolbar:{items:["heading","|","link","imageUpload","imageStyle:full","imageStyle:side","|","bold","italic","fontSize","underline","superscript","code","|","alignment:left","alignment:right","alignment:center","alignment:justify","|","undo","redo"]},ckfinder:{uploadUrl:"".concat(this.$serverBaseUrl,"/api/postArticleImage?articleID=").concat(this.$route.query.articleID,"&type=").concat(this.$route.query.type),options:{resourceType:".jpg,.jpeg,.png"}}}}},created:function(){console.log(this.user)},methods:{beforePost:function(){var t=this.article;return""!==t.summary&&""!==t.title&&""!==t.content},postArticle:function(){var t=this;this.beforePost()?this.$confirm("是否确认发布文章？","确认发布",{confirmButtonText:"确定",cacelButtonText:"取消",type:"warning"}).then((function(){t.article.articleID=t.$route.query.articleID,t.article.authorName=t.user.username,t.article.authorID=t.user.id,t.article.avatarURL=t.user.avatar,t.article.articleType=t.$route.query.articleType,t.article.tags.push("techInfo"===t.article.articleType?"技术前沿":"新闻动态"),i["a"].postArticle(t.article).then((function(e){1===e.data.code?(t.$message({message:"发布成功！",type:"success"}),t.$router.push({path:"/".concat(t.article.articleType)})):(t.$message.error("发布失败！"),console.log(e.data.errMsg))})).catch((function(e){t.$message.error("发布失败！"),console.log(e)}))})):this.$alert("请将 内容/标题/概述 填写完整！","发布失败",{confirmButtonText:"确定",callback:function(t){}})}}}),I=C,D=(a("16bf"),a("2877")),T=Object(D["a"])(I,r,n,!1,null,null,null);e["default"]=T.exports},c64e:function(t,e,a){var r=a("e1f4"),n=a("2366");function i(t,e,a){var i=e&&a||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var c=0;c<16;++c)e[i+c]=o[c];return e||n(o)}t.exports=i},dd67:function(t,e,a){},e1f4:function(t,e){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var r=new Uint8Array(16);t.exports=function(){return a(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}}}]);
//# sourceMappingURL=chunk-3d0c4bfa.0a1548da.js.map