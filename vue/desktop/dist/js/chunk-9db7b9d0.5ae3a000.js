(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9db7b9d0"],{1169:function(t,e,a){var r=a("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"11e9":function(t,e,a){var r=a("52a7"),n=a("4630"),s=a("6821"),o=a("6a99"),c=a("69a8"),i=a("c69a"),u=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?u:function(t,e){if(t=s(t),e=o(e,!0),i)try{return u(t,e)}catch(a){}if(c(t,e))return n(!r.f.call(t,e),t[e])}},"1c51":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{type:"flex",gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-row",{staticClass:"header"},[a("el-col",{staticClass:"course-name",attrs:{span:14}},[t.courseDetail?a("span",[t._v(t._s(t.courseDetail.coursename))]):t._e()]),a("el-col",{staticClass:"toolsbar"},[1===t.user.userType&&t.user.id===t.courseDetail.tchID?[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){t.addChapter=!0}}},[t._v("新建章节")]),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:t.delCourse}},[t._v("删除课程")])]:t._e()],2)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!t.courseDetail.content||0===t.courseDetail.content.length,expression:"!courseDetail.content || courseDetail.content.length === 0"}],staticClass:"no-course-content-box"},[a("span",{staticClass:"no-course-content"},[t._v("暂无课程内容")])]),a("el-row",[a("el-timeline",t._l(t.courseDetail.content,(function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.stamp,placement:"top",size:"large"}},[t._l(e.part,(function(r){return a("el-card",{key:r.id,staticClass:"course-ch",attrs:{shadow:"always"}},[a("el-row",[a("el-col",{staticClass:"title",attrs:{span:18}},[a("span",{staticClass:"part-title",on:{click:function(a){return t.$router.push({path:t.$route.path+"/pd?c="+e.id+"&p="+r.id})}}},[t._v(t._s(r.title))]),t.lastread[0]===e.id&&t.lastread[1]===r.id?a("el-tag",{staticClass:"last-read",attrs:{type:"success",size:"small"}},[t._v("上次看到这里")]):t._e()],1),1===t.user.userType&&t.user.id===t.courseDetail.tchID?a("el-col",{staticClass:"control",attrs:{span:6}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.$router.push({path:t.$route.path+"/editCourse?id="+t.courseID+"&c="+e.id+"&p="+r.id})}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.delPart(e.id,r.id)}}},[t._v("删除")])],1):t._e()],1)],1)})),1===t.user.userType&&t.user.id===t.courseDetail.tchID?a("el-row",{staticClass:"ch-control"},[a("el-button",{attrs:{plain:"",icon:"el-icon-edit",size:"small"},on:{click:function(a){t.$router.push({path:t.$route.path+"/editCourse?id="+t.courseID+"&c="+e.id+"&p="+(t.getMaxPartID(e.part)+1)})}}},[t._v("新增单元")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){return t.delChapter(e.id)}}},[t._v("删除章节")])],1):t._e()],2)})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("TeacherCard",{attrs:{tch:t.courseDetail.tch?t.courseDetail.tch[0]:{}}}),a("StudentsCard",{attrs:{stus:t.courseDetail.stus}})],1),1===t.user.userType&&t.user.id===t.courseDetail.tchID?a("el-dialog",{attrs:{title:"添加章节",visible:t.addChapter,width:"30%","before-close":t.handleAddChapterClose},on:{"update:visible":function(e){t.addChapter=e}}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:20}},[a("el-form",{ref:"addChapter",attrs:{"label-position":"top","label-width":"80px",model:t.newChapter,"status-icon":"",rules:t.newChapterFormRules}},[a("el-form-item",{attrs:{label:"章节名称：",prop:"stamp"}},[a("el-input",{model:{value:t.newChapter.stamp,callback:function(e){t.$set(t.newChapter,"stamp",e)},expression:"newChapter.stamp"}})],1)],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addChapter=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addChapterToCourse}},[t._v("确 定")])],1)],1):t._e()],1)],1)},n=[],s=(a("ac6a"),a("915c")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"tch-card",attrs:{shadow:"always"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("教师简介")])]),a("el-row",{staticClass:"avatar-box"},[a("img",{staticClass:"avatar",attrs:{src:t.tch.avatar?t.tch.avatar:t.$serverBaseUrl+"/static/img/avatar/default.jpg",alt:""}}),a("span",{staticClass:"tch-name"},[t._v(t._s(t.tch.username))])]),a("el-row",{staticClass:"other-courses-box"},[a("span",{staticClass:"other-course-title"},[t._v("其他课程")]),0===t.teaching.length?a("span",{staticClass:"no-other-course"},[t._v("暂无该教师的其他课程")]):t._e(),t._l(t.teaching,(function(e,r){return a("span",{key:r,staticClass:"other-course"},[t._v(t._s(e.coursename))])}))],2)],1)},c=[],i={computed:{teaching:function(){var t=this;return this.tch.teaching?this.tch.teaching.filter((function(e){return e.courseID!==t.$route.params.course_id})):[]}},props:{tch:{type:Object,default:{}}}},u=i,l=(a("4318"),a("2877")),h=Object(l["a"])(u,o,c,!1,null,"e58bb29a",null),p=h.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{attrs:{shadow:"always"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("学习该课程的学生")])]),a("el-row",{staticClass:"stus-box"},[0===t.stus.length?a("el-row",[a("span",{staticClass:"no-stus"},[t._v("暂无学生学习该课程")])]):t._e(),t.stus.length>0?a("el-row",t._l(t.stus.slice(0,4),(function(t){return a("el-col",{key:t.id,attrs:{span:6}},[a("img",{staticClass:"stu-avatar",attrs:{src:t.avatar,alt:"",title:t.username}})])})),1):t._e(),t.stus.length>4?a("el-row",t._l(t.stus.slice(4,8),(function(t){return a("el-col",{key:t.id,attrs:{span:6}},[a("img",{staticClass:"stu-avatar",attrs:{src:t.avatar,alt:"",title:t.username}})])})),1):t._e(),t.stus.length>8?a("el-row",{staticClass:"see-all-stus"},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.checkingAllStu=!0}}},[t._v("查看全部")])],1):t._e()],1),t.stus.length>8?a("el-dialog",{attrs:{title:"学习该课程的学生",visible:t.checkingAllStu,width:"30%"},on:{"update:visible":function(e){t.checkingAllStu=e}}},[a("div",t._l(t.stus,(function(t){return a("img",{key:t.id,staticClass:"stu-avatar",attrs:{src:t.avatar,alt:"",title:t.username}})})),0),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.checkingAllStu=!1}}},[t._v("确 定")])],1)]):t._e()],1)},d=[],m={data:function(){return{checkingAllStu:!1}},props:{stus:{type:Array,default:function(){return[]}}}},v=m,g=(a("ebf1"),Object(l["a"])(v,f,d,!1,null,"172eb042",null)),b=g.exports,y=a("8cf0"),w={data:function(){return{courseID:"",courseDetail:{},newChapterFormRules:{stamp:[{required:!0,message:"请输入章节名称",trigger:"blur"}]},newChapter:{stamp:"",part:[]},addChapter:!1,lastread:[]}},props:{user:{type:Object,default:{}}},created:function(){this.courseID=this.$route.params.course_id,this.getCourseDetail()},methods:{getMaxPartID:function(t){var e=[];return t.forEach((function(t){e.push(t.id)})),0===e.length?-1:Math.max.apply(Math,e)},getMaxChapterID:function(){var t=[];return this.courseDetail.content.forEach((function(e){t.push(e.id)})),0===t.length?-1:Math.max.apply(Math,t)},getCourseDetail:function(){var t=this;s["b"].getCourseDetail({courseID:this.courseID}).then((function(e){if(1===e.data.code){e.data.data.bulletins=[],t.courseDetail=e.data.data;var a=JSON.parse(window.localStorage.getItem("course.".concat(t.courseID,".").concat(t.user.id,".lastread.part")));a&&(t.lastread=a)}-1===e.data.code&&t.$message.error("加载失败")})).catch((function(t){console.log(t)}))},addChapterToCourse:function(){var t=this;s["b"].addChapter({courseID:this.courseID,tchID:this.courseDetail.tchID,newChapter:{id:this.getMaxChapterID()+1,stamp:this.newChapter.stamp,part:this.newChapter.part}}).then((function(e){1===e.data.code&&(t.addChapter=!1,t.$router.push({path:"/emptyPage"})),0===e.data.code&&t.$message({message:e.data.info,type:"warning"}),-1===e.data.code&&(t.$alert("发生了错误导致章节添加失败","添加失败",{confirmButtonText:"确定"}),console.log(e.data.errMsg))})).catch((function(t){console.log(t)}))},delCourse:function(){var t=this;this.$confirm("此操作将删除该课程及其所有内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s["b"].delCourse({courseID:t.courseID,tchID:t.courseDetail.tchID}).then((function(e){1===e.data.code&&t.$router.push({path:"/emptyPage"}),0===e.data.code&&t.$message({message:e.data.info,type:"warning"}),-1===e.data.code&&(t.$alert("发生了错误导致课程删除失败","删除失败",{confirmButtonText:"确定"}),console.log(e.data.errMsg))})).catch((function(t){console.log(t)}))})).catch((function(){}))},delChapter:function(t){var e=this;this.$confirm("此操作将删除该章节, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log(s["b"].delChapter),s["b"].delChapter({courseID:e.courseID,tchID:e.courseDetail.tchID,chapter:t}).then((function(t){1===t.data.code&&e.$router.push({path:"/emptyPage"}),0===t.data.code&&e.$message({message:t.data.info,type:"warning"}),-1===t.data.code&&(e.$alert("发生了错误导致删除失败","删除失败",{confirmButtonText:"确定"}),console.log(t.data.errMsg))})).catch((function(t){console.log(t)}))})).catch((function(){}))},delPart:function(t,e){var a=this;this.$confirm("此操作将删除该单元, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s["b"].delPart("/api/delPart",{courseID:a.courseID,tchID:a.courseDetail.tchID,chapter:t,part:e}).then((function(t){1===t.data.code&&a.$router.push({path:"/emptyPage"}),0===t.data.code&&a.$message({message:t.data.info,type:"warning"}),-1===t.data.code&&(a.$alert("发生了错误导致删除失败","删除失败",{confirmButtonText:"确定"}),console.log(t.data.errMsg))})).catch((function(t){console.log(t)}))})).catch((function(){}))},handleAddChapterClose:function(){this.$refs.addChapter.resetFields(),this.addChapter=!1}},components:{TeacherCard:p,StudentsCard:b,TheBaseNavSideBar:y["a"]}},C=w,_=(a("a15a"),Object(l["a"])(C,r,n,!1,null,"2757e590",null));e["default"]=_.exports},"304d":function(t,e,a){},"37c8":function(t,e,a){e.f=a("2b4c")},"3a72":function(t,e,a){var r=a("7726"),n=a("8378"),s=a("2d00"),o=a("37c8"),c=a("86cc").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||c(e,t,{value:o.f(t)})}},4318:function(t,e,a){"use strict";var r=a("c911"),n=a.n(r);n.a},"67ab":function(t,e,a){var r=a("ca5a")("meta"),n=a("d3f4"),s=a("69a8"),o=a("86cc").f,c=0,i=Object.isExtensible||function(){return!0},u=!a("79e5")((function(){return i(Object.preventExtensions({}))})),l=function(t){o(t,r,{value:{i:"O"+ ++c,w:{}}})},h=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!i(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!s(t,r)){if(!i(t))return!0;if(!e)return!1;l(t)}return t[r].w},f=function(t){return u&&d.NEED&&i(t)&&!s(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:p,onFreeze:f}},"7bbc":function(t,e,a){var r=a("6821"),n=a("9093").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return n(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?c(t):n(r(t))}},"8a81":function(t,e,a){"use strict";var r=a("7726"),n=a("69a8"),s=a("9e1e"),o=a("5ca1"),c=a("2aba"),i=a("67ab").KEY,u=a("79e5"),l=a("5537"),h=a("7f20"),p=a("ca5a"),f=a("2b4c"),d=a("37c8"),m=a("3a72"),v=a("d4c0"),g=a("1169"),b=a("cb7c"),y=a("d3f4"),w=a("4bf8"),C=a("6821"),_=a("6a99"),D=a("4630"),x=a("2aeb"),$=a("7bbc"),I=a("11e9"),S=a("2621"),O=a("86cc"),k=a("0d58"),P=I.f,j=O.f,T=$.f,E=r.Symbol,M=r.JSON,N=M&&M.stringify,A="prototype",B=f("_hidden"),F=f("toPrimitive"),z={}.propertyIsEnumerable,J=l("symbol-registry"),R=l("symbols"),K=l("op-symbols"),L=Object[A],U="function"==typeof E&&!!S.f,W=r.QObject,Y=!W||!W[A]||!W[A].findChild,q=s&&u((function(){return 7!=x(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a}))?function(t,e,a){var r=P(L,e);r&&delete L[e],j(t,e,a),r&&t!==L&&j(L,e,r)}:j,G=function(t){var e=R[t]=x(E[A]);return e._k=t,e},Q=U&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},H=function(t,e,a){return t===L&&H(K,e,a),b(t),e=_(e,!0),b(a),n(R,e)?(a.enumerable?(n(t,B)&&t[B][e]&&(t[B][e]=!1),a=x(a,{enumerable:D(0,!1)})):(n(t,B)||j(t,B,D(1,{})),t[B][e]=!0),q(t,e,a)):j(t,e,a)},V=function(t,e){b(t);var a,r=v(e=C(e)),n=0,s=r.length;while(s>n)H(t,a=r[n++],e[a]);return t},X=function(t,e){return void 0===e?x(t):V(x(t),e)},Z=function(t){var e=z.call(this,t=_(t,!0));return!(this===L&&n(R,t)&&!n(K,t))&&(!(e||!n(this,t)||!n(R,t)||n(this,B)&&this[B][t])||e)},tt=function(t,e){if(t=C(t),e=_(e,!0),t!==L||!n(R,e)||n(K,e)){var a=P(t,e);return!a||!n(R,e)||n(t,B)&&t[B][e]||(a.enumerable=!0),a}},et=function(t){var e,a=T(C(t)),r=[],s=0;while(a.length>s)n(R,e=a[s++])||e==B||e==i||r.push(e);return r},at=function(t){var e,a=t===L,r=T(a?K:C(t)),s=[],o=0;while(r.length>o)!n(R,e=r[o++])||a&&!n(L,e)||s.push(R[e]);return s};U||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(a){this===L&&e.call(K,a),n(this,B)&&n(this[B],t)&&(this[B][t]=!1),q(this,t,D(1,a))};return s&&Y&&q(L,t,{configurable:!0,set:e}),G(t)},c(E[A],"toString",(function(){return this._k})),I.f=tt,O.f=H,a("9093").f=$.f=et,a("52a7").f=Z,S.f=at,s&&!a("2d00")&&c(L,"propertyIsEnumerable",Z,!0),d.f=function(t){return G(f(t))}),o(o.G+o.W+o.F*!U,{Symbol:E});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;rt.length>nt;)f(rt[nt++]);for(var st=k(f.store),ot=0;st.length>ot;)m(st[ot++]);o(o.S+o.F*!U,"Symbol",{for:function(t){return n(J,t+="")?J[t]:J[t]=E(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in J)if(J[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),o(o.S+o.F*!U,"Object",{create:X,defineProperty:H,defineProperties:V,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:at});var ct=u((function(){S.f(1)}));o(o.S+o.F*ct,"Object",{getOwnPropertySymbols:function(t){return S.f(w(t))}}),M&&o(o.S+o.F*(!U||u((function(){var t=E();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){var e,a,r=[t],n=1;while(arguments.length>n)r.push(arguments[n++]);if(a=e=r[1],(y(e)||void 0!==t)&&!Q(t))return g(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!Q(e))return e}),r[1]=e,N.apply(M,r)}}),E[A][F]||a("32e9")(E[A],F,E[A].valueOf),h(E,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},"8cf0":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{ref:"sideNavMenu",staticClass:"nav-menu",attrs:{"default-active":t.path,router:!0}},t._l(t.paths,(function(e,r){return a("el-menu-item",{key:r,attrs:{index:e.path}},[t._v("\n    "+t._s(e.name)+"\n  ")])})),1)},n=[],s=(a("ac4d"),a("8a81"),a("ac6a"),a("a481"),{name:"baseNavSideBar",props:{user:{type:Object}},data:function(){return{path:"/index",input:"",isAuthActive:!1,indexList:[],paths:[{path:"/index",name:"课程内容"},{path:"/notice",name:"课程公告"},{path:"/resources",name:"资源"},{path:"/exercise",name:"作业练习"},{path:"/exam",name:"考试"}]}},created:function(){this.baseURL="/course/"+this.$route.params.course_id;var t=!0,e=!1,a=void 0;try{for(var r,n=this.paths[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var s=r.value;s.path=this.baseURL+s.path}}catch(o){e=!0,a=o}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}this.path=this.$route.path.replace(/^((\/[^\/]+){3})(\/.+)/,"$1")},watch:{"$route.path":function(){this.$route.path.replace(/(\/[^\/]+)(\/+$)/g,"$1");this.path=this.$route.path.replace(/^((\/[^\/]+){3})(\/.+)/,"$1")}},methods:{}}),o=s,c=a("2877"),i=Object(c["a"])(o,r,n,!1,null,"186a4ee5",null);e["a"]=i.exports},9093:function(t,e,a){var r=a("ce10"),n=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},a15a:function(t,e,a){"use strict";var r=a("304d"),n=a.n(r);n.a},ac4d:function(t,e,a){a("3a72")("asyncIterator")},c911:function(t,e,a){},d4c0:function(t,e,a){var r=a("0d58"),n=a("2621"),s=a("52a7");t.exports=function(t){var e=r(t),a=n.f;if(a){var o,c=a(t),i=s.f,u=0;while(c.length>u)i.call(t,o=c[u++])&&e.push(o)}return e}},e5bc:function(t,e,a){},ebf1:function(t,e,a){"use strict";var r=a("e5bc"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-9db7b9d0.5ae3a000.js.map